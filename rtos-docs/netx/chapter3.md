---
title: Bölüm 3-Azure RTOS NetX 'in Işlevsel bileşenleri
description: Bu bölüm, işlevsel bir perspektiften yüksek performanslı Azure RTOS NetX TCP/IP yığınının bir açıklamasını içerir.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: db23aa152b2765ac7cc9be098723fc5df0947484
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826885"
---
# <a name="chapter-3---functional-components-of-azure-rtos-netx"></a><span data-ttu-id="5f8f1-103">Bölüm 3-Azure RTOS NetX 'in Işlevsel bileşenleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-103">Chapter 3 - Functional Components of Azure RTOS NetX</span></span>

<span data-ttu-id="5f8f1-104">Bu bölüm, işlevsel bir perspektiften yüksek performanslı Azure RTOS NetX TCP/IP yığınının bir açıklamasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-104">This chapter contains a description of the high-performance Azure RTOS NetX TCP/IP stack from a functional perspective.</span></span> 

## <a name="execution-overview"></a><span data-ttu-id="5f8f1-105">Yürütmeye genel bakış</span><span class="sxs-lookup"><span data-stu-id="5f8f1-105">Execution Overview</span></span>

<span data-ttu-id="5f8f1-106">NetX uygulaması içinde beş tür program yürütme vardır: başlatma, uygulama arabirimi çağrıları, iç IP iş parçacığı, IP dönemsel zamanlayıcılar ve ağ sürücüsü.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-106">There are five types of program execution within a NetX application: initialization, application interface calls, internal IP thread, IP periodic timers, and the network driver.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-107">NetX, ThreadX yüklemesini gerektirir ve iş parçacığı yürütülmesine, askıya alma, düzenli zamanlayıcılar ve karşılıklı dışlama tesislarına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-107">NetX requires the installation of ThreadX and depends on its thread execution, suspension, periodic timers, and mutual exclusion facilities.</span></span>

### <a name="initialization"></a><span data-ttu-id="5f8f1-108">Başlatma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-108">Initialization</span></span>

<span data-ttu-id="5f8f1-109">Diğer bir NetX hizmeti çağrılmadan önce, \***nx_system_initialize** _ hizmeti çağrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-109">The service \***nx_system_initialize** _ must be called before any other NetX service is called.</span></span> <span data-ttu-id="5f8f1-110">Sistem başlatması, ThreadX _ *_tx_application_define_*\* yordamından ya da uygulama iş parçacıklarından çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-110">System initialization can be called either from the ThreadX _ *_tx_application_define_*\* routine or from application threads.</span></span>

<span data-ttu-id="5f8f1-111">\***Nx_system_initialize** _ döndüğünde, sistem paket HAVUZLARı ve IP örnekleri oluşturmaya hazırdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-111">After \***nx_system_initialize** _ returns, the system is ready to create packet pools and IP instances.</span></span> <span data-ttu-id="5f8f1-112">Bir IP örneği oluşturmak için varsayılan bir paket havuzu gerektiğinden, bir IP örneği oluşturulmadan önce en az bir NetX paket havuzu bulunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-112">Because creating an IP instance requires a default packet pool, at least one NetX packet pool must exist prior to creating an IP instance.</span></span> <span data-ttu-id="5f8f1-113">ThreadX başlatma işlevi _ *_tx_application_define_*\* ve uygulama iş parçacıklarında paket HAVUZLARı ve IP örnekleri oluşturulmasına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-113">Creating packet pools and IP instances are allowed from the ThreadX initialization function _ *_tx_application_define_*\* and from application threads.</span></span>

<span data-ttu-id="5f8f1-114">Dahili olarak, bir IP örneği oluşturmak iki bölümde gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-114">Internally, creating an IP instance is accomplished in two parts.</span></span> <span data-ttu-id="5f8f1-115">İlk bölüm, ***tx_application_define*** veya bir uygulama iş parçacığının bağlamından çağıran bağlamı içinde yapılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-115">The first part is done within the context of the caller, either from ***tx_application_define*** or from an application thread's context.</span></span> <span data-ttu-id="5f8f1-116">Bu, IP veri yapısını ayarlamayı ve iç IP iş parçacığı dahil çeşitli IP kaynakları oluşturmayı içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-116">This includes setting up the IP data structure and creating various IP resources, including the internal IP thread.</span></span> <span data-ttu-id="5f8f1-117">İkinci bölüm, iç IP iş parçacığından ilk yürütme sırasında gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-117">The second part is performed during the initial execution from the internal IP thread.</span></span> <span data-ttu-id="5f8f1-118">Bu, IP oluşturma 'nın ilk bölümü sırasında sağlanan ağ sürücüsünün ilk kez çağrıldığı yerdir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-118">This is where the network driver, supplied during the first part of IP creation, is first called.</span></span> <span data-ttu-id="5f8f1-119">Ağ sürücüsünü iç IP iş parçacığından çağırmak, sürücünün başlatma işlemi sırasında g/ç ve askıya alma işlemlerini gerçekleştirmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-119">Calling the network driver from the internal IP thread enables the driver to perform I/O and suspend during its initialization processing.</span></span> <span data-ttu-id="5f8f1-120">Ağ sürücüsü başlatma işleminden döndüğünde, IP oluşturma tamamlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-120">When the network driver returns from its initialization processing, the IP creation is complete.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-121">NetX hizmeti **nx_ip_status_check** , IP örneği ve birincil arabirim durumu hakkında bilgi almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-121">The NetX service **nx_ip_status_check** is available to obtain information on the IP instance and its primary interface status.</span></span> <span data-ttu-id="5f8f1-122">Bu tür durum bilgileri bağlantının başlatılmış, etkin ve IP adresinin çözümlenip çözümlenmediğini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-122">Such status information includes whether or not the link is initialized, enabled, and IP address is resolved.</span></span> <span data-ttu-id="5f8f1-123">Bu bilgiler, yeni oluşturulan bir IP örneğini kullanması gereken uygulama iş parçacıklarını eşleştirmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-123">This information is used to synchronize application threads needing to use a newly created IP instance.</span></span> <span data-ttu-id="5f8f1-124">Çoklu giriş sistemleri için aşağıdaki "çoklu giriş desteği" bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-124">For multihome systems, see "Multihome Support" below.</span></span> <span data-ttu-id="5f8f1-125">**nx_ip_interface_status_check** , belirtilen arabirim hakkında bilgi almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-125">**nx_ip_interface_status_check** is available to obtain information on the specified interface.</span></span>

### <a name="application-interface-calls"></a><span data-ttu-id="5f8f1-126">Uygulama arabirimi çağrıları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-126">Application Interface Calls</span></span>

<span data-ttu-id="5f8f1-127">Uygulamadan yapılan çağrılar, büyük ölçüde ThreadX RTOS altında çalışan uygulama iş parçacıklarından yapılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-127">Calls from the application are largely made from application threads running under the ThreadX RTOS.</span></span> <span data-ttu-id="5f8f1-128">Ancak, bazı başlatma, oluşturma ve etkinleştirme Hizmetleri ***tx_application_define*** adresinden çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-128">However, some initialization, create, and enable services may be called from ***tx_application_define***.</span></span> <span data-ttu-id="5f8f1-129">Bölüm 4 ' teki "Izin verilen" bölümler her bir NetX hizmetinin çağrılabilecek olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-129">The "Allowed From" sections in Chapter 4 indicate from which each NetX service can be called.</span></span>

<span data-ttu-id="5f8f1-130">Çoğu bölümde, diğer iş parçacıklarının IP örneğine erişimini engellemeden, bilgi işlem sağlama kaynakları gibi yoğun etkinliklerin işlenmesi, çağıran iş parçacığının bağlamı içinde yapılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-130">For the most part, processing intensive activities such as computing checksums is done within the calling thread's context—without blocking the access of other threads to the IP instance.</span></span> <span data-ttu-id="5f8f1-131">Örneğin, iletim sırasında UDP sağlama toplamı hesaplaması, temel alınan IP gönderme işlevi çağrılmadan önce ***nx_udp_socket_send*** hizmeti içinde gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-131">For example, on transmission, the UDP checksum calculation is performed inside the ***nx_udp_socket_send*** service, prior to calling the underlying IP send function.</span></span> <span data-ttu-id="5f8f1-132">Alınan bir pakette, UDP sağlama toplamı, uygulama iş parçacığı bağlamında yürütülen ***nx_udp_socket_receive*** hizmetinde hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-132">On a received packet, the UDP checksum is calculated in the ***nx_udp_socket_receive*** service, executed in the context of the application thread.</span></span> <span data-ttu-id="5f8f1-133">Bu, düşük öncelikli iş parçacıklarında yoğun sağlama toplamı hesaplamayı işlerken daha yüksek öncelikli iş parçacıklarının ağ isteklerini önlemeye yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-133">This helps prevent stalling network requests of higher-priority threads because of processing intensive checksum computation in lower-priority threads.</span></span>

<span data-ttu-id="5f8f1-134">IP adresleri ve bağlantı noktası numaraları gibi değerler, ana bilgisayar bayt düzeninde API işlevlerine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-134">Values, such as IP addresses and port numbers, are passed to API functions in host byte order.</span></span> <span data-ttu-id="5f8f1-135">Bu değerler dahili olarak ana bilgisayar bayt düzeninde de depolanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-135">Internally these values are stored in host byte order as well.</span></span> <span data-ttu-id="5f8f1-136">Bu, geliştiricilerin bir hata ayıklayıcı aracılığıyla değerleri kolayca görüntülemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-136">This enables developers to easily view the values via a debugger.</span></span> <span data-ttu-id="5f8f1-137">Bu değerler, iletim için bir çerçevede programlandıklarında, ağ bayt sırasına dönüştürülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-137">When these values are programmed into a frame for transmission, they are converted to network byte order.</span></span>

### <a name="internal-ip-thread"></a><span data-ttu-id="5f8f1-138">İç IP Iş parçacığı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-138">Internal IP Thread</span></span>

<span data-ttu-id="5f8f1-139">Belirtildiği gibi, NetX 'teki her IP örneğinin kendi iş parçacığı vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-139">As mentioned, each IP instance in NetX has its own thread.</span></span> <span data-ttu-id="5f8f1-140">İç IP iş parçacığının öncelik ve yığın boyutu ***nx_ip_create*** hizmetinde tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-140">The priority and stack size of the internal IP thread is defined in the ***nx_ip_create*** service.</span></span> <span data-ttu-id="5f8f1-141">İç IP iş parçacığı, bir yürütme modunda oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-141">The internal IP thread is created in a ready-to-execute mode.</span></span> <span data-ttu-id="5f8f1-142">IP iş parçacığının, çağıran iş parçacığından daha yüksek bir önceliği varsa, önalım IP oluşturma çağrısı içinde meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-142">If the IP thread has a higher priority than the calling thread, preemption may occur inside the IP create call.</span></span>

<span data-ttu-id="5f8f1-143">İç IP iş parçacığının giriş noktası ***_nx_ip_thread_entry*** iç işlevdir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-143">The entry point of the internal IP thread is at the internal function ***_nx_ip_thread_entry***.</span></span> <span data-ttu-id="5f8f1-144">Başlatıldığında, iç IP iş parçacığı ilk olarak uygulamaya özgü ağ sürücüsüne üç çağrı yapmaktan oluşan ağ sürücüsü başlatma işlemini tamamlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-144">When started, the internal IP thread first completes network driver initialization, which consists of making three calls to the application-specific network driver.</span></span> <span data-ttu-id="5f8f1-145">İlk çağrı, ağ sürücüsünü IP örneğine eklemek ve ardından, ağ sürücüsünün başlatma işleminden geçmesine izin veren bir başlatma çağrısı olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-145">The first call is to attach the network driver to the IP instance, followed by an initialization call, which allows the network driver to go through the initialization process.</span></span> <span data-ttu-id="5f8f1-146">Ağ sürücüsü başlatma işleminden sonra (donanımın düzgün ayarlanması beklenirken askıda kalabilir), iç IP iş parçacığı bağlantıyı etkinleştirmek için ağ sürücüsünü yeniden çağırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-146">After the network driver returns from initialization (it may suspend while waiting for the hardware to be properly set up), the internal IP thread calls the network driver again to enable the link.</span></span> 

<span data-ttu-id="5f8f1-147">Ağ sürücüsü bağlantı etkinleştirme çağrısından döndüğünde, iç IP iş parçacığı bu IP örneği için işleme ihtiyacı olan çeşitli olaylar için sonsuz bir döngü denetimi girer.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-147">After the network driver returns from the link enable call, the internal IP thread enters an endless loop checking for various events that need processing for this IP instance.</span></span> <span data-ttu-id="5f8f1-148">Bu döngüde işlenen olaylar ertelenmiş IP paket alımı, IP paket parçası derlemesi, ıCMP ping işlemi, ıGMP işleme, TCP paket kuyruğu işleme, TCP düzenli işleme, IP parçası derleme zaman aşımları ve ıGMP düzenli işleme işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-148">Events processed in this loop include deferred IP packet reception, IP packet fragment assembly, ICMP ping processing, IGMP processing, TCP packet queue processing, TCP periodic processing, IP fragment assembly timeouts, and IGMP periodic processing.</span></span> <span data-ttu-id="5f8f1-149">Olaylar ayrıca adres çözümleme etkinliklerini içerir: IP ağında ARP paket işleme ve ARP düzenli işleme.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-149">Events also include address resolution activities: ARP packet processing and ARP periodic processing in the IP network.</span></span>

> [!NOTE]
> <span data-ttu-id="5f8f1-150">*Dinleme ve bağlantı kesme geri çağırmaları dahil NetX geri çağırma işlevleri, özgün çağıran iş parçacığı değil, iç IP iş parçacığından çağırılır. Uygulamanın herhangi bir NetX geri çağırma işlevi içinde askıya alınması gerekli değildir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-150">*The NetX callback functions, including listen and disconnect callbacks, are called from the internal IP thread—not the original calling thread. The application must take care not to suspend inside any NetX callback function.*</span></span>

### <a name="ip-periodic-timers"></a><span data-ttu-id="5f8f1-151">IP dönemsel zamanlayıcılar</span><span class="sxs-lookup"><span data-stu-id="5f8f1-151">IP Periodic Timers</span></span>
<span data-ttu-id="5f8f1-152">Her IP örneği için kullanılan iki ThreadX dönemsel Zamanlayıcı vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-152">There are two ThreadX periodic timers used for each IP instance.</span></span> <span data-ttu-id="5f8f1-153">İlki ARP, ıGMP, TCP zaman aşımı için tek saniyelik bir zamanlayıcıya sahiptir ve ayrıca IP parçası yeniden atama işlemini de yürütür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-153">The first one is a one-second timer for ARP, IGMP, TCP timeout, and it also drives IP fragment reassemble processing.</span></span> <span data-ttu-id="5f8f1-154">İkinci süreölçer, TCP yeniden iletim zaman aşımını sağlamak için bir 100ms Zamanlayıcı olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-154">The second timer is a 100ms timer to drive the TCP retransmission timeout.</span></span>

### <a name="network-driver"></a><span data-ttu-id="5f8f1-155">Ağ sürücüsü</span><span class="sxs-lookup"><span data-stu-id="5f8f1-155">Network Driver</span></span>
<span data-ttu-id="5f8f1-156">NetX 'teki her IP örneğinin, ***nx_ip_create*** hizmetinde belirtilen cihaz sürücüsü tarafından tanımlanan bir birincil arabirimi vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-156">Each IP instance in NetX has a primary interface, which is identified by its device driver specified in the ***nx_ip_create*** service.</span></span> <span data-ttu-id="5f8f1-157">Ağ sürücüsü, paket iletimi, paket alımı ve durum ve denetim istekleri gibi çeşitli NetX isteklerini işlemekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-157">The network driver is responsible for handling various NetX requests, including packet transmission, packet reception, and requests for status and control.</span></span>

<span data-ttu-id="5f8f1-158">Birden çok ana sistem için, IP örneğinde, her biri ilgili arabirim için bu görevleri gerçekleştiren ilişkili bir ağ sürücüsüne sahip birden çok arabirim vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-158">For a multi-home system, the IP instance has multiple interfaces, each with an associated network driver that performs these tasks for the respective interface.</span></span>

<span data-ttu-id="5f8f1-159">Ağ sürücüsünün Ayrıca medyada gerçekleşen zaman uyumsuz olayları işlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-159">The network driver must also handle asynchronous events occurring on the media.</span></span> <span data-ttu-id="5f8f1-160">Medyadan gelen zaman uyumsuz olaylar, paket alımı, paket iletimi tamamlama ve durum değişiklikleri içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-160">Asynchronous events from the media include packet reception, packet transmission completion, and status changes.</span></span> <span data-ttu-id="5f8f1-161">NetX çeşitli olayları işlemek için çeşitli erişim işlevleriyle ağ sürücüsüne olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-161">NetX provides the network driver with several access functions to handle various events.</span></span> <span data-ttu-id="5f8f1-162">Bu işlevler, ağ sürücüsünün kesme hizmeti rutin kısmından çağrılabilir şekilde tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-162">These functions are designed to be called from the interrupt service routine portion of the network driver.</span></span> <span data-ttu-id="5f8f1-163">IP ağları için ağ sürücüsü, alınan tüm ARP paketlerini \***_nx_arp_packet_deferred_receive** _ iç işlevine iletmelidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-163">For IP networks, the network driver should forward all ARP packets received to the \***_nx_arp_packet_deferred_receive** _ internal function.</span></span> <span data-ttu-id="5f8f1-164">Tüm RARP paketlerinin _ *_ _nx_rarp_packet_deferred_receive_* _ iç işlevine iletilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-164">All RARP packets should be forwarded to _ *_ _nx_rarp_packet_deferred_receive_* _ internal function.</span></span> <span data-ttu-id="5f8f1-165">IP paketlerine yönelik iki seçenek vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-165">There are two options for IP packets.</span></span> <span data-ttu-id="5f8f1-166">IP paketlerinin hızlı gönderimi gerekliyse, anında işlenmek üzere gelen IP paketlerinin _ *_ _nx_ip_packet_receive_* _ ' e iletilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-166">If fast dispatch of IP packets is required, incoming IP packets should be forwarded to _ *_ _nx_ip_packet_receive_* _ for immediate processing.</span></span> <span data-ttu-id="5f8f1-167">Bu, IP paketlerini işlemede NetX performansını önemli ölçüde artırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-167">This greatly improves NetX performance in handling IP packets.</span></span> <span data-ttu-id="5f8f1-168">Aksi takdirde, ağ sürücüsünün IP paketlerini _ \* _ _nx_ip_packet_deferred_receive_\* \* öğesine iletmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-168">Otherwise, the network driver should forward IP packets to _\*_ _nx_ip_packet_deferred_receive_\*\*.</span></span> <span data-ttu-id="5f8f1-169">Bu hizmet, IP paketini ertelenmiş işleme kuyruğuna koyar ve daha sonra iç IP iş parçacığı tarafından işlenir ve bu da en az ıSR işlem süresine neden olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-169">This service places the IP packet in the deferred processing queue where it is then handled by the internal IP thread, which results in the least amount of ISR processing time.</span></span>

<span data-ttu-id="5f8f1-170">Ağ sürücüsü aynı zamanda kesme işlemeyi IP iş parçacığı bağlamında çalışacak şekilde erteleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-170">The network driver can also defer interrupt processing to run out of the context of the IP thread.</span></span> <span data-ttu-id="5f8f1-171">Bu modda, ıSR gerekli bilgileri kaydeder, iç işlev ***_nx_ip_driver_deferred_processing*** çağırır ve kesme denetleyicisini kabul ediyor.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-171">In this mode, the ISR shall save the necessary information, call the internal function ***_nx_ip_driver_deferred_processing***, and acknowledge the interrupt controller.</span></span> <span data-ttu-id="5f8f1-172">Bu hizmet, IP iş parçacığını, kesintiye neden olan olayın işlenmesini tamamlaması için cihaz sürücüsüne bir geri çağırma zamanlamasını bildirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-172">This service notifies IP thread to schedule a callback to the device driver to complete the processing of the event that causes the interrupt.</span></span>

<span data-ttu-id="5f8f1-173">Bazı ağ denetleyicileri, değerli CPU kaynakları oluşturmadan donanımda TCP/IP üst bilgi sağlama toplamı hesaplama ve doğrulama işlemlerini gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-173">Some network controllers are capable of performing TCP/IP header checksum computation and validation in hardware, without taking up valuable CPU resources.</span></span> <span data-ttu-id="5f8f1-174">NetX, donanım özelliği özelliğinden yararlanmak için derleme zamanında çeşitli yazılım sağlama toplamı hesaplamasını etkinleştirme veya devre dışı bırakma ve çalışma zamanında sağlama toplamı hesaplamasını açma veya kapatma seçeneklerini sunar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-174">To take advantage of the hardware capability feature, NetX provides options to enable or disable various software checksum computation at compilation time, as well as turning on or off checksum computation at run time.</span></span> <span data-ttu-id="5f8f1-175">NetX ağ sürücülerini yazma hakkında daha ayrıntılı bilgi için "[Bölüm 5 NetX ağ sürücüleri](chapter5.md)" başlığına bakın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-175">See "[Chapter 5 NetX Network Drivers](chapter5.md)" for more detailed information on writing NetX network drivers.</span></span>

### <a name="multihome-support"></a><span data-ttu-id="5f8f1-176">Çoklu giriş desteği</span><span class="sxs-lookup"><span data-stu-id="5f8f1-176">Multihome Support</span></span>
<span data-ttu-id="5f8f1-177">NetX, tek bir IP örneği kullanılarak birden çok fiziksel cihaza bağlı olan sistemleri destekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-177">NetX supports systems connected to multiple physical devices using a single IP instance.</span></span> <span data-ttu-id="5f8f1-178">Her fiziksel arabirim, IP örneğindeki bir arabirim Denetim bloğuna atanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-178">Each physical interface is assigned to an interface control block in the IP instance.</span></span> <span data-ttu-id="5f8f1-179">Çok ana bir sistem kullanmak isteyen uygulamalar, sisteme bağlı fiziksel cihaz sayısına **NX_MAX_PHSYCIAL_INTERFACES** değerini tanımlamalıdır ve NETX kitaplığını yeniden derlemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-179">Applications wishing to use a multihome system must define the value for **NX_MAX_PHSYCIAL_INTERFACES** to the number of physical devices attached to the system, and rebuild NetX library.</span></span> <span data-ttu-id="5f8f1-180">Varsayılan olarak **NX_MAX_PHYSICAL_INTERFACES** , IP örneğinde bir arabirim denetim bloğu oluşturarak bir tane olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-180">By default **NX_MAX_PHYSICAL_INTERFACES** is set to one, creating one interface control block in the IP instance.</span></span>

<span data-ttu-id="5f8f1-181">NetX uygulaması, \***nx_ip_create** _ hizmeti kullanılarak birincil cihaz için tek bir IP örneği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-181">The NetX application creates a single IP instance for the primary device using the \***nx_ip_create** _ service.</span></span> <span data-ttu-id="5f8f1-182">Uygulama, her ek ağ aygıtı için, _ *_nx_ip_interface_attach_*\* hizmetini kullanarak cihazı IP örneğine iliştirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-182">For each additional network devices, the application attaches the device to the IP instance using the _ *_nx_ip_interface_attach_*\* service.</span></span>

<span data-ttu-id="5f8f1-183">Her ağ arabirimi yapısı, IP denetim bloğunda arabirim IP adresi, alt ağ maskesi, IP MTU boyutu ve MAC-katman adresi bilgileri dahil olmak üzere ağ arabirimi hakkındaki ağ bilgilerinin bir alt kümesini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-183">Each network interface structure contains a subset of network information about the network interface that is contained in the IP control block, including interface IP address, subnet mask, IP MTU size, and MAC-layer address information.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-184">*Multihome desteğiyle NetX, NetX 'in önceki sürümleriyle geriye dönük olarak uyumludur. Birincil ağ cihazına açık arabirim bilgilerini varsayılan olmayan hizmetler.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-184">*NetX with multihome support is backward compatible with earlier versions of NetX. Services that do not take explicit interface information default to the primary network device.*</span></span>

<span data-ttu-id="5f8f1-185">Birincil arabirimde IP örneği listesinde sıfır dizini vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-185">The primary interface has index zero in the IP instance list.</span></span> <span data-ttu-id="5f8f1-186">IP örneğine eklenen her bir sonraki cihaza bir sonraki dizin atanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-186">Each subsequent device attached to the IP instance is assigned the next index.</span></span>

<span data-ttu-id="5f8f1-187">TCP, UDP, ıCMP ve ıGMP dahil olmak üzere IP örneğinin etkinleştirildiği tüm üst katman protokol Hizmetleri, tüm bağlı cihazlar için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-187">All upper layer protocol services for which the IP instance is enabled, including TCP, UDP, ICMP, and IGMP, are available to all the attached devices.</span></span>

<span data-ttu-id="5f8f1-188">Çoğu durumda NetX, bir paket aktarırken kullanılacak en iyi kaynak adresini belirleyebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-188">In most cases, NetX can determine the best source address to use when transmitting a packet.</span></span> <span data-ttu-id="5f8f1-189">Kaynak adresi seçimi, hedef adresi temel alır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-189">The source address selection is based on the destination address.</span></span> <span data-ttu-id="5f8f1-190">NetX Hizmetleri, uygulamaların kullanılmak üzere belirli bir kaynak adresi belirtmesini sağlamak için sağlanır, ancak en uygun bir durum hedef adresle belirlenebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-190">NetX services are provided to allow applications to specify a specific source address to use, in cases where the most suitable one cannot be determined by the destination address.</span></span> <span data-ttu-id="5f8f1-191">Birden çok ana sistemde bir örnek, bir uygulamanın bir IP yayınına veya çok noktaya yayın hedef adreslerine bir paket gönderebilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-191">An example would be in a multihome system, an application needs to send a packet to an IP broadcast or multicast destination addresses.</span></span>

<span data-ttu-id="5f8f1-192">Özellikle çok ana uygulamalar geliştirmeye yönelik hizmetler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-192">Services specifically for developing multihome applications include the following:</span></span>

<span data-ttu-id="5f8f1-193">*nx_igmp_multicast_interface_join nx_ip_driver_interface_direct_command nx_ip_interface_address_get nx_ip_interface_address_set nx_ip_interface_attach nx_ip_interface_info_get nx_ip_interface_status_check nx_ip_raw_packet_interface_send nx_udp_socket_interface_send*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-193">*nx_igmp_multicast_interface_join nx_ip_driver_interface_direct_command nx_ip_interface_address_get nx_ip_interface_address_set nx_ip_interface_attach nx_ip_interface_info_get nx_ip_interface_status_check nx_ip_raw_packet_interface_send nx_udp_socket_interface_send*</span></span>

<span data-ttu-id="5f8f1-194">Bu hizmetler, "[Bölüm 4-Azure RTOS NetX Services açıklaması](chapter4.md)" bölümünde daha ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-194">These services are explained in greater detail in "[Chapter 4 - Description of Azure RTOS NetX Services](chapter4.md)".</span></span>

### <a name="loopback-interface"></a><span data-ttu-id="5f8f1-195">Geri döngü arabirimi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-195">Loopback Interface</span></span>
<span data-ttu-id="5f8f1-196">Geri döngü arabirimi, bağlı bir fiziksel bağlantısı olmayan özel bir ağ arabirimidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-196">The loopback interface is a special network interface without an physical link attached to.</span></span> <span data-ttu-id="5f8f1-197">Geri döngü arabirimi, uygulamaların IP geri döngü adresi 127.0.0.1 kullanılarak iletişim kurmasına izin verir</span><span class="sxs-lookup"><span data-stu-id="5f8f1-197">The loopback interface allows applications to communicate using the IP loopback address 127.0.0.1</span></span>

<span data-ttu-id="5f8f1-198">Mantıksal bir geri döngü arabirimini kullanmak için, yapılandırılabilir seçeneğinin ***NX_DISABLE_LOOPBACK_INTERFACE*** ayarlanmamış olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-198">To utilize a logical loopback interface, ensure the configurable option ***NX_DISABLE_LOOPBACK_INTERFACE*** is not set.</span></span>

### <a name="interface-control-blocks"></a><span data-ttu-id="5f8f1-199">Arabirim denetim blokları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-199">Interface Control Blocks</span></span>
<span data-ttu-id="5f8f1-200">IP örneğindeki arabirim denetim bloklarının sayısı, fiziksel arabirimlerin sayısıdır (\***NX_MAX_PHYSICAL_INTERFACES** _ tarafından tanımlanır) ve etkinse geri döngü arabirimi.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-200">The number of interface control blocks in the IP instance is the number of physical interfaces (defined by \***NX_MAX_PHYSICAL_INTERFACES** _) plus the loopback interface if it is enabled.</span></span> <span data-ttu-id="5f8f1-201">Toplam arabirim sayısı _ *_NX_MAX_IP_INTERFACES_* \* içinde tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-201">The total number of interfaces is defined in _\*_NX_MAX_IP_INTERFACES_\*\*.</span></span>

## <a name="protocol-layering"></a><span data-ttu-id="5f8f1-202">Protokol katmanlama</span><span class="sxs-lookup"><span data-stu-id="5f8f1-202">Protocol Layering</span></span>

<span data-ttu-id="5f8f1-203">NetX tarafından uygulanan TCP/IP katmanlı bir protokoldür, bu da daha karmaşık alt protokollerin daha basit bir temel protokol üzerine oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-203">The TCP/IP implemented by NetX is a layered protocol, which means more complex protocols are built on top of simpler underlying protocols.</span></span> <span data-ttu-id="5f8f1-204">TCP/IP 'de, en düşük katman Protokolü *bağlantı katmanında* bulunur ve ağ sürücüsü tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-204">In TCP/ IP, the lowest layer protocol is at the *link Layer* and is handled by the network driver.</span></span> <span data-ttu-id="5f8f1-205">Bu düzey genellikle Ethernet 'e yöneliktir, ancak fiber, seri veya neredeyse herhangi bir fiziksel medya olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-205">This level is typically targeted towards Ethernet, but it could also be fiber, serial, or virtually any physical media.</span></span>

<span data-ttu-id="5f8f1-206">Bağlantı katmanının en üstünde *ağ katmanı* bulunur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-206">On top of the link layer is the *Network layer*.</span></span> <span data-ttu-id="5f8f1-207">TCP/IP 'de, bu, temel olarak basit paketlerin gönderilmesi ve alınması ve ağın tamamında en iyi şekilde sorumlu olan IP 'dir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-207">In TCP/IP, this is the IP, which is basically responsible for sending and receiving simple packets, in a best-effort manner, across the network.</span></span> <span data-ttu-id="5f8f1-208">ICMP ve ıGMP gibi yönetim türü protokoller, genellikle IP 'yi gönderme ve alma için kullandıkları halde ağ katmanları olarak kategorize edilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-208">Management type protocols like ICMP and IGMP are typically also categorized as network layers, even though they rely on IP for sending and receiving.</span></span>

<span data-ttu-id="5f8f1-209">*Aktarım katmanı* , ağ katmanının üzerine oturduğu.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-209">The *Transport layer* rests on top of the network layer.</span></span> <span data-ttu-id="5f8f1-210">Bu katman, ağ üzerindeki konaklar arasında veri akışını yönetmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-210">This layer is responsible for managing the flow of data between hosts on the network.</span></span> <span data-ttu-id="5f8f1-211">NetX: UDP ve TCP tarafından desteklenen iki tür aktarım hizmeti vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-211">There are two types of transport services supported by NetX: UDP and TCP.</span></span> <span data-ttu-id="5f8f1-212">UDP Hizmetleri, iki ana bilgisayar arasında bağlantısız bir şekilde verileri en iyi şekilde gönderme ve alma olanağı sağlarken, TCP iki konak varlık arasında güvenilir bir bağlantı yönelimli hizmet sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-212">UDP services provide best-effort sending and receiving of data between two hosts in a connectionless manner, while TCP provides reliable connection-oriented service between two host entities.</span></span>

<span data-ttu-id="5f8f1-213">Bu katman, gerçek ağ veri paketlerine yansıtılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-213">This layering is reflected in the actual network data packets.</span></span> <span data-ttu-id="5f8f1-214">TCP/IP içindeki her katman, üst bilgi olarak adlandırılan bir bilgi bloğu içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-214">Each layer in TCP/IP contains a block of information called a header.</span></span> <span data-ttu-id="5f8f1-215">Bu verilere (ve muhtemelen protokol bilgilerine) sahip bir üst bilgi içeren bu teknik genellikle veri kapsülleme olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-215">This technique of surrounding data (and possibly protocol information) with a header is typically called data encapsulation.</span></span> <span data-ttu-id="5f8f1-216">Şekil 1 ' de NetX katmanlama örneği ve Şekil 2, gönderilen UDP verileri için elde edilen veri kapsüllemesini gösterir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-216">Figure 1 shows an example of NetX layering and Figure 2 shows the resulting data encapsulation for UDP data being sent.</span></span>

![Protokol katmanlama](./media/user-guide/protocol-layering.png)

<span data-ttu-id="5f8f1-218">**ŞEKIL 1. Protokol katmanlama**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-218">**FIGURE 1. Protocol Layering**</span></span>

![UDP veri kapsülleme](./media/user-guide/udp-data-encapsulation.png)

<span data-ttu-id="5f8f1-220">**ŞEKIL 2. UDP veri kapsülleme**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-220">**FIGURE 2. UDP Data Encapsulation**</span></span>

## <a name="packet-pools"></a><span data-ttu-id="5f8f1-221">Paket havuzları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-221">Packet Pools</span></span>

<span data-ttu-id="5f8f1-222">Paketleri hızlı ve belirleyici bir şekilde ayırmak, gerçek zamanlı ağ uygulamalarında her zaman zorluk sergilemektir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-222">Allocating packets in a fast and deterministic manner is always a challenge in real-time networking applications.</span></span> <span data-ttu-id="5f8f1-223">Bu şekilde NetX, sabit boyutlu ağ paketlerinin birden çok havuzunu oluşturma ve yönetme olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-223">With this in mind, NetX provides the ability to create and manage multiple pools of fixed-size network packets.</span></span>

<span data-ttu-id="5f8f1-224">NetX Paket havuzları sabit boyutlu bellek blokları içerdiğinden, hiçbir iç parçalama sorunu yoktur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-224">Because NetX packet pools consist of fixed-size memory blocks, there are never any internal fragmentation problems.</span></span> <span data-ttu-id="5f8f1-225">Tabii ki parçalama, doğal olarak belirleyici olmayan davranışa neden olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-225">Of course, fragmentation causes behavior that is inherently nondeterministic.</span></span>

<span data-ttu-id="5f8f1-226">Ayrıca, bir NetX paket tutarlarını ayırmak ve serbest bırakmak için gereken süre basit bağlantılı liste işleme.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-226">In addition, the time required to allocate and free a NetX packet amounts to simple linked-list manipulation.</span></span> <span data-ttu-id="5f8f1-227">Ayrıca, paket ayırma ve ayırmayı kaldırma, kullanılabilir listenin başında yapılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-227">Furthermore, packet allocation and deallocation is done at the head of the available list.</span></span> <span data-ttu-id="5f8f1-228">Bu, mümkün olan en hızlı bağlantılı liste işlemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-228">This provides the fastest possible linked list processing.</span></span>

<span data-ttu-id="5f8f1-229">Esneklik olmaması genellikle sabit boyutlu paket havuzlarının başlıca dezavantajıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-229">Lack of flexibility is typically the main drawback of fixed-size packet pools.</span></span> <span data-ttu-id="5f8f1-230">Büyük/küçük harfe gelen paketi de işleyen en iyi paket yükü boyutunun belirlenmesi zor bir görevdir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-230">Determining the optimal packet payload size that also handles the worst-case incoming packet is a difficult task.</span></span> <span data-ttu-id="5f8f1-231">NetX paketleri, bu sorunu *paket zincirleme* adlı isteğe bağlı bir özellikle ele maktadır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-231">NetX packets address this problem with an optional feature called *packet chaining*.</span></span> <span data-ttu-id="5f8f1-232">Gerçek bir ağ paketi, birbirine bağlı bir veya daha fazla NetX paketinden yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-232">An actual network packet can be made of one or more NetX packets linked together.</span></span> <span data-ttu-id="5f8f1-233">Ayrıca, paket üst bilgisi paketin en üstüne bir işaretçi tutar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-233">In addition, the packet header maintains a pointer to the top of the packet.</span></span> <span data-ttu-id="5f8f1-234">Ek protokoller eklendikçe, bu işaretçi geriye doğru taşınır ve yeni üst bilgi doğrudan verilerin önüne yazılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-234">As additional protocols are added, this pointer is simply moved backwards and the new header is written directly in front of the data.</span></span> <span data-ttu-id="5f8f1-235">Esnek paket teknolojisi olmadan, yığının başka bir arabellek ayırması ve verileri yeni bir üst bilgiyle, yoğun işleme alan yeni bir arabelleğe kopyalaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-235">Without the flexible packet technology, the stack would have to allocate another buffer and copy the data into a new buffer with the new header, which is processing intensive.</span></span>

<span data-ttu-id="5f8f1-236">Her paket yükü boyutu belirli bir paket havuzu için düzeltildiğinden, yük boyutundan daha büyük olan uygulama verileri birlikte birden çok paket zincirleme gerektirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-236">Since each packet payload size is fixed for a given packet pool, application data larger than the payload size  requires multiple packets chained together.</span></span> <span data-ttu-id="5f8f1-237">Bir paketi kullanıcı verileriyle doldururken, uygulamanın hizmet ***nx_packet_data_append*** kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-237">When filling a packet with user data, the application must use the service ***nx_packet_data_append***.</span></span> <span data-ttu-id="5f8f1-238">Bu hizmet uygulama verilerini bir pakete taşıtur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-238">This service moves application data into a packet.</span></span> <span data-ttu-id="5f8f1-239">Bir paketin Kullanıcı verilerini tutmak için yeterli olmadığı durumlarda, Kullanıcı verilerini depolamak için ek paketler ayrılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-239">In situations where a packet is not enough to hold user data, additional packets are allocated to store user data.</span></span> <span data-ttu-id="5f8f1-240">Paket zincirlemesini kullanmak için, sürücünün zincirleme paketlere alabilmesi ya da bu paketten iletim yapabilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-240">To use packet chaining, the driver must be able to receive into or transmit from chained packets.</span></span>

<span data-ttu-id="5f8f1-241">Her NetX paket bellek havuzu ortak bir kaynaktır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-241">Each NetX packet memory pool is a public resource.</span></span> <span data-ttu-id="5f8f1-242">NetX, paket havuzlarının nasıl kullanılbileceğine ilişkin bir kısıtlama yoktur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-242">NetX places no constraints on how packet pools are used.</span></span>

### <a name="packet-pool-memory-area"></a><span data-ttu-id="5f8f1-243">Paket havuzu bellek alanı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-243">Packet Pool Memory Area</span></span>
<span data-ttu-id="5f8f1-244">Paket havuzu için bellek alanı oluşturma sırasında belirtilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-244">The memory area for the packet pool is specified during creation.</span></span> <span data-ttu-id="5f8f1-245">ThreadX ve NetX nesnelerinin diğer bellek alanları gibi, hedefin adres alanındaki herhangi bir yerde bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-245">Like other memory areas for ThreadX and NetX objects, it can be located anywhere in the target's address space.</span></span> <span data-ttu-id="5f8f1-246">Bu, uygulamaya verdiği önemli esneklik nedeniyle önemli bir özelliktir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-246">This is an important feature because of the considerable flexibility it gives the application.</span></span> <span data-ttu-id="5f8f1-247">Örneğin, bir iletişim ürününün ağ arabellekleri için yüksek hızlı bellek alanı olduğunu varsayalım.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-247">For example, suppose that a communication product has a high-speed memory area for network buffers.</span></span> <span data-ttu-id="5f8f1-248">Bu bellek alanı, bir NetX paket bellek havuzunda yapılarak kolayca kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-248">This memory area is easily utilized by making it into a NetX packet memory pool.</span></span>

### <a name="creating-packet-pools"></a><span data-ttu-id="5f8f1-249">Paket havuzları oluşturma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-249">Creating Packet Pools</span></span>
<span data-ttu-id="5f8f1-250">Paket havuzları, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-250">Packet pools are created either during initialization or during runtime by application threads.</span></span> <span data-ttu-id="5f8f1-251">Bir NetX uygulamasındaki paket belleği havuzlarının sayısında sınır yoktur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-251">There are no limits on the number of packet memory pools in a NetX application.</span></span>

### <a name="packet-header-nx_packet"></a><span data-ttu-id="5f8f1-252">Paket üst bilgisi NX_PACKET</span><span class="sxs-lookup"><span data-stu-id="5f8f1-252">Packet Header NX_PACKET</span></span>
<span data-ttu-id="5f8f1-253">Varsayılan olarak, NetX paket üst bilgisini paket yük alanından hemen önce koyar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-253">By default, NetX places the packet header immediately before the packet payload area.</span></span> <span data-ttu-id="5f8f1-254">Paket bellek havuzu temel olarak bir dizi paket (üst bilgiler), ardından paket yükünün hemen ardından gelir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-254">The packet memory pool is basically a series of packets—headers followed immediately by the packet payload.</span></span> <span data-ttu-id="5f8f1-255">Paket üst bilgisi (***NX_PACKET***) ve paket havuzunun düzeni şekil 3 ' te gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-255">The packet header (***NX_PACKET***) and the layout of the packet pool are pictured in Figure 3.</span></span>

<span data-ttu-id="5f8f1-256">Sıfır kopyalama işlemi gerçekleştirebilecek ağ cihazları sürücüsü için genellikle paket yük alanının başlangıç adresi DMA mantığıyla programlanabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-256">For network devices driver that are able to perform zero copy operations, typically the starting address of the packet payload area is programmed into the DMA logic.</span></span> <span data-ttu-id="5f8f1-257">Belirli DMA altyapılarının yük alanında hizalama gereksinimi vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-257">Certain DMA engines have alignment requirement on the payload area.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-258">\* Bir paketin iletimi tamamlandığında, ağ sürücüsünün \***nx_packet_transmit_release** _ işlevini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-258">\*The network driver to must call the \***nx_packet_transmit_release** _ function when the transmission of a packet is complete.</span></span> <span data-ttu-id="5f8f1-259">Bu işlev, paketin kullanılabilir havuza gerçekten geri yerleştirilmesi için bir TCP çıkış sırasının parçası olmadığından emin olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-259">This function checks to make sure the packet is not part of a TCP output queue before it is actually placed back in the available pool.</span></span> <span data-ttu-id="5f8f1-260">Bu işlevi çağırma hatası öngörülemeyen behavior._ neden olabilir</span><span class="sxs-lookup"><span data-stu-id="5f8f1-260">Failure to call this function can result in unpredictable behavior._</span></span>

![Paket üst bilgisi ve paket havuzu düzeni](./media/user-guide/packet-header-packet-pool-layout.png)

<span data-ttu-id="5f8f1-262">**ŞEKIL 3. Paket üst bilgisi ve paket havuzu düzeni**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-262">**FIGURE 3. Packet Header and Packet Pool Layout**</span></span>

<span data-ttu-id="5f8f1-263">Paket üstbilgisinin alanları aşağıdaki tabloda gösterildiği gibi tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-263">The fields of the packet header are defined as shown in the following table.</span></span> <span data-ttu-id="5f8f1-264">Bu tablonun *NX_PACKET* yapısındaki tüm üyelerin kapsamlı bir listesi olmadığına unutmayın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-264">Note that this table is not a comprehensive list of all the members in the *NX_PACKET* structure.</span></span>

| <span data-ttu-id="5f8f1-265">Paket üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-265">Packet header</span></span>          | <span data-ttu-id="5f8f1-266">Amaç</span><span class="sxs-lookup"><span data-stu-id="5f8f1-266">Purpose</span></span>                                                                                                                                                                                                                                                                                                                            |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5f8f1-267">*nx_packet_pool_owner*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-267">*nx_packet_pool_owner*</span></span>   | <span data-ttu-id="5f8f1-268">Bu alan, bu belirli paketin sahibi olan paket havuzunu işaret eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-268">This field points to the packet pool that owns this particular packet.</span></span> <span data-ttu-id="5f8f1-269">Paket yayınlanmışsa, bu belirli havuza serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-269">When the packet is released, it is released to this particular pool.</span></span> <span data-ttu-id="5f8f1-270">Her paketin içindeki havuz sahipliğiyle, bir veri biriminin birden çok paket havuzundan birden çok pakete yayılması mümkündür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-270">With the pool ownership inside each packet, it is possible for a datagram to span multiple packets from multiple packet pools.</span></span>                                                         |
| <span data-ttu-id="5f8f1-271">*nx_packet_next*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-271">*nx_packet_next*</span></span>         | <span data-ttu-id="5f8f1-272">Bu alan, aynı çerçeve içindeki bir sonraki pakete işaret eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-272">This field points to the next packet within the same frame.</span></span> <span data-ttu-id="5f8f1-273">NULL ise çerçevenin parçası olan ek paketler yoktur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-273">If NULL, there are no additional packets that are part of the frame.</span></span> |
| <span data-ttu-id="5f8f1-274">*nx_packet_last*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-274">*nx_packet_last*</span></span>         | <span data-ttu-id="5f8f1-275">Bu alan, aynı ağ paketi içindeki son paketi işaret eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-275">This field points to the last packet within the same network packet.</span></span> <span data-ttu-id="5f8f1-276">NULL ise, bu paket tüm ağ paketini temsil eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-276">If NULL, this packet represents the entire network packet.</span></span>  |
| <span data-ttu-id="5f8f1-277">*nx_packet_length*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-277">*nx_packet_length*</span></span>       | <span data-ttu-id="5f8f1-278">Bu alan, *nx_packet_next* üyesi tarafından birlikte zincirlenen tüm paketlerin toplam bayt sayısı dahil tüm ağ paketindeki toplam bayt sayısını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-278">This field contains the total number of bytes in the entire network packet, including the total of all bytes in all packets chained together by the *nx_packet_next* member.</span></span> |
| <span data-ttu-id="5f8f1-279">*nx_packet_ip_interface*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-279">*nx_packet_ip_interface*</span></span> | <span data-ttu-id="5f8f1-280">Bu alan, arabirim sürücüsü tarafından alındığında pakete atanan arabirim denetim bloğu ve giden paketler için NetX tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-280">This field is the interface control block which is assigned to the packet when it is received by the interface driver, and by NetX for outgoing packets.</span></span> <span data-ttu-id="5f8f1-281">Arabirim denetim bloğu; ağ adresi, MAC adresi, IP adresi ve bağlantı etkin ve fiziksel eşleme gibi arabirim durumu gibi arabirimi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-281">An interface control block describes the interface e.g. network address, MAC address, IP address and interface status such as link enabled and physical mapping required.</span></span> |
| <span data-ttu-id="5f8f1-282">*nx_packet_data_start*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-282">*nx_packet_data_start*</span></span>   | <span data-ttu-id="5f8f1-283">Bu alan, bu paketin fiziksel yük alanının başlangıcını gösterir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-283">This field points to the start of the physical payload area of this packet.</span></span> <span data-ttu-id="5f8f1-284">NX_PACKET üst bilgisinin hemen arkasından olması gerekmez, ancak ***nx_packet_pool_create*** hizmeti için varsayılandır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-284">It does not have to be immediately following the NX_PACKET header, but that is the default for the ***nx_packet_pool_create*** service.</span></span> |
| <span data-ttu-id="5f8f1-285">*nx_packet_data_end*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-285">*nx_packet_data_end*</span></span>     | <span data-ttu-id="5f8f1-286">Bu alan, bu paketin fiziksel yük alanının sonuna işaret eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-286">This field points to the end of the physical payload area of this packet.</span></span> <span data-ttu-id="5f8f1-287">Bu alan ile nx_packet_data_start alanı arasındaki fark, yük boyutunu temsil eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-287">The difference between this field and the nx_packet_data_start field represents the payload size.</span></span> |
| <span data-ttu-id="5f8f1-288">*nx_packet_prepend_ptr*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-288">*nx_packet_prepend_ptr*</span></span>  | <span data-ttu-id="5f8f1-289">Bu alan paket verilerinin, paket yükü alanındaki mevcut paket verilerinin önüne (varsa) protokol üstbilgisi veya gerçek veriler eklendiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-289">This field points to the location of where packet data, either protocol header or actual data, is added in front of the existing packet data (if any) in the packet payload area.</span></span> <span data-ttu-id="5f8f1-290">*Nx_packet_data_start* işaretçi konumundan büyük veya buna eşit ve *nx_packet_append_ptr* işaretçisinden küçük veya eşit olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-290">It must be greater than or equal to the *nx_packet_data_start* pointer location and less than or equal to the *nx_packet_append_ptr* pointer.</span></span>  <span data-ttu-id="5f8f1-291">*NETX, performans nedenleriyle iletim için NETX hizmetlerine geçirildiğinde, önüne işaretçisinin uzun sözcük hizalı adrese işaret ettiğini varsayar.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-291">*For performance reasons, NetX assumes that when the packet is passed into NetX services for transmission, the prepend pointer points to long word aligned address.*</span></span> |
| <span data-ttu-id="5f8f1-292">*nx_packet_append_ptr*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-292">*nx_packet_append_ptr*</span></span>    | <span data-ttu-id="5f8f1-293">Bu alan, şu anda paket yükü alanındaki verilerin sonunu işaret eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-293">This field points to the end of the data currently in the packet payload area.</span></span> <span data-ttu-id="5f8f1-294">*Nx_packet_prepend_ptr* ve *nx_packet_data_end* tarafından işaret edilen bellek konumu arasında olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-294">It must be in between the memory location pointed to by *nx_packet_prepend_ptr* and *nx_packet_data_end*.</span></span> <span data-ttu-id="5f8f1-295">Bu alan ile *nx_packet_prepend_ptr* alanı arasındaki fark, bu paketteki veri miktarını temsil eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-295">The difference between this field and the *nx_packet_prepend_ptr* field represents the amount of data in this packet.</span></span> |
| <span data-ttu-id="5f8f1-296">*nx_packet_fragment_next*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-296">*nx_packet_fragment_next*</span></span> | <span data-ttu-id="5f8f1-297">Bu alan, paketin tamamının yeniden yayılmadığı sürece parçalanmış paketleri tutmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-297">This field is used to hold fragmented packets until the entire packet can be re-assembled.</span></span> |
| <span data-ttu-id="5f8f1-298">*nx_packet_pad*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-298">*nx_packet_pad*</span></span>           | <span data-ttu-id="5f8f1-299">Bu alanlar, istenen hizalama gereksinimini elde etmek için 4 baytlık sözcüklerdeki doldurma uzunluğunu tanımlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-299">This fields defines the length of padding in 4- byte words to achieve the desired alignment requirement.</span></span> <span data-ttu-id="5f8f1-300">*NX_PACKET_HEADER_PAD* tanımlanmamışsa Bu alan kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-300">This field is removed if *NX_PACKET_HEADER_PAD* is not defined.</span></span> |
|  |  |

### <a name="packet-header-offsets"></a><span data-ttu-id="5f8f1-301">Paket üst bilgisi uzaklıkları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-301">Packet Header Offsets</span></span>

<span data-ttu-id="5f8f1-302">Paket üst bilgisi boyutu, üst bilgi boyutuna uyum sağlamak için yeterli yer sağlamak üzere tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-302">Packet header size is defined to allow enough room to accommodate the size of the header.</span></span> <span data-ttu-id="5f8f1-303">*Nx_packet_allocate* hizmeti bir paket ayırmak ve belirtilen paket türüne göre paketteki preppointer 'ı ayarlaması için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-303">The *nx_packet_allocate* service is used to allocate a packet and adjusts the prepend pointer in the packet according to the type of packet specified.</span></span> <span data-ttu-id="5f8f1-304">Paket türü, protokol verilerinin önüne (UDP, TCP veya ıCMP gibi) protokol üstbilgisini eklemek için gereken uzaklığa NetX söyler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-304">The packet type tells NetX the offset required for inserting the protocol header (such as UDP, TCP, or ICMP) in front of the protocol data.</span></span>

<span data-ttu-id="5f8f1-305">Aşağıdaki türler, paketteki IP üstbilgisini ve fiziksel katman (Ethernet) üst bilgisini hesaba çekmek için NetX içinde tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-305">The following types are defined in NetX to take into account the IP header and physical layer (Ethernet) header in the packet.</span></span> <span data-ttu-id="5f8f1-306">İkinci durumda, gereken 4 baytlık hizalamasının dikkate alınması 16 bayt olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-306">In the latter case, it is assumed to be 16 bytes taking the required 4-byte alignment into consideration.</span></span> <span data-ttu-id="5f8f1-307">IP paketleri, IP ağları için paketler ayırmak üzere uygulamalar için NetX içinde hala tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-307">IP packets are still defined in NetX for applications to allocate packets for IP networks.</span></span> <span data-ttu-id="5f8f1-308">Aşağıdaki tabloda tanımlanan semboller gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-308">The following table shows symbols defined:</span></span>

| <span data-ttu-id="5f8f1-309">Paket türü</span><span class="sxs-lookup"><span data-stu-id="5f8f1-309">Packet Type</span></span>   | <span data-ttu-id="5f8f1-310">Değer</span><span class="sxs-lookup"><span data-stu-id="5f8f1-310">Value</span></span> |
|---------------|-------|
| <span data-ttu-id="5f8f1-311">NX_IP_PACKET</span><span class="sxs-lookup"><span data-stu-id="5f8f1-311">NX_IP_PACKET</span></span>  | <span data-ttu-id="5f8f1-312">0x24</span><span class="sxs-lookup"><span data-stu-id="5f8f1-312">0x24</span></span>  |
| <span data-ttu-id="5f8f1-313">NX_UDP_PACKET</span><span class="sxs-lookup"><span data-stu-id="5f8f1-313">NX_UDP_PACKET</span></span> | <span data-ttu-id="5f8f1-314">0x2C</span><span class="sxs-lookup"><span data-stu-id="5f8f1-314">0x2c</span></span>  |
| <span data-ttu-id="5f8f1-315">NX_TCP_PACKET</span><span class="sxs-lookup"><span data-stu-id="5f8f1-315">NX_TCP_PACKET</span></span> | <span data-ttu-id="5f8f1-316">0x38</span><span class="sxs-lookup"><span data-stu-id="5f8f1-316">0x38</span></span>  |
|               |       |

### <a name="pool-capacity"></a><span data-ttu-id="5f8f1-317">Havuz kapasitesi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-317">Pool Capacity</span></span>
<span data-ttu-id="5f8f1-318">Bir paket havuzundaki paketlerin sayısı, yük boyutunun bir işlevidir ve paket havuzu oluşturma hizmeti için sağlanan bellek alanındaki toplam bayt sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-318">The number of packets in a packet pool is a function of the payload size and the total number of bytes in the memory area supplied to the packet pool create service.</span></span> <span data-ttu-id="5f8f1-319">Havuzun kapasitesi, paket boyutu (NX_PACKET üst bilgisinin boyutu, yük boyutu ve doğru hizalama) sağlanan bellek alanındaki toplam bayt sayısına bölünerek hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-319">The capacity of the pool is calculated by dividing the packet size (including the size of the NX_PACKET header, the payload size, and proper alignment) into the total number of bytes in the supplied memory area.</span></span>

### <a name="thread-suspension"></a><span data-ttu-id="5f8f1-320">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-320">Thread Suspension</span></span>
<span data-ttu-id="5f8f1-321">Uygulama iş parçacıkları, boş bir havuzdan paket beklerken askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-321">Application threads can suspend while waiting for a packet from an empty pool.</span></span> <span data-ttu-id="5f8f1-322">Havuza bir paket döndürüldüğünde, askıya alınan iş parçacığına Bu paket verilir ve devam edilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-322">When a packet is returned to the pool, the suspended thread is given this packet and resumed.</span></span>

<span data-ttu-id="5f8f1-323">Aynı paket havuzunda birden çok iş parçacığı askıya alınırsa, bunlar askıya alındığı sırada sürdürülür (FıFO).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-323">If multiple threads are suspended on the same packet pool, they are resumed in the order they were suspended (FIFO).</span></span>

### <a name="pool-statistics-and-errors"></a><span data-ttu-id="5f8f1-324">Havuz Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-324">Pool Statistics and Errors</span></span>
<span data-ttu-id="5f8f1-325">Etkinleştirilirse, NetX paket yönetimi yazılım **hataları** , uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-325">If enabled, the NetX packet management software **Errors** keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-326">Paket havuzları için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-326">The following statistics and error reports are maintained for packet pools:</span></span>

* <span data-ttu-id="5f8f1-327">Havuzdaki toplam paket sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-327">Total Packets in Pool</span></span>
* <span data-ttu-id="5f8f1-328">Havuzdaki ücretsiz paketler</span><span class="sxs-lookup"><span data-stu-id="5f8f1-328">Free Packets in Pool</span></span>
* <span data-ttu-id="5f8f1-329">Havuz boş ayırma Istekleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-329">Pool Empty Allocation Requests</span></span>
* <span data-ttu-id="5f8f1-330">Havuz boş ayırma getirilmesi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-330">Pool Empty Allocation Suspensions</span></span>
* <span data-ttu-id="5f8f1-331">Geçersiz paket yayınları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-331">Invalid Packet Releases</span></span>

<span data-ttu-id="5f8f1-332">Bu istatistik ve hata raporlarının tümü, havuzdaki toplam ve ücretsiz paket sayısı dışında, \***NX_DISABLE_PACKET_INFO** _ tanımlanmadığı sürece NETX kitaplığı 'nda yerleşiktir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-332">All of these statistics and error reports, except for total and free packet count in pool, are built into NetX library unless \***NX_DISABLE_PACKET_INFO** _ is defined.</span></span> <span data-ttu-id="5f8f1-333">Bu veriler, _ *_nx_packet_pool_info_get_*\* hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-333">This data is available to the application with the _ *_nx_packet_pool_info_get_*\* service.</span></span>

### <a name="packet-pool-control-block-nx_packet_pool"></a><span data-ttu-id="5f8f1-334">Paket havuzu denetim bloğu NX_PACKET_POOL</span><span class="sxs-lookup"><span data-stu-id="5f8f1-334">Packet Pool Control Block NX_PACKET_POOL</span></span>

<span data-ttu-id="5f8f1-335">Her paket bellek havuzunun özellikleri denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-335">The characteristics of each packet memory pool are found in its control block.</span></span> <span data-ttu-id="5f8f1-336">Bu havuz, bağlantılı ücretsiz paketlerin listesi, serbest paket sayısı ve bu havuzdaki paketlerin yük boyutu gibi yararlı bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-336">It contains useful information such as the linked list of free packets, the number of free packets, and the payload size for packets in this pool.</span></span> <span data-ttu-id="5f8f1-337">Bu yapı *nx_api. h* dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-337">This structure is defined in the *nx_api.h* file.</span></span>

<span data-ttu-id="5f8f1-338">Paket havuzu denetim blokları bellekte herhangi bir yerde bulunabilir, ancak herhangi bir işlevin kapsamı dışında tanımlayarak denetimin genel bir yapıyı engellemesini sağlamak yaygın olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-338">Packet pool control blocks can be located anywhere in memory, but it is most common to make the control block a global structure by defining it outside the scope of any function.</span></span>

## <a name="ip-protocol"></a><span data-ttu-id="5f8f1-339">IP Protokolü</span><span class="sxs-lookup"><span data-stu-id="5f8f1-339">IP Protocol</span></span>

<span data-ttu-id="5f8f1-340">NetX 'in Internet Protokolü (IP) bileşeni, Internet üzerinde IP paketleri göndermekten ve almaktan sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-340">The Internet Protocol (IP) component of NetX is responsible for sending and receiving IP packets on the Internet.</span></span> <span data-ttu-id="5f8f1-341">NetX 'te, temel alınan ağ sürücüsünden yararlanarak TCP, UDP, ıCMP ve ıGMP iletileri gönderip alma işleminden sorumlu olan bileşendir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-341">In NetX, it is the component ultimately responsible for sending and receiving TCP, UDP, ICMP, and IGMP messages, utilizing the underlying network driver.</span></span>

<span data-ttu-id="5f8f1-342">NetX, IP protokolünü destekler (RFC 791)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-342">NetX supports IP protocol (RFC 791)</span></span>

### <a name="ip-addresses"></a><span data-ttu-id="5f8f1-343">IP Adresleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-343">IP Addresses</span></span>

<span data-ttu-id="5f8f1-344">Internet üzerindeki her konağın, IP adresi olarak adlandırılan benzersiz bir 32 bit tanımlayıcısı vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-344">Each host on the Internet has a unique 32-bit identifier called an IP address.</span></span> <span data-ttu-id="5f8f1-345">Şekil 4 ' te açıklandığı gibi beş IP adresi sınıfı vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-345">There are five classes of IP addresses as described in Figure 4.</span></span> <span data-ttu-id="5f8f1-346">Beş IP adresi sınıfının aralıkları aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-346">The ranges of the five IP address classes are as follows:</span></span>

| <span data-ttu-id="5f8f1-347">Sınıf</span><span class="sxs-lookup"><span data-stu-id="5f8f1-347">Class</span></span> | <span data-ttu-id="5f8f1-348">Aralık</span><span class="sxs-lookup"><span data-stu-id="5f8f1-348">Range</span></span>                        |
|-------|------------------------------|
| <span data-ttu-id="5f8f1-349">A</span><span class="sxs-lookup"><span data-stu-id="5f8f1-349">A</span></span>     | <span data-ttu-id="5f8f1-350">0.0.0.0 127.255.255.255</span><span class="sxs-lookup"><span data-stu-id="5f8f1-350">0.0.0.0 to 127.255.255.255</span></span>   |
| <span data-ttu-id="5f8f1-351">B</span><span class="sxs-lookup"><span data-stu-id="5f8f1-351">B</span></span>     | <span data-ttu-id="5f8f1-352">128.0.0.0 to 191.255.255.255</span><span class="sxs-lookup"><span data-stu-id="5f8f1-352">128.0.0.0 to 191.255.255.255</span></span> |
| <span data-ttu-id="5f8f1-353">C</span><span class="sxs-lookup"><span data-stu-id="5f8f1-353">C</span></span>     | <span data-ttu-id="5f8f1-354">192.0.0.0 to 223.255.255.255</span><span class="sxs-lookup"><span data-stu-id="5f8f1-354">192.0.0.0 to 223.255.255.255</span></span> |
| <span data-ttu-id="5f8f1-355">D</span><span class="sxs-lookup"><span data-stu-id="5f8f1-355">D</span></span>     | <span data-ttu-id="5f8f1-356">224.0.0.0 ile 239.255.255.255 arası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-356">224.0.0.0 to 239.255.255.255</span></span> |
| <span data-ttu-id="5f8f1-357">E</span><span class="sxs-lookup"><span data-stu-id="5f8f1-357">E</span></span>     | <span data-ttu-id="5f8f1-358">240.0.0.0 to 247.255.255.255</span><span class="sxs-lookup"><span data-stu-id="5f8f1-358">240.0.0.0 to 247.255.255.255</span></span> |

<span data-ttu-id="5f8f1-359">**7 bit 24 bit**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-359">**7 bits 24 bits**</span></span>

![IP adresi yapısı](./media/user-guide/ip-address-structure.png)

<span data-ttu-id="5f8f1-361">**ŞEKIL 4. IP adresi yapısı**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-361">**FIGURE 4. IP Address Structure**</span></span>

<span data-ttu-id="5f8f1-362">Ayrıca üç tür adres belirtimi vardır: *tek noktaya* yayın, *yayın* ve *çok noktaya yayın*.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-362">There are also three types of address specifications: *unicast*, *broadcast*, and *multicast*.</span></span> <span data-ttu-id="5f8f1-363">Tek noktaya yayın adresleri, Internet 'teki belirli bir konağı tanımlayan IP adresleridir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-363">Unicast addresses are those IP addresses that identify a specific host on the Internet.</span></span> <span data-ttu-id="5f8f1-364">Tek noktaya yayın adresleri bir kaynak ya da hedef IP adresi olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-364">Unicast addresses can be either a source or a destination IP address.</span></span> <span data-ttu-id="5f8f1-365">Bir yayın adresi, belirli bir ağ veya alt ağ üzerindeki tüm Konakları tanımlar ve yalnızca hedef adres olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-365">A broadcast address identifies all hosts on a specific network or sub-network and can only be used as destination addresses.</span></span> <span data-ttu-id="5f8f1-366">Yayın adresleri, adres kümesinin ana bilgisayar KIMLIĞI kısmı olacak şekilde belirtilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-366">Broadcast addresses are specified by having the host ID portion of the address set to ones.</span></span> <span data-ttu-id="5f8f1-367">Çok noktaya yayın adresleri (sınıf D) Internet 'te dinamik bir konaklar grubu belirtir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-367">Multicast addresses (Class D) specify a dynamic group of hosts on the Internet.</span></span> <span data-ttu-id="5f8f1-368">Çok noktaya yayın grubunun üyeleri her istediklerinde katılabilir ve bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-368">Members of the multicast group may join and leave whenever they wish.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-369">*Yalnızca IP üzerinden UDP gibi bağlantısız protokoller yayın ve çok noktaya yayın grubunun sınırlı yayın özelliğini kullanabilir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-369">*Only connectionless protocols like UDP over IP can utilize broadcast and the limited broadcast capability of the multicast group.*</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-370">*Makro* IP_address *,*  \* **nx_api. h** _ içinde tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-370">*The macro* IP_ADDRESS *is defined in* \***nx_api.h** _.</span></span> <span data-ttu-id="5f8f1-371">IP adreslerinin bir nokta yerine virgüller kullanılarak kolay belirtime olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-371">It allows easy specification of IP addresses using commas instead of a periods.</span></span> <span data-ttu-id="5f8f1-372">Örneğin, IP_ADDRESS (128, 0, 0, 0) Şekil 4 ' te gösterilen ilk sınıf B adresi _specifies. \*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-372">For example, IP_ADDRESS(128,0,0,0) _specifies the first class B address shown in Figure 4.\*</span></span>

### <a name="ip-gateway-address"></a><span data-ttu-id="5f8f1-373">IP ağ geçidi adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-373">IP Gateway Address</span></span>

<span data-ttu-id="5f8f1-374">Ağ geçitleri, ağları üzerinde yerel etki alanı dışındaki hedeflere giden paketleri geçirmeye yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-374">Network gateways assist hosts on their networks to relay packets destined to destinations outside the local domain.</span></span> <span data-ttu-id="5f8f1-375">Her düğüm, bir sonraki atlamanın, komşlarından biri olan veya önceden programlanmış bir statik yönlendirme tablosu aracılığıyla gönderileceği bir bilgi içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-375">Each node has some knowledge of which next hop to send to, either the destination one of its neighbors, or through a pre-programmed static routing table.</span></span> <span data-ttu-id="5f8f1-376">Ancak, bu yaklaşımlar başarısız olursa, düğüm paketin hedefine nasıl yönlendirildiğini hakkında daha fazla bilgi içeren paketi varsayılan ağ geçidine iletmelidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-376">However if these approaches fail, the node should forward the packet to its default gateway which has more information on how to route the packet to its destination.</span></span> <span data-ttu-id="5f8f1-377">Varsayılan ağ geçidinin IP örneğine bağlı fiziksel arabirimlerden biri aracılığıyla doğrudan erişilebilir olması gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-377">Note that the default gateway must be directly accessible through one of the physical interfaces attached to the IP instance.</span></span> <span data-ttu-id="5f8f1-378">Uygulama, IP varsayılan ağ geçidi adresini yapılandırmak için ***nx_ip_gateway_address_set*** çağırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-378">The application calls ***nx_ip_gateway_address_set*** to configure IP default gateway address.</span></span>

### <a name="ip-header"></a><span data-ttu-id="5f8f1-379">IP üstbilgisi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-379">IP Header</span></span>

<span data-ttu-id="5f8f1-380">Internet 'te herhangi bir IP paketinin gönderilmesi için bir IP üst bilgisine sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-380">For any IP packet to be sent on the Internet, it must have an IP header.</span></span> <span data-ttu-id="5f8f1-381">Daha yüksek düzey protokoller (UDP, TCP, ıCMP veya ıGMP) bir paket göndermek için IP bileşenini çağırdığınızda, IP gönderme modülü verilerin önüne bir IP üstbilgisi koyar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-381">When higher-level protocols (UDP, TCP, ICMP, or IGMP) call the IP component to send a packet, the IP transmit module places an IP header in front of the data.</span></span> <span data-ttu-id="5f8f1-382">Buna karşılık, ağdan IP paketleri alındığında, IP bileşeni, IP üst bilgisini, daha üst düzey protokollere göndermeden önce paketten kaldırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-382">Conversely, when IP packets are received from the network, the IP component removes the IP header from the packet before delivery to the higher-level protocols.</span></span> <span data-ttu-id="5f8f1-383">Şekil 5 ' te IP üstbilgisinin biçimi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-383">Figure 5 shows the format of the IP header.</span></span>

![IP üst bilgi biçimi](./media/user-guide/ip-header-format.png)

<span data-ttu-id="5f8f1-385">**ŞEKIL 5. IP üst bilgi biçimi**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-385">**FIGURE 5. IP Header Format**</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-386">*TCP/IP uygulamasındaki tüm üstbilgilerin big endian biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur. Örneğin, 4 bit sürümü ve IP üstbilgisinin 4 bitlik üstbilgi uzunluğu üstbilginin ilk baytında bulunmalıdır.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-386">*All headers in the TCP/IP implementation are expected to be in big endian format. In this format, the most significant byte of the word resides at the lowest byte address. For example, the 4-bit version and the 4-bit header length of the IP header must be located on the first byte of the header.*</span></span>

<span data-ttu-id="5f8f1-387">IP üstbilgisinin alanları aşağıdaki gibi tanımlanır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-387">The fields of the IP header are defined as follows:</span></span>

<span data-ttu-id="5f8f1-388">**IP üstbilgisi alanı amacı**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-388">**IP Header Field Purpose**</span></span>

<span data-ttu-id="5f8f1-389">***4 bit sürümü*** Bu alan, bu üst bilginin temsil ettiği IP sürümünü içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-389">***4-bit version*** This field contains the version of IP this header represents.</span></span> <span data-ttu-id="5f8f1-390">NetX 'in desteklediği IP sürüm 4 için, bu alanın değeri 4 ' tür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-390">For IP version 4, which is what NetX supports, the value of this field is 4.</span></span>

<span data-ttu-id="5f8f1-391">***4 bit üst bilgi uzunluğu*** Bu alan, IP üstbilgisindeki 32 bitlik sözcüklerin sayısını belirtir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-391">***4-bit header length*** This field specifies the number of 32-bit words in the IP header.</span></span> <span data-ttu-id="5f8f1-392">Hiçbir seçenek sözcüğü yoksa, bu alanın değeri 5 ' tir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-392">If no option words are present, the value for this field is 5.</span></span>

<span data-ttu-id="5f8f1-393">***8 bit hizmet türü (TOS)*** Bu alan, bu IP paketi için istenen hizmetin türünü belirtir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-393">***8-bit type of service (TOS)*** This field specifies the type of service requested for this IP packet.</span></span> <span data-ttu-id="5f8f1-394">Geçerli istekler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-394">Valid requests are as follows:</span></span>

| <span data-ttu-id="5f8f1-395">**TOS Isteği**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-395">**TOS Request**</span></span>     | <span data-ttu-id="5f8f1-396">**Değer**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-396">**Value**</span></span> |
| ------------------- | --------- |
| <span data-ttu-id="5f8f1-397">Normal</span><span class="sxs-lookup"><span data-stu-id="5f8f1-397">Normal</span></span>              | <span data-ttu-id="5f8f1-398">-</span><span class="sxs-lookup"><span data-stu-id="5f8f1-398">0x00</span></span>      |
| <span data-ttu-id="5f8f1-399">En az gecikme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-399">Minimum Delay</span></span>       | <span data-ttu-id="5f8f1-400">0x10</span><span class="sxs-lookup"><span data-stu-id="5f8f1-400">0x10</span></span>      |
| <span data-ttu-id="5f8f1-401">Maksimum veri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-401">Maximum Data</span></span>        | <span data-ttu-id="5f8f1-402">0x08</span><span class="sxs-lookup"><span data-stu-id="5f8f1-402">0x08</span></span>      |
| <span data-ttu-id="5f8f1-403">En yüksek güvenilirlik</span><span class="sxs-lookup"><span data-stu-id="5f8f1-403">Maximum Reliability</span></span> | <span data-ttu-id="5f8f1-404">0x04</span><span class="sxs-lookup"><span data-stu-id="5f8f1-404">0x04</span></span>      |
| <span data-ttu-id="5f8f1-405">Minimum maliyet</span><span class="sxs-lookup"><span data-stu-id="5f8f1-405">Minimum Cost</span></span>        | <span data-ttu-id="5f8f1-406">0x02</span><span class="sxs-lookup"><span data-stu-id="5f8f1-406">0x02</span></span>      |

<span data-ttu-id="5f8f1-407">***16 bit Toplam uzunluk*** Bu alan IP üst bilgisi dahil olmak üzere bayt cinsinden IP veri biriminin toplam uzunluğunu içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-407">***16-bit total length*** This field contains the total length of the IP datagram in bytes, including the IP header.</span></span> <span data-ttu-id="5f8f1-408">Bir IP veri birimi, TCP/IP Interneti üzerinde bulunan temel bilgi birimidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-408">An IP datagram is the basic unit of information found on a TCP/IP Internet.</span></span> <span data-ttu-id="5f8f1-409">Verilerin yanı sıra bir hedef ve kaynak adresi içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-409">It contains a destination and source address in addition to data.</span></span> <span data-ttu-id="5f8f1-410">16 bit alan bir IP veri biriminin en büyük boyutu 65.535 bayttır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-410">Because it is a 16-bit field, the maximum size of an IP datagram is 65,535 bytes.</span></span>

<span data-ttu-id="5f8f1-411">***16 bit tanımlama*** Alan, bir konaktan gönderilen her IP veri birimini benzersiz şekilde tanımlamak için kullanılan bir sayıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-411">***16-bit identification*** The field is a number used to uniquely identify each IP datagram sent from a host.</span></span> <span data-ttu-id="5f8f1-412">Bu sayı genellikle bir IP veri birimi gönderildikten sonra artırılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-412">This number is typically incremented after an IP datagram is sent.</span></span> <span data-ttu-id="5f8f1-413">Alınan IP paket parçalarının montajı özellikle yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-413">It is especially useful in assembling received IP packet fragments.</span></span>

<span data-ttu-id="5f8f1-414">***3 bit bayrak*** Bu alan IP parçalama bilgilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-414">***3-bit flags*** This field contains IP fragmentation information.</span></span> <span data-ttu-id="5f8f1-415">Bit 14 "parçalara ayırma" bitidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-415">Bit 14 is the "don't fragment" bit.</span></span> <span data-ttu-id="5f8f1-416">Bu bit ayarlandıysa, giden IP datagramı parçalanmaz.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-416">If this bit is set, the outgoing IP datagram will not be fragmented.</span></span> <span data-ttu-id="5f8f1-417">Bit 13, "daha fazla parça" bitidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-417">Bit 13 is the "more fragments" bit.</span></span> <span data-ttu-id="5f8f1-418">Bu bit ayarlandıysa, daha fazla parça vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-418">If this bit is set, there are more fragments.</span></span> <span data-ttu-id="5f8f1-419">Bu bit açık ise, IP paketinin son parçadır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-419">If this bit is clear, this is the last fragment of the IP packet.</span></span>

<span data-ttu-id="5f8f1-420">**IP üstbilgisi alanı amacı**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-420">**IP Header Field Purpose**</span></span>

<span data-ttu-id="5f8f1-421">***13 bit parça kayması*** Bu alan, parça kaydırmasına ait 13 bit üst ' i içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-421">***13-bit fragment offset*** This field contains the upper 13-bits of the fragment offset.</span></span> <span data-ttu-id="5f8f1-422">Bu nedenle, parça uzaklıklarla yalnızca 8 baytlık sınırlarda izin verilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-422">Because of this, fragment offsets are only allowed on 8-byte boundaries.</span></span> <span data-ttu-id="5f8f1-423">Parçalanmış bir IP veri biriminin ilk parçası "daha fazla parça" bit kümesine sahip olur ve 0 ' ın bir uzaklığa sahip olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-423">The first fragment of a fragmented IP datagram will have the “more fragments” bit set and have an offset of 0.</span></span>

<span data-ttu-id="5f8f1-424">***8 bit yaşam süresi (TTL)*** Bu alan, bu veri biriminin geçebileceği yönlendirici sayısını içerir ve bu da veri biriminin ömrünü sınırlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-424">***8-bit time to live (TTL)*** This field contains the number of routers this datagram can pass, which limits the lifetime of the datagram.</span></span>

<span data-ttu-id="5f8f1-425">***8 bit protokol*** Bu alan, hangi protokolün IP datagramı kullandığını belirtir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-425">***8-bit protocol*** This field specifies which protocol is using the IP datagram.</span></span> <span data-ttu-id="5f8f1-426">Geçerli protokollerin ve bunların değerlerinin listesi aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-426">The following is a list of valid protocols and their values:</span></span>

| <span data-ttu-id="5f8f1-427">Protokol</span><span class="sxs-lookup"><span data-stu-id="5f8f1-427">Protocol</span></span> | <span data-ttu-id="5f8f1-428">Değer</span><span class="sxs-lookup"><span data-stu-id="5f8f1-428">Value</span></span> |
|----------|-------|
| <span data-ttu-id="5f8f1-429">ICMP</span><span class="sxs-lookup"><span data-stu-id="5f8f1-429">ICMP</span></span>     | <span data-ttu-id="5f8f1-430">0x01</span><span class="sxs-lookup"><span data-stu-id="5f8f1-430">0x01</span></span>  |
| <span data-ttu-id="5f8f1-431">IGMP</span><span class="sxs-lookup"><span data-stu-id="5f8f1-431">IGMP</span></span>     | <span data-ttu-id="5f8f1-432">0x02</span><span class="sxs-lookup"><span data-stu-id="5f8f1-432">0x02</span></span>  |
| <span data-ttu-id="5f8f1-433">TCP</span><span class="sxs-lookup"><span data-stu-id="5f8f1-433">TCP</span></span>      | <span data-ttu-id="5f8f1-434">0X06</span><span class="sxs-lookup"><span data-stu-id="5f8f1-434">0X06</span></span>  |
| <span data-ttu-id="5f8f1-435">UDP</span><span class="sxs-lookup"><span data-stu-id="5f8f1-435">UDP</span></span>      | <span data-ttu-id="5f8f1-436">0X11</span><span class="sxs-lookup"><span data-stu-id="5f8f1-436">0X11</span></span>  |
|          |       |


<span data-ttu-id="5f8f1-437">***16 bit sağlama toplamı*** Bu alan, yalnızca IP üstbilgisini kapsayan 16 bit sağlama toplamını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-437">***16-bit checksum*** This field contains the 16-bit checksum that covers the IP header only.</span></span> <span data-ttu-id="5f8f1-438">IP yükünü kapsayan üst düzey protokollerde ek sağlama toplamı vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-438">There are additional checksums in the higher level protocols that cover the IP payload.</span></span>

<span data-ttu-id="5f8f1-439">***32-bit kaynak IP adresi*** Bu alan, gönderenin IP adresini içerir ve her zaman bir ana bilgisayar adresidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-439">***32-bit source IP address*** This field contains the IP address of the sender and is always a host address.</span></span>

<span data-ttu-id="5f8f1-440">***32-bit hedef IP adresi*** Bu alan, adres bir yayın veya çok noktaya yayın adresi ise alıcı veya alıcıların IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-440">***32-bit destination IP address*** This field contains the IP address of the receiver or receivers if the address is a broadcast or multicast address.</span></span>

### <a name="creating-ip-instances"></a><span data-ttu-id="5f8f1-441">IP örnekleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-441">Creating IP Instances</span></span>

<span data-ttu-id="5f8f1-442">IP örnekleri, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-442">IP instances are created either during initialization or during runtime by application threads.</span></span> <span data-ttu-id="5f8f1-443">İlk IP adresi, ağ maskesi, varsayılan paket havuzu, medya sürücüsü ve iç IP iş parçacığının belleği ve önceliği *nx_ip_create* hizmeti tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-443">The initial IP address, network mask, default packet pool, media driver, and memory and priority of the internal IP thread are defined by the *nx_ip_create* service.</span></span> <span data-ttu-id="5f8f1-444">Uygulama IP adresi olan IP adresini geçersiz bir adrese (0.0.0.0) ayarlandıysa, arabirim adresinin daha sonra, RARP aracılığıyla ya da DHCP veya benzer protokoller aracılığıyla el ile yapılandırma ile çözümlenebileceği varsayılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-444">If the application initializes the IP instance with its IP address set to an invalid address(0.0.0.0), it is assumed that the interface address is going to resolved by manual configuration later, via RARP, or through DHCP or similar protocols.</span></span>

<span data-ttu-id="5f8f1-445">Birden çok ağ arabirimine sahip sistemler için, *nx_ip_create* çağrılırken birincil arabirim atanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-445">For systems with multiple network interfaces, the primary interface is designated when calling *nx_ip_create*.</span></span> <span data-ttu-id="5f8f1-446">Her ek arabirim, *nx_ip_interface_attach* ÇAĞıRARAK aynı IP örneğine bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-446">Each additional interface can be attached to the same IP instance by calling *nx_ip_interface_attach*.</span></span> <span data-ttu-id="5f8f1-447">Bu hizmet, arabirim denetim bloğunda ağ arabirimi (IP adresi, ağ maskesi gibi) hakkındaki bilgileri depolar ve sürücü örneğini IP örneğindeki arabirim denetim bloğu ile ilişkilendirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-447">This service stores information about the network interface (such as IP address, network mask) in the interface control block, and associates the driver instance with the interface control block in the IP instance.</span></span> <span data-ttu-id="5f8f1-448">Sürücü bir veri paketi aldığından, IP alma mantığına iletmeden önce arabirim bilgilerini NX_PACKET yapıda depolaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-448">As the driver receives a data packet, it needs to store the interface information in the NX_PACKET structure before forwarding it to the IP receive logic.</span></span> <span data-ttu-id="5f8f1-449">Herhangi bir arabirim iliştirmeden önce bir IP örneğinin oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-449">Note an IP instance must already be created before attaching any interfaces.</span></span>

 ### <a name="ip-send"></a><span data-ttu-id="5f8f1-450">IP gönderme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-450">IP Send</span></span>
 <span data-ttu-id="5f8f1-451">NetX 'teki IP gönderme işlemi oldukça kolaylaştırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-451">The IP send processing in NetX is very streamlined.</span></span>

<span data-ttu-id="5f8f1-452">Paketteki önüne işaretçisi, IP üst bilgisine uyacak şekilde geriye taşınır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-452">The prepend pointer in the packet is moved backwards to accommodate the IP header.</span></span> <span data-ttu-id="5f8f1-453">IP üstbilgisi tamamlandı (çağıran protokol katmanı tarafından belirtilen tüm seçeneklerle), IP sağlama toplamı satır içinde hesaplanır ve paket ilişkili ağ sürücüsüne gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-453">The IP header is completed (with all the options specified by the calling protocol layer), the IP checksum is computed in-line, and the packet is dispatched to the associated network driver.</span></span> <span data-ttu-id="5f8f1-454">Ayrıca, giden parçalanma IP gönderme işlemi içinden de koordine edilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-454">In addition, outgoing fragmentation is also coordinated from within the IP send processing.</span></span>

<span data-ttu-id="5f8f1-455">IP için NetX, hedef IP adresi için fiziksel eşleme gerekliyse ARP isteklerini başlatır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-455">For IP, NetX initiates ARP requests if physical mapping is needed for the destination IP address.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-456">*IP bağlantısı için, sıraya alınan paket sayısı ARP kuyruğu derinliğini (sembol NX_ARP_MAX_QUEUE_DEPTH tarafından tanımlanır) aşana kadar IP adresi çözümlemesi (yani fiziksel eşleme) gerektiren paketler ARP kuyruğunda sıraya alınır* *.* *Sıra derinliğine ulaşıldığında NETX kuyruktaki en eski paketi kaldırır ve kalan paketlerin sıraya alındığı adres çözümlemesini beklemeye devam eder. Öte yandan, bir ARP girdisi çözümlenmezse ARP girişinde bekleyen paketler ARP giriş zaman aşımı üzerine serbest bırakılır.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-456">*For IP connectivity, packets that require IP address resolution (i.e., physical mapping) are enqueued on the ARP queue until the number of packets queued exceeds the ARP queue depth (defined by the* *symbol **NX_ARP_MAX_QUEUE_DEPTH**). If the* *queue depth is reached, NetX will remove the oldest packet on the queue and continue waiting for address resolution for the remaining packets enqueued. On the other hand, if an ARP entry is not resolved, the pending packets on the ARP entry are released upon ARP entry timeout.*</span></span>

<span data-ttu-id="5f8f1-457">Birden çok ağ arabirimine sahip sistemler için NetX, hedef IP adresini temel alan bir arabirim seçer.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-457">For systems with multiple network interfaces, NetX chooses an interface based on the destination IP address.</span></span> <span data-ttu-id="5f8f1-458">Aşağıdaki yordam seçim işlemi için geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-458">The following procedure applies to the selection process:</span></span>

1. <span data-ttu-id="5f8f1-459">Hedef adres IP yayını veya çok noktaya yayın ise ve geçerli bir giden arabirim belirtilmişse, bu arabirimi kullanın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-459">If a destination address is IP broadcast or multicast, and if a valid outgoing interface is specified, use that interface.</span></span> <span data-ttu-id="5f8f1-460">Aksi takdirde, ilk fiziksel arabirim kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-460">Otherwise, the first physical interface is used.</span></span>

2. <span data-ttu-id="5f8f1-461">Hedef adres statik yönlendirme tablosunda bulunursa, ağ geçidiyle ilişkili arabirim kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-461">If the destination address is found in the static routing table, the interface associated with the gateway is used.</span></span>

3. <span data-ttu-id="5f8f1-462">Hedef bağlantıalıyorsa, bağlantı bağlantısı arabirimi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-462">If the destination is on-link, the on-link interface is used.</span></span>

4. <span data-ttu-id="5f8f1-463">Hedef adres 127.0.0.1 geri döngü adresli ise, geri döngü arabirimi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-463">If the destination address is a loopback address 127.0.0.1, the loopback interface is used.</span></span>

5. <span data-ttu-id="5f8f1-464">Varsayılan ağ geçidi düzgün yapılandırıldıysa, paketi aktarmak için varsayılan ağ geçidiyle ilişkili arabirimi kullanın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-464">If the default gateway is properly configured, use the interface associated with the default gateway to transmit the packet.</span></span>

6. <span data-ttu-id="5f8f1-465">Yukarıdaki tüm hata oluştuğunda çıkış paketi bırakılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-465">The output packet is dropped if all the above fails.</span></span>

### <a name="ip-receive"></a><span data-ttu-id="5f8f1-466">IP alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-466">IP Receive</span></span>

<span data-ttu-id="5f8f1-467">IP alma işlemi ağ sürücüsünden veya iç IP iş parçacığından (ertelenmiş alınan paket sırasındaki paketleri işlemek için) çağrılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-467">The IP receive processing is either called from the network driver or the internal IP thread (for processing packets on the deferred received packet queue).</span></span> <span data-ttu-id="5f8f1-468">IP alma işlemi protokol alanını inceler ve paketi uygun protokol bileşenine gönderme girişiminde bulunur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-468">The IP receive processing examines the protocol field and attempts to dispatch the packet to the proper protocol component.</span></span> <span data-ttu-id="5f8f1-469">Paket gerçekten gönderilmeden önce IP üstbilgisi, IP üstbilgisinin ötesinde önüne işaretçisinin ilerleyerek kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-469">Before the packet is actually dispatched, the IP header is removed by advancing the prepend pointer past the IP header.</span></span>

<span data-ttu-id="5f8f1-470">IP alma işlemi, parçalanmış IP paketlerini de algılar ve parçalama etkinse bunları yeniden birleştirmek için gerekli adımları gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-470">IP receive processing also detects fragmented IP packets and performs the necessary steps to reassemble them if fragmentation is enabled.</span></span> <span data-ttu-id="5f8f1-471">Parçalama gerekliyse ancak etkinleştirilmemişse, paket bırakılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-471">If fragmentation is needed but not enabled, the packet is dropped.</span></span>

<span data-ttu-id="5f8f1-472">NetX, pakette belirtilen arabirime bağlı olarak uygun ağ arabirimini belirler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-472">NetX determines the appropriate network interface based on the interface specified in the packet.</span></span> <span data-ttu-id="5f8f1-473">Paket arabirimi NULL ise NetX varsayılan olarak birincil arabirime ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-473">If the packet interface is NULL, NetX defaults to the primary interface.</span></span> <span data-ttu-id="5f8f1-474">Bu, eski NetX Ethernet sürücüleriyle uyumluluğu güvence altına almak için yapılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-474">This is done to guarantee compatibility with legacy NetX Ethernet drivers.</span></span>

### <a name="raw-ip-send"></a><span data-ttu-id="5f8f1-475">Ham IP gönderme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-475">Raw IP Send</span></span>

<span data-ttu-id="5f8f1-476">Ham IP paketi, NetX tarafından doğrudan desteklenmeyen (ve işlenen) üst katman protokol yükünün bulunduğu bir IP çerçevesidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-476">A raw IP packet is an IP frame that contains upper layer protocol payload not directly supported (and processed) by NetX.</span></span> <span data-ttu-id="5f8f1-477">Ham paket, geliştiricilerin kendi IP tabanlı uygulamalarını tanımlamasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-477">A raw packet allows developers to define their own IP-based applications.</span></span> <span data-ttu-id="5f8f1-478">Bir uygulama, _*_nx_ip_raw_packet_enabled_*_ HIZMETIYLE ham IP paket işleme etkinleştirildiyse, doğrudan \***nx_ip_raw_packet_send** _ hizmetini kullanarak ham IP paketleri gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-478">An application may send raw IP packets directly using the ***nx_ip_raw_packet_send** _ service if raw IP packet processing has been enabled with the _*_nx_ip_raw_packet_enabled_\*_ service.</span></span> <span data-ttu-id="5f8f1-479">Hedef adres bir çok noktaya yayın veya yayın adresidir, ancak NetX varsayılan olarak ilk (birincil) arabirime ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-479">If the destination address is a multicast or broadcast address, however, NetX defaults to the first (primary) interface.</span></span> <span data-ttu-id="5f8f1-480">Bu nedenle, bu tür paketleri ikincil arabirimlerde göndermek için, uygulamanın, giden paket için kullanılacak kaynak adresini belirtmek üzere _ *_nx_ip_raw_packet_interface_send_*\* hizmetini kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-480">Therefore, to send such packets out on secondary interfaces, the application must use the _ *_nx_ip_raw_packet_interface_send_*\* service to specify the source address to use for the outgoing packet.</span></span>

### <a name="raw-ip-receive"></a><span data-ttu-id="5f8f1-481">Ham IP alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-481">Raw IP Receive</span></span>

<span data-ttu-id="5f8f1-482">Ham IP paket işleme etkinse, uygulama, \***nx_ip_raw_packet_receive** _ hizmeti aracılığıyla ham IP paketleri alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-482">If raw IP packet processing is enabled, the application may receive raw IP packets through the \***nx_ip_raw_packet_receive** _ service.</span></span> <span data-ttu-id="5f8f1-483">Tüm gelen paketler, IP üstbilgisinde belirtilen protokole göre işlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-483">All incoming packets are processed according to the protocol specified in the IP header.</span></span> <span data-ttu-id="5f8f1-484">Protokol UDP, TCP, ıGMP veya ıCMP belirtiyorsa, NetX paket protokol türü için uygun işleyiciyi kullanarak paketi işler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-484">If the protocol specifies UDP, TCP, IGMP or ICMP, NetX will process the packet using the appropriate handler for the packet protocol type.</span></span> <span data-ttu-id="5f8f1-485">Protokol Bu protokollerden biri değilse ve ham IP alma etkinleştirilmişse, gelen paket, uygulamanın _ *_nx_ip_raw_packet_receive_*\* hizmeti aracılığıyla almasını bekleyen ham paket kuyruğuna yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-485">If the protocol is not one of these protocols, and raw IP receive is enabled, the incoming packet will be put into the raw packet queue waiting for the application to receive it via the _ *_nx_ip_raw_packet_receive_*\* service.</span></span> <span data-ttu-id="5f8f1-486">Ayrıca, uygulama iş parçacıkları bir ham IP paketini beklerken isteğe bağlı bir zaman aşımı ile askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-486">In addition, application threads may suspend with an optional timeout while waiting for a raw IP packet.</span></span>

### <a name="default-packet-pool"></a><span data-ttu-id="5f8f1-487">Varsayılan paket havuzu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-487">Default Packet Pool</span></span>

<span data-ttu-id="5f8f1-488">Her IP örneğine oluşturma sırasında varsayılan bir paket havuzu verilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-488">Each IP instance is given a default packet pool during creation.</span></span> <span data-ttu-id="5f8f1-489">Bu paket havuzu ARP, RARP, ıCMP, ıGMP, çeşitli TCP denetim paketleri (SYN, ACK gibi) için paket ayırmak üzere kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-489">This packet pool is used to allocate packets for ARP, RARP, ICMP, IGMP, various TCP control packets (such as SYN, ACK).</span></span> <span data-ttu-id="5f8f1-490">NetX 'in bir paket ayırması gerektiğinde varsayılan paket havuzu boşsa, NetX belirli bir işlemi iptal etmek zorunda kalabilir ve mümkünse bir hata mesajı döndürür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-490">If the default packet pool is empty when NetX needs to allocate a packet, NetX may have to abort the particular operation, and will return an error message if possible.</span></span>

### <a name="ip-helper-thread"></a><span data-ttu-id="5f8f1-491">IP Yardımcısı Iş parçacığı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-491">IP Helper Thread</span></span>

<span data-ttu-id="5f8f1-492">Her bir IP örneğinin bir yardımcı iş parçacığı vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-492">Each IP instance has a helper thread.</span></span> <span data-ttu-id="5f8f1-493">Bu iş parçacığı, tüm ertelenmiş paket işlemlerini ve tüm düzenli işlemleri işlemekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-493">This thread is responsible for handling all deferred packet processing and all periodic processing.</span></span> <span data-ttu-id="5f8f1-494">IP Yardımcısı iş parçacığı ***nx_ip_create oluşturulur.***</span><span class="sxs-lookup"><span data-stu-id="5f8f1-494">The IP helper thread is created in ***nx_ip_create.***</span></span> <span data-ttu-id="5f8f1-495">Burada iş parçacığına yığın ve öncelik verilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-495">This is where the thread is given its stack and priority.</span></span> <span data-ttu-id="5f8f1-496">IP Yardımcısı iş parçacığındaki ilk işleme, IP oluşturma hizmeti ile ilişkili ağ sürücüsü başlatma işlemini bitirebileceğinizi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-496">Note that the first processing in the IP helper thread is to finish the network driver initialization associated with the IP create service.</span></span> <span data-ttu-id="5f8f1-497">Ağ sürücüsü başlatma işlemi tamamlandıktan sonra, yardımcı iş parçacığı paket ve düzenli istekleri işlemek için sonsuz bir döngü başlatır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-497">After the network driver initialization is complete, the helper thread starts an endless loop to process packet and periodic requests.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-498">*IP Yardımcısı iş parçacığı içinde açıklanamayan davranış görüolduysa, IP oluşturma hizmeti sırasında yığın boyutunun artırılması ilk hata ayıklama adımıdır. Yığın çok küçükse, IP Yardımcısı iş parçacığı muhtemelen belleğin üzerine yazılmasına neden olabilir ve bu da olağan dışı sorunlara yol açabilir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-498">*If unexplained behavior is seen within the IP helper thread, increasing its stack size during the IP create service is the first debugging step. If the stack is too small, the IP helper thread could possibly be overwriting memory, which may cause unusual problems.*</span></span>

### <a name="thread-suspension"></a><span data-ttu-id="5f8f1-499">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-499">Thread Suspension</span></span>

<span data-ttu-id="5f8f1-500">Ham IP paketleri alınmaya çalışılırken uygulama iş parçacıkları askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-500">Application threads can suspend while attempting to receive raw IP packets.</span></span> <span data-ttu-id="5f8f1-501">Bir ham paket alındıktan sonra yeni paket, askıya alınan ilk iş parçacığına verilir ve bu iş parçacığı sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-501">After a raw packet is received, the new packet is given to the first thread suspended and that thread is resumed.</span></span> <span data-ttu-id="5f8f1-502">Paketleri almak için NetX Hizmetleri, isteğe bağlı askıya alma zaman aşımına uğradı.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-502">NetX services for receiving packets all have an optional suspension timeout.</span></span> <span data-ttu-id="5f8f1-503">Bir paket alındığında veya zaman aşımı süresi dolduğunda, uygulama iş parçacığı uygun tamamlanma durumuyla sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-503">When a packet is received or the timeout expires, the application thread is resumed with the appropriate completion status.</span></span>

### <a name="ip-statistics-and-errors"></a><span data-ttu-id="5f8f1-504">IP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-504">IP Statistics and Errors</span></span>

<span data-ttu-id="5f8f1-505">Etkinleştirilirse NetX, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-505">If enabled, the NetX keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-506">Her IP örneği için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-506">The following statistics and error reports are maintained for each IP instance:</span></span>

- <span data-ttu-id="5f8f1-507">Toplam gönderilen IP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-507">Total IP Packets Sent</span></span>
- <span data-ttu-id="5f8f1-508">Toplam gönderilen IP bayt</span><span class="sxs-lookup"><span data-stu-id="5f8f1-508">Total IP Bytes Sent</span></span>
- <span data-ttu-id="5f8f1-509">Toplam alınan IP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-509">Total IP Packets Received</span></span>
- <span data-ttu-id="5f8f1-510">Toplam alınan IP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-510">Total IP Bytes Received</span></span>
- <span data-ttu-id="5f8f1-511">Toplam IP geçersiz paket sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-511">Total IP Invalid Packets</span></span>
- <span data-ttu-id="5f8f1-512">Bırakılan toplam IP alma paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-512">Total IP Receive Packets Dropped</span></span>
- <span data-ttu-id="5f8f1-513">Toplam IP alma sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-513">Total IP Receive Checksum Errors</span></span>
- <span data-ttu-id="5f8f1-514">Bırakılan toplam IP gönderme paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-514">Total IP Send Packets Dropped</span></span>
- <span data-ttu-id="5f8f1-515">Toplam gönderilen IP parçacık</span><span class="sxs-lookup"><span data-stu-id="5f8f1-515">Total IP Fragments Sent</span></span>
- <span data-ttu-id="5f8f1-516">Toplam alınan IP parçacığı sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-516">Total IP Fragments Received</span></span>

<span data-ttu-id="5f8f1-517">Bu istatistik ve hata raporlarının hepsi, ***nx_ip_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-517">All of these statistics and error reports are available to the application with the ***nx_ip_info_get*** service.</span></span>

### <a name="ip-control-block-nx_ip"></a><span data-ttu-id="5f8f1-518">IP denetim bloğu NX_IP</span><span class="sxs-lookup"><span data-stu-id="5f8f1-518">IP Control Block NX_IP</span></span>

<span data-ttu-id="5f8f1-519">Her bir IP örneğinin özellikleri denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-519">The characteristics of each IP instance are found in its control block.</span></span> <span data-ttu-id="5f8f1-520">Her ağ cihazının IP adresleri ve ağ maskeleri, bir komşu IP ve fiziksel donanım adresi eşleme tablosu gibi yararlı bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-520">It contains useful information such as the IP addresses and network masks of each network device, and a table of neighbor IP and physical hardware address mapping.</span></span> <span data-ttu-id="5f8f1-521">Bu yapı ***nx_api tanımlanmıştır. h*** IP örneği denetim blokları bellekte herhangi bir yerde bulunabilir, ancak her bir işlevin kapsamı dışında tanımlayarak denetimin genel bir yapıyı engellemesini sağlamak en yaygın olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-521">This structure is defined in the ***nx_api.h*** IP instance control blocks can be located anywhere in memory, but it is most common to make the control block a global structure by defining it outside the scope of any function.</span></span>

### <a name="static-ip-routing"></a><span data-ttu-id="5f8f1-522">Statik IP yönlendirmesi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-522">Static IP Routing</span></span>

<span data-ttu-id="5f8f1-523">Statik yönlendirme özelliği, bir uygulamanın ağ dışı hedef IP adresleri için bir IP ağını ve sonraki atlama adresini belirtmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-523">The static routing feature allows an application to specify an IP network and next hop address for specific out of network destination IP addresses.</span></span> <span data-ttu-id="5f8f1-524">Statik yönlendirme etkinse NetX, göndermek üzere paketin hedef adresiyle eşleşen bir girdinin statik yönlendirme tablosunda arar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-524">If static routing is enabled, NetX searches through the static routing table for an entry matching the destination address of the packet to send.</span></span> <span data-ttu-id="5f8f1-525">Hiçbir eşleşme bulunmazsa NetX, fiziksel arabirimlerin listesini arar ve hedef IP adresine ve ağ maskesine göre bir kaynak IP adresi ve sonraki atlama adresi seçer.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-525">If no match is found, NetX searches through the list of physical interfaces and chooses a source IP address and next hop address based on the destination IP address and the network mask.</span></span> <span data-ttu-id="5f8f1-526">Hedef, IP örneğine bağlı ağ sürücülerinin herhangi bir IP adresi ile eşleşmiyorsa NetX varsayılan ağ geçidine doğrudan bağlı bir arabirim seçer ve arabirimin IP adresini kaynak adresi olarak ve varsayılan ağ geçidini sonraki atlama olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-526">If the destination does not match any of the IP addresses of the network drivers attached to the IP instance, NetX chooses an interface that is directly connected to the default gateway, and uses the IP address of the interface as source address, and the default gateway as the next hop.</span></span>

<span data-ttu-id="5f8f1-527">Girdiler, sırasıyla ***nx_ip_static_route_add*** ve \***nx_ip_static_route_delete** _ Hizmetleri kullanılarak statik yönlendirme tablosuna eklenebilir ve kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-527">Entries can be added and removed from the static routing table using the ***nx_ip_static_route_add*** and \***nx_ip_static_route_delete** _ services, respectively.</span></span> <span data-ttu-id="5f8f1-528">Statik yönlendirmeyi kullanmak için, ana bilgisayar uygulamasının _ *_NX_ENABLE_IP_STATIC_ROUTING_*. \* öğesini tanımlayarak bu özelliği etkinleştirmesi gerekir</span><span class="sxs-lookup"><span data-stu-id="5f8f1-528">To use static routing, the host application must enable this feature by defining _ *_NX_ENABLE_IP_STATIC_ROUTING_*.\*</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-529">*Statik yönlendirme tablosuna bir giriş eklenirken NetX, tabloda zaten belirtilen hedef adresi için eşleşen bir giriş olup olmadığını denetler. Varsa, ağ maskesinde daha küçük ağ (daha uzun ön ek) ile giriş için tercih verir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-529">*When adding an entry to the static routing table, NetX checks for a matching entry for the specified destination address already in the table. If one exists, it gives preference to the entry with the smaller network (longer prefix) in the network mask.*</span></span>

### <a name="ip-fragmentation"></a><span data-ttu-id="5f8f1-530">IP parçalanması</span><span class="sxs-lookup"><span data-stu-id="5f8f1-530">IP Fragmentation</span></span>

<span data-ttu-id="5f8f1-531">Ağ aygıtı, giden paketlerin boyutuyla sınırlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-531">The network device may have limits on the size of outgoing packets.</span></span> <span data-ttu-id="5f8f1-532">Bu sınıra en fazla iletim birimi (MTU) denir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-532">This limit is called the maximum transmission unit (MTU).</span></span> <span data-ttu-id="5f8f1-533">IP MTU, bir bağlantı katmanı sürücüsünün IP paketi fragmenting olmadan aktarabileceği en büyük IP çerçeve boyutudur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-533">IP MTU is the largest IP frame size a link layer driver is able to transmit without fragmenting the IP packet.</span></span> <span data-ttu-id="5f8f1-534">Bir cihaz sürücüsü başlatma aşaması sırasında, sürücü modülünün IP MTU boyutunu hizmet \***nx_ip_interface_mtu_set** ile yapılandırması gerekir. \*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-534">During a device driver initialization phase, the driver module must configure its IP MTU size via the service \***nx_ip_interface_mtu_set**.\*</span></span>

<span data-ttu-id="5f8f1-535">Önerilmese de, uygulama cihaz tarafından desteklenen temeldeki IP MTU değerinden daha büyük veri birimleri oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-535">Although not recommended, the application may generate datagrams larger than the underlying IP MTU supported by the device.</span></span> <span data-ttu-id="5f8f1-536">Bu IP veri birimini iletmeden önce, IP katmanı bu paketleri parçalara ayıramalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-536">Before transmitting such IP datagram, the IP layer must fragment these packets.</span></span> <span data-ttu-id="5f8f1-537">Parçalanmış IP çerçevelerini alırken, alıcı uç, aynı parçalama KIMLIĞI olan tüm parçalanmış IP çerçevelerini depolamalıdır ve bunları sırayla yeniden birleştirmek zorunda olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-537">On receiving fragmented IP frames, the receiving end must store all fragmented IP frames with the same fragmentation ID, and reassemble them in order.</span></span> <span data-ttu-id="5f8f1-538">IP alma mantığı orijinal IP çerçevesini zaman içinde geri yüklemek için tüm parçaları toplayaamadığında tüm parçalar serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-538">If the IP receive logic is unable to collect all the fragments to restore the original IP frame in time, all the fragments are released.</span></span> <span data-ttu-id="5f8f1-539">Bu, bu tür paket kaybını tespit etmek ve buradan kurtarmak için üst katman protokolüne sahiptir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-539">It is up to the upper layer protocol to detect such packet loss and recover from it.</span></span>

<span data-ttu-id="5f8f1-540">IP parçalama ve yeniden birleştirme işlemini desteklemek için, sistem tasarımcısının ***nx_ip_fragment_enable*** hizmetini kullanarak NETX 'teki IP parçalama özelliğini etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-540">In order to support IP fragmentation and reassembly operation, the system designer must enable the IP fragmentation feature in NetX using the ***nx_ip_fragment_enable*** service.</span></span> <span data-ttu-id="5f8f1-541">Bu özellik etkinleştirilmemişse, gelen parçalanmış IP paketlerinin yanı sıra ağ sürücüsünün MTU değerini aşan paketler de atılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-541">If this feature is not enabled, incoming fragmented IP packets are discarded, as well as packets that exceed the network driver's MTU.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-542">*IP parçalanma mantığı tanımlayarak*  \* tamamen kaldırılabilir **NX_DISABLE_FRAGMENTATION** _ _When, theNetX kitaplığı oluşturuyor.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-542">*The IP Fragmentation logic can be removed completely by defining* \***NX_DISABLE_FRAGMENTATION** _ _when building theNetX library.</span></span> <span data-ttu-id="5f8f1-543">Bunun yapılması NetX 'in kod boyutunu azaltmaya yardımcı olur. \*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-543">Doing so helps reduce the code size of NetX.\*</span></span>

## <a name="address-resolution-protocol-arp-in-ip"></a><span data-ttu-id="5f8f1-544">IP 'de Adres Çözümleme Protokolü (ARP)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-544">Address Resolution Protocol (ARP) in IP</span></span>

<span data-ttu-id="5f8f1-545">Adres Çözümleme Protokolü (ARP), 32 bitlik IP adreslerini temel alınan fiziksel ortamlardan (RFC 826) dinamik olarak eşleştirmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-545">The Address Resolution Protocol (ARP) is responsible for dynamically mapping 32-bit IP addresses to those of the underlying physical media (RFC 826).</span></span> <span data-ttu-id="5f8f1-546">Ethernet en yaygın fiziksel medyadır ve 48 bit adreslerini destekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-546">Ethernet is the most typical physical media, and it supports 48-bit addresses.</span></span> <span data-ttu-id="5f8f1-547">ARP gereksinimi, ***nx_ip_create*** hizmetine sağlanan ağ sürücüsüne göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-547">The need for ARP is determined by the network driver supplied to the ***nx_ip_create*** service.</span></span> <span data-ttu-id="5f8f1-548">Fiziksel eşleme gerekliyse, ağ sürücüsünün yapı arabiriminde bayrak ***nx_interface_address_mapping_needed*** ayarlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-548">If physical mapping is required, the network driver must set the flag ***nx_interface_address_mapping_needed*** in the interface strcuture.</span></span>

### <a name="arp-enable"></a><span data-ttu-id="5f8f1-549">ARP etkinleştir</span><span class="sxs-lookup"><span data-stu-id="5f8f1-549">ARP Enable</span></span>
<span data-ttu-id="5f8f1-550">ARP 'nin düzgün çalışması için öncelikle ***nx_arp_enable*** hizmeti ile uygulama tarafından etkinleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-550">For ARP to function properly, it must first be enabled by the application with the ***nx_arp_enable*** service.</span></span> <span data-ttu-id="5f8f1-551">Bu hizmet, ARP etkinleştirme hizmetine sağlanan bellekten bir ARP önbelleği alanı oluşturma da dahil olmak üzere, ARP işleme için çeşitli veri yapıları ayarlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-551">This service sets up various data structures for ARP processing, including the creation of an ARP cache area from the memory supplied to the ARP enable service.</span></span>

### <a name="arp-cache"></a><span data-ttu-id="5f8f1-552">ARP önbelleği</span><span class="sxs-lookup"><span data-stu-id="5f8f1-552">ARP Cache</span></span>
<span data-ttu-id="5f8f1-553">ARP önbelleği, iç ARP eşleme veri yapılarının bir dizisi olarak görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-553">The ARP cache can be viewed as an array of internal ARP mapping data structures.</span></span> <span data-ttu-id="5f8f1-554">Her iç yapı, bir IP adresi ile fiziksel bir donanım adresi arasındaki ilişkiyi koruma kapasitesine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-554">Each internal structure is capable of maintaining the relationship between an IP address and a physical hardware address.</span></span> <span data-ttu-id="5f8f1-555">Ayrıca, her veri yapısının birden fazla bağlantılı listenin parçası olması için bağlantı işaretçileri vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-555">In addition, each data structure has link pointers so it can be part of multiple linked lists.</span></span>

<span data-ttu-id="5f8f1-556">Uygulama, ARP tablosunda eşleme varsa, "**nx_arp_ip_address_find** _ hizmetini kullanarak donanım Mac adresı sağlayarak ARP ÖNBELLEĞINDEN bir IP adresi arayabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-556">Application can look up an IP address from the ARP cache by supplying hardware MAC address using the service \***nx_arp_ip_address_find** _ if the mapping exists in the ARP table.</span></span> <span data-ttu-id="5f8f1-557">Benzer şekilde, _ *_nx_arp_hardware_address_find_*\* hizmeti belırlı bir IP adresı için Mac adresini döndürür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-557">Similarly, the service _ *_nx_arp_hardware_address_find_*\* returns the MAC address for a given IP address.</span></span>


### <a name="arp-dynamic-entries"></a><span data-ttu-id="5f8f1-558">ARP dinamik girdileri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-558">ARP Dynamic Entries</span></span>

<span data-ttu-id="5f8f1-559">Varsayılan olarak, ARP etkinleştirme hizmeti, tüm girişleri kullanılabilir dinamik ARP girişleri listesindeki ARP önbelleğine koyar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-559">By default, the ARP enable service places all entries in the ARP cache on the list of available dynamic ARP entries.</span></span> <span data-ttu-id="5f8f1-560">Eşlenmemiş bir IP adresine gönderilen istek algılandığında NetX tarafından bu listeden dinamik bir ARP girişi ayrılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-560">A dynamic ARP entry is allocated from this list by NetX when a send request to an unmapped IP address is detected.</span></span> <span data-ttu-id="5f8f1-561">Ayırma işleminden sonra ARP girdisi ayarlanır ve fiziksel medyaya bir ARP isteği gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-561">After allocation, the ARP entry is set up and an ARP request is sent to the physical media.</span></span>

<span data-ttu-id="5f8f1-562">Ayrıca, hizmet ***nx_arp_dynamic_entry_set*** bir dinamik giriş de oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-562">A dynamic entry can also be created by the service ***nx_arp_dynamic_entry_set***.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-563">*Tüm dinamik ARP girişleri kullanımda ise, en az kullanılan ARP girişi yeni bir eşleme ile değiştirilmiştir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-563">*If all dynamic ARP entries are in use, the least recently used ARP entry is replaced with a new mapping.*</span></span>

### <a name="arp-static-entries"></a><span data-ttu-id="5f8f1-564">ARP statik girdileri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-564">ARP Static Entries</span></span>
<span data-ttu-id="5f8f1-565">Uygulama, ***nx_arp_static_entry_create*** hizmetini kullanarak statik ARP eşlemesi de ayarlayabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-565">The application can also set up static ARP mapping by using the ***nx_arp_static_entry_create*** service.</span></span> <span data-ttu-id="5f8f1-566">Bu hizmet, dinamik ARP giriş listesinden bir ARP girişi ayırır ve uygulama tarafından sağlanan eşleme bilgilerini kullanarak statik listeye koyar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-566">This service allocates an ARP entry from the dynamic ARP entry list and places it on the static list with the mapping information supplied by the application.</span></span> <span data-ttu-id="5f8f1-567">Statik ARP girdileri yeniden kullanım veya yaşlandırma uygulanmaz.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-567">Static ARP entries are not subject to reuse or aging.</span></span> <span data-ttu-id="5f8f1-568">Uygulama, hizmet ***nx_arp_static_entry_delete*** kullanarak statik bir girişi silebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-568">The application can delete a static entry by using the service ***nx_arp_static_entry_delete***.</span></span>
<span data-ttu-id="5f8f1-569">ARP tablosundaki tüm statik girişleri kaldırmak için, uygulama hizmeti ***nx_arp_static_entries_delete*** kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-569">To remove all static entries in the ARP table, the application may use the service ***nx_arp_static_entries_delete***.</span></span>

### <a name="automatic-arp-entry"></a><span data-ttu-id="5f8f1-570">Otomatik ARP girdisi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-570">Automatic ARP Entry</span></span>
<span data-ttu-id="5f8f1-571">NetX, ARP isteğine eş yanıtlardan sonra eşin IP/MAC eşlemesini kaydeder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-571">NetX records the peer's IP/MAC mapping after the peer responses to the ARP request.</span></span> <span data-ttu-id="5f8f1-572">NetX, ağ üzerinden gelen istenmeyen ARP isteklerine göre eş IP/MAC adresi eşlemesini kaydeden otomatik ARP girişi özelliğini de uygular.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-572">NetX also implements the automatic ARP entry feature where it records peer IP/MAC address mapping based on unsolicited ARP requests from the network.</span></span> <span data-ttu-id="5f8f1-573">Bu özellik ARP tablosunun, bu ARP isteği/yanıt döngüsünü ilerlemek için gereken gecikmeyi azaltarak, eş bilgilerle doldurulmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-573">This feature allows the ARP table to be populated with peer information, reducing the delay needed to go through the ARP request/response cycle.</span></span> <span data-ttu-id="5f8f1-574">Ancak, otomatik ARP 'yi etkinleştirme ile ilgili diğer taraf ARP tablosunun, yerel bağlantı üzerinde çok sayıda düğüm bulunan meşgul bir ağda hızlı bir şekilde doldurulmasına yol açacağından, bu durum sonunda ARP girişi değişikliği gerçekleşmektedir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-574">However the downside with enabling automatic ARP is that the ARP table tend to fill up quickly on a busy network with many nodes on the local link, which would eventually lead to ARP entry replacement.</span></span>

<span data-ttu-id="5f8f1-575">Bu özellik varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-575">This feature is enabled by default.</span></span> <span data-ttu-id="5f8f1-576">Devre dışı bırakmak için, NetX kitaplığı tanımlı ***NX_DISABLE_ARP_AUTO_ENTRY*** simgesiyle derlenmiş olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-576">To disable it, the NetX library must be compiled with the symbol ***NX_DISABLE_ARP_AUTO_ENTRY*** defined.</span></span>

### <a name="arp-messages"></a><span data-ttu-id="5f8f1-577">ARP Iletileri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-577">ARP Messages</span></span>

<span data-ttu-id="5f8f1-578">Daha önce belirtildiği gibi, IP görevi bir IP adresi için eşlemenin gerekli olduğunu algıladığında bir ARP istek iletisi gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-578">As mentioned previously, an ARP request message is sent when the IP task detects that mapping is needed for an IP address.</span></span> <span data-ttu-id="5f8f1-579">ARP istekleri, karşılık gelen bir ARP yanıtı alınana kadar düzenli aralıklarla (her \***NX_ARP_UPDATE_RATE** _ saniyede) gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-579">ARP requests are sent periodically (every \***NX_ARP_UPDATE_RATE** _ seconds) until a corresponding ARP response is received.</span></span> <span data-ttu-id="5f8f1-580">ARP denemesi terk edilmeden önce toplam _ *_NX_ARP_MAXIMUM_RETRIES_*\* ARP isteği yapılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-580">A total of _ *_NX_ARP_MAXIMUM_RETRIES_*\* ARP requests are made before the ARP attempt is abandoned.</span></span> <span data-ttu-id="5f8f1-581">Bir ARP yanıtı alındığında, ilişkili fiziksel adres bilgileri önbellekte olan ARP girişinde depolanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-581">When an ARP response is received, the associated physical address information is stored in the ARP entry that is in the cache.</span></span>

<span data-ttu-id="5f8f1-582">NetX, çok giriş sistemleri için ARP isteklerini ve yanıtlarını belirtilen hedef adrese göre hangi arabirime gönderebileceğinizi belirler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-582">For multihome systems, NetX determines which interface to send the ARP requests and responses based on destination address specified.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-583">*NetX ARP yanıtını beklerken, gıden IP paketleri sıraya alınır. Sıraya alınan giden IP paketlerinin sayısı* *NX_ARP_MAX_QUEUE_DEPTH sabiti tarafından tanımlanır*  \* . \*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-583">*Outgoing IP packets are queued while NetX waits for the ARP response. The number of outgoing IP* *packets queued is defined by the constant* \***NX_ARP_MAX_QUEUE_DEPTH**.\*</span></span>

<span data-ttu-id="5f8f1-584">NetX, yerel IP ağındaki diğer düğümlerden gelen ARP isteklerine de yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-584">NetX also responds to ARP requests from other nodes on the local IP network.</span></span> <span data-ttu-id="5f8f1-585">ARP isteğini alan arabirimin geçerli IP adresiyle eşleşen bir dış ARP isteği yapıldığında NetX, geçerli fiziksel adresi içeren bir ARP yanıt iletisi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-585">When an external ARP request is made that matches the current IP address of the interface that receives the ARP request, NetX builds an ARP response message that contains the current physical address.</span></span>

<span data-ttu-id="5f8f1-586">Ethernet ARP isteklerinin ve yanıtlarının biçimleri Şekil 6 ' da gösterilir ve aşağıda açıklanmıştır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-586">The formats of Ethernet ARP requests and responses are shown in Figure 6 and are described below:</span></span>

| <span data-ttu-id="5f8f1-587">İstek/yanıt alanı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-587">Request/Response Field</span></span>       | <span data-ttu-id="5f8f1-588">Amaç</span><span class="sxs-lookup"><span data-stu-id="5f8f1-588">Purpose</span></span>    |
|------------------------------|-----------------|
| <span data-ttu-id="5f8f1-589">Ethernet hedef adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-589">Ethernet Destination Address</span></span> | <span data-ttu-id="5f8f1-590">Bu 6 baytlık alan ARP yanıtının hedef adresini içerir ve ARP istekleri için bir yayındır (tümü).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-590">This 6-byte field contains the destination address for the ARP response and is a broadcast (all ones) for ARP requests.</span></span> <span data-ttu-id="5f8f1-591">Bu alan, ağ sürücüsü tarafından ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-591">This field is setup by the network driver.</span></span> |
| <span data-ttu-id="5f8f1-592">Ethernet kaynak adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-592">Ethernet Source Address</span></span>      | <span data-ttu-id="5f8f1-593">Bu 6 baytlık alan, ARP isteği veya yanıtı göndericisinin adresini içerir ve ağ sürücüsü tarafından ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-593">This 6-byte field contains the address of the sender of the ARP request or response and is set up by the network driver.</span></span> |
| <span data-ttu-id="5f8f1-594">Çerçeve türü</span><span class="sxs-lookup"><span data-stu-id="5f8f1-594">Frame Type</span></span>                   | <span data-ttu-id="5f8f1-595">Bu 2 baytlık alan, mevcut Ethernet çerçevesinin türünü ve ARP istekleri ve yanıtları için 0x0806 ' ya eşittir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-595">This 2-byte field contains the type of Ethernet frame present and, for ARP requests and responses, this is equal to 0x0806.</span></span> <span data-ttu-id="5f8f1-596">Bu, ağ sürücüsünün ayarlamaktan sorumlu olduğu son alandır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-596">This is the last field the network driver is responsible for setting up.</span></span> |
| <span data-ttu-id="5f8f1-597">Donanım türü</span><span class="sxs-lookup"><span data-stu-id="5f8f1-597">Hardware Type</span></span>                | <span data-ttu-id="5f8f1-598">Bu 2 baytlık alan, Ethernet için 0x0001 olan donanım türünü içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-598">This 2-byte field contains the hardware type, which is 0x0001 for Ethernet.</span></span> |
| <span data-ttu-id="5f8f1-599">Protokol türü</span><span class="sxs-lookup"><span data-stu-id="5f8f1-599">Protocol Type</span></span>                | <span data-ttu-id="5f8f1-600">Bu 2 baytlık alan, IP adresleri için 0x0800 olan protokol türünü içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-600">This 2-byte field contains the protocol type, which is 0x0800 for IP addresses.</span></span> |
| <span data-ttu-id="5f8f1-601">Donanım boyutu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-601">Hardware Size</span></span>                | <span data-ttu-id="5f8f1-602">Bu 1 baytlık alan, Ethernet adresleri için 6 olan donanım adresi boyutunu içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-602">This 1-byte field contains the hardware address size, which is 6 for Ethernet addresses.</span></span> |


![ARP paket biçimi](./media/user-guide/arp-packet-format.png)

<span data-ttu-id="5f8f1-604">**ŞEKIL 6. ARP paket biçimi**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-604">**FIGURE 6. ARP Packet Format**</span></span>

| <span data-ttu-id="5f8f1-605">İstek/yanıt alanı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-605">Request/Response Field</span></span> | <span data-ttu-id="5f8f1-606">Amaç</span><span class="sxs-lookup"><span data-stu-id="5f8f1-606">Purpose</span></span>  |
|---|---|
| <span data-ttu-id="5f8f1-607">Protokol boyutu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-607">Protocol Size</span></span> | <span data-ttu-id="5f8f1-608">Bu 1 baytlık alan, IP adresleri için 4 olan IP adresi boyutunu içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-608">This 1-byte field contains the IP address size, which is 4 for IP addresses.</span></span>  |
| <span data-ttu-id="5f8f1-609">İşlem kodu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-609">Operation Code</span></span> | <span data-ttu-id="5f8f1-610">Bu 2 baytlık alan, bu ARP paketinin işlemini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-610">This 2-byte field contains the operation for this ARP packet.</span></span> <span data-ttu-id="5f8f1-611">Bir ARP yanıtı, 0x0002 değeri ile temsil edilirken, 0x0001 değeri ile bir ARP isteği belirtilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-611">An ARP request is specified with the value of 0x0001, while an ARP response is represented by a value of 0x0002.</span></span>  |
| <span data-ttu-id="5f8f1-612">Gönderici Ethernet adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-612">Sender Ethernet Address</span></span> | <span data-ttu-id="5f8f1-613">Bu 6 baytlık alan, gönderenin Ethernet adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-613">This 6-byte field contains the sender's Ethernet address.</span></span> |
| <span data-ttu-id="5f8f1-614">Gönderenin IP adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-614">Sender IP Address</span></span> | <span data-ttu-id="5f8f1-615">Bu 4 baytlık alan gönderenin IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-615">This 4-byte field contains the sender's IP address.</span></span> |
| <span data-ttu-id="5f8f1-616">Hedef Ethernet adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-616">Target Ethernet Address</span></span> | <span data-ttu-id="5f8f1-617">Bu 6 baytlık alan, hedefin Ethernet adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-617">This 6-byte field contains the target's Ethernet address.</span></span> |
| <span data-ttu-id="5f8f1-618">Hedef IP adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-618">Target IP Address</span></span> | <span data-ttu-id="5f8f1-619">Bu 4 baytlık alan, hedefin IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-619">This 4-byte field contains the target's IP address.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-620">*ARP istekleri ve yanıtları Ethernet düzeyindeki paketlerdir. Diğer tüm TCP/IP paketleri bir IP paket üstbilgisiyle kapsüllenir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-620">*ARP requests and responses are Ethernet-level packets. All other TCP/IP packets are encapsulated by an IP packet header.*</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-621">*TCP/IP uygulamasındaki tüm ARP iletilerinin big endian biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-621">*All ARP messages in the TCP/IP implementation are expected to be in big endian format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

### <a name="arp-aging"></a><span data-ttu-id="5f8f1-622">ARP eskime</span><span class="sxs-lookup"><span data-stu-id="5f8f1-622">ARP Aging</span></span>

<span data-ttu-id="5f8f1-623">NetX, otomatik dinamik ARP girişi geçersiz doğrulamasını destekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-623">NetX supports automatic dynamic ARP entry invalidation.</span></span><span data-ttu-id="5f8f1-624">\ ***NX_ARP_EXPIRATION_RATE** _specifies fiziksel eşlemenin ÜZERINDE bir IP adresinin geçerli kaldığı saniye sayısı.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-624">\ ***NX_ARP_EXPIRATION_RATE** _specifies the number of seconds an established IP address to physical mapping stays valid.</span></span> <span data-ttu-id="5f8f1-625">Süre dolduktan sonra ARP girişi ARP önbelleğinden kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-625">After expiration, the ARP entry is removed from the ARP cache.</span></span> <span data-ttu-id="5f8f1-626">Karşılık gelen IP adresine gönderme denemesi, yeni bir ARP isteğine neden olur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-626">The next attempt to send to the corresponding IP address will result in a new ARP request.</span></span> <span data-ttu-id="5f8f1-627">_ *_NX_ARP_EXPIRATION_RATE_*\* değerini sıfıra ayarlamak, varsayılan yapılandırma olan ARP eskimesini devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-627">Setting _ *_NX_ARP_EXPIRATION_RATE_*\* to zero disables ARP aging, which is the default configuration.</span></span>

### <a name="arp-defend"></a><span data-ttu-id="5f8f1-628">ARP savun</span><span class="sxs-lookup"><span data-stu-id="5f8f1-628">ARP Defend</span></span>

<span data-ttu-id="5f8f1-629">Bir ARP isteği veya ARP yanıt paketi alındığında ve gönderici aynı IP adresine sahip olduğunda ve bu düğümün IP adresiyle çakışıyorsa NetX, bu adres için bir savunma olarak bir ARP isteği gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-629">When an ARP request or ARP response packet is received and the sender has the same IP address, which conflicts with the IP address of this node, NetX sends an ARP request for that address as a defense.</span></span> <span data-ttu-id="5f8f1-630">Çakışma ARP paketi 10 saniye içinde birden çok kez alınmışsa NetX, daha fazla savunma paketi göndermez.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-630">If the conflict ARP packet is received more than once in 10 seconds, NetX does not send more defend packets.</span></span> <span data-ttu-id="5f8f1-631">Varsayılan Aralık 10 saniye, \***NX_ARP_DEFEND_INTERVAL** _ tarafından yeniden tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-631">The default interval 10 seconds can be redefined by \***NX_ARP_DEFEND_INTERVAL** _.</span></span> <span data-ttu-id="5f8f1-632">Bu davranış, RFC5227 (c) üzerinde belirtilen ilkeyi izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-632">This behavior follows the policy specified in 2.4(c) of RFC5227.</span></span> <span data-ttu-id="5f8f1-633">Windows XP ARP bildirisini ARP araştırması için bir yanıt olarak yoksaydığından, Kullanıcı ARP yanıtını ek erteleme olarak göndermek için _ *_NX_ARP_DEFEND_BY_REPLY_* \* tanımlayabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-633">Since Windows XP ignores ARP announcement as a response for its ARP probe, user can define _\*_NX_ARP_DEFEND_BY_REPLY_\*\*to send ARP response as additional defence.</span></span>

### <a name="arp-statistics-and-errors"></a><span data-ttu-id="5f8f1-634">ARP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-634">ARP Statistics and Errors</span></span>

<span data-ttu-id="5f8f1-635">Etkinleştirilirse, NetX ARP yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-635">If enabled, the NetX ARP software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-636">Aşağıdaki istatistikler ve hata raporları her IP 'nin ARP işlemleri için tutulur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-636">The following statistics and error reports are maintained for each IP's ARP processing:</span></span>

- <span data-ttu-id="5f8f1-637">Gönderilen toplam ARP Isteği sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-637">Total ARP Requests Sent</span></span>
- <span data-ttu-id="5f8f1-638">Alınan toplam ARP Isteği sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-638">Total ARP Requests Received</span></span>
- <span data-ttu-id="5f8f1-639">Gönderilen toplam ARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-639">Total ARP Responses Sent</span></span>
- <span data-ttu-id="5f8f1-640">Alınan toplam ARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-640">Total ARP Responses Received</span></span>
- <span data-ttu-id="5f8f1-641">Toplam ARP dinamik girişleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-641">Total ARP Dynamic Entries</span></span>
- <span data-ttu-id="5f8f1-642">Toplam ARP statik girişleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-642">Total ARP Static Entries</span></span>
- <span data-ttu-id="5f8f1-643">Toplam ARP eski girdileri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-643">Total ARP Aged Entries</span></span>
- <span data-ttu-id="5f8f1-644">Toplam ARP geçersiz Iletileri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-644">Total ARP Invalid Messages</span></span>

<span data-ttu-id="5f8f1-645">Bu istatistik ve hata raporlarının tümü, ***nx_arp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-645">All these statistics and error reports are available to the application with the ***nx_arp_info_get*** service.</span></span>

## <a name="reverse-address-resolution-protocol-rarp-in-ip"></a><span data-ttu-id="5f8f1-646">IP 'de ters Adres Çözümleme Protokolü (RARP)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-646">Reverse Address Resolution Protocol (RARP) in IP</span></span>

<span data-ttu-id="5f8f1-647">Ters Adres Çözümleme Protokolü (RARP), konağın 32 bit IP adreslerinin (RFC 903) ağ atamasını istemek için protokoldür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-647">The Reverse Address Resolution Protocol (RARP) is the protocol for requesting network assignment of the host's 32-bit IP addresses (RFC 903).</span></span> <span data-ttu-id="5f8f1-648">Bu, bir RARP isteği aracılığıyla yapılır ve bir ağ üyesi bir RARP yanıtında ana bilgisayar ağ arabirimine bir IP adresi atalana kadar düzenli olarak devam eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-648">This is done through an RARP request and continues periodically until a network member assigns an IP address to the host network interface in an RARP response.</span></span> <span data-ttu-id="5f8f1-649">Uygulama, sıfır IP adresine sahip hizmet ***nx_ip_create*** bir IP örneği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-649">The application creates an IP instance by the service ***nx_ip_create*** with a zero IP address.</span></span> <span data-ttu-id="5f8f1-650">RARP uygulama tarafından etkinleştirilmişse, ağ sunucusundan, sıfır IP adresine sahip arabirim aracılığıyla erişilebilen bir IP adresi istemek için RARP protokolünü kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-650">If RARP is enabled by the application, it can use the RARP protocol to request an IP address from the network server accessible through the interface that has a zero IP address.</span></span>

### <a name="rarp-enable"></a><span data-ttu-id="5f8f1-651">RARP etkinleştir</span><span class="sxs-lookup"><span data-stu-id="5f8f1-651">RARP Enable</span></span>

<span data-ttu-id="5f8f1-652">RARP 'yi kullanmak için, uygulamanın IP adresi sıfır olan IP örneğini oluşturması ve ardından hizmet ***nx_rarp_enable*** kullanarak RARP 'yi etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-652">To use RARP, the application must create the IP instance with an IP address of zero, then enable RARP using the service ***nx_rarp_enable***.</span></span> <span data-ttu-id="5f8f1-653">Çoklu giriş sistemlerinde, IP örneğiyle ilişkilendirilmiş en az bir ağ cihazının IP adresi sıfır olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-653">For multihome systems, at least one network device associated with the IP instance must have an IP address of zero.</span></span> <span data-ttu-id="5f8f1-654">RARP işleme, ağ tarafından belirlenen IP adresine sahip geçerli bir RARP yanıtı alınana kadar IP adresi gerektiren NetX sistemine yönelik olarak RARP istek iletileri gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-654">The RARP processing periodically sends RARP request messages for the NetX system requiring an IP address until a valid RARP reply with the network designated IP address is received.</span></span> <span data-ttu-id="5f8f1-655">Bu noktada, RARP işleme tamamlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-655">At this point, RARP processing is complete.</span></span>

<span data-ttu-id="5f8f1-656">RARP etkinleştirildikten sonra, tüm arabirim adresleri çözümlendikten sonra otomatik olarak devre dışıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-656">After RARP has been enabled, it is disabled automatically after all interface addresses are resolved.</span></span> <span data-ttu-id="5f8f1-657">Uygulama, Service ***nx_rarp_disable*** kullanarak RARP 'yi sonlandırmayı zorlayabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-657">The application may force RARP to terminate by using the service ***nx_rarp_disable***.</span></span>

###  <a name="rarp-request"></a><span data-ttu-id="5f8f1-658">RARP Isteği</span><span class="sxs-lookup"><span data-stu-id="5f8f1-658">RARP Request</span></span>

<span data-ttu-id="5f8f1-659">Bir RARP istek paketinin biçimi, [ARP iletileri](#arp-messages)konusunun Şekil 6 ' da gösterilen ARP paketiyle neredeyse aynıdır. Tek fark, çerçeve türü alanı 0x8035 ve *Işlem kodu* alanı 3 ' tür ve bır RARP isteği tanımlayarak 3 ' tür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-659">The format of an RARP request packet is almost identical to the ARP packet shown in Figure 6 in the topic [ARP Messages](#arp-messages).The only difference is the frame type field is 0x8035 and the *Operation Code* field is 3, designating an RARP request.</span></span> <span data-ttu-id="5f8f1-660">Daha önce belirtildiği gibi, RARP istekleri düzenli aralıklarla (her ***NX_RARP_UPDATE_RATE*** saniyede), ağ atanmış IP adresine sahıp bır RARP yanıtı alınana kadar gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-660">As mentioned previously, RARP requests will be sent periodically (every ***NX_RARP_UPDATE_RATE*** seconds) until a RARP reply with the network assigned IP address is received.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-661">*TCP/IP uygulamasındaki tüm RARP iletilerinin big endian biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-661">*All RARP messages in the TCP/IP implementation are expected to be in big endian format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

### <a name="rarp-reply"></a><span data-ttu-id="5f8f1-662">RARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-662">RARP Reply</span></span>

<span data-ttu-id="5f8f1-663">RARP yanıt iletileri ağdan alınır ve bu konak için ağ tarafından atanan IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-663">RARP reply messages are received from the network and contain the network assigned IP address for this host.</span></span> <span data-ttu-id="5f8f1-664">Bir RARP yanıt paketinin biçimi, Şekil 6 ' da gösterilen ARP paketiyle neredeyse aynıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-664">The format of an RARP reply packet is almost identical to the ARP packet shown in Figure 6.</span></span> <span data-ttu-id="5f8f1-665">Tek fark, çerçeve türü alanı 0x8035 ' dir ve *Işlem kodu* alanı, BIR RARP yanıtı atayan 4 ' tür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-665">The only difference is the frame type field is 0x8035 and the *Operation Code* field is 4, which designates an RARP reply.</span></span> <span data-ttu-id="5f8f1-666">Aldıktan sonra IP adresi IP örneğinde ayarlanır, düzenli olarak RARP isteği devre dışıdır ve IP örneği artık normal ağ işlemleri için hazırdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-666">After received, the IP address is setup in the IP instance, the periodic RARP request is disabled, and the IP instance is now ready for normal network operation.</span></span>

<span data-ttu-id="5f8f1-667">Çok ana konaklar için IP adresi, isteyen ağ arabirimine uygulanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-667">For multihome hosts, the IP address is applied to the requesting network interface.</span></span> <span data-ttu-id="5f8f1-668">Hala bir IP adresi ataması isteğinde bulunan başka ağ arabirimleri varsa, tüm Arabirim IP adresi istekleri çözümlenene kadar düzenli RARP hizmeti devam eder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-668">If there are other network interfaces still requesting an IP address assignment, the periodic RARP service continues until all interface IP address requests are resolved.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-669">*Uygulama, RARP işlemesi tamamlanana kadar IP örneğini kullanmamalıdır. **Nx_ip_status_check** , uygulamalar tarafından RARP tamamlanmasını beklemek için kullanılabilir. Çoklu giriş sistemlerinde, bu arabirim üzerinde RARP işlemesi tamamlanana kadar uygulama istekte bulunan arabirimini kullanmamalıdır. İkincil cihazdaki IP adresinin durumu **nx_ip_interface_status_check** hizmetiyle denetlenebilir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-669">*The application should not use the IP instance until the RARP processing is complete. The **nx_ip_status_check** may be used by applications to wait for the RARP completion. For multihome systems, the application should not use the requesting interface until the RARP processing is complete on that interface. Status of the IP address on the secondary device can be checked with the **nx_ip_interface_status_check** service.*</span></span>

### <a name="rarp-statistics-and-errors"></a><span data-ttu-id="5f8f1-670">RARP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-670">RARP Statistics and Errors</span></span>

<span data-ttu-id="5f8f1-671">Etkinleştirilirse NetX RARP yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-671">If enabled, the NetX RARP software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-672">Her IP 'nin RARP işlemesi için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-672">The following statistics and error reports are maintained for each IP's RARP processing:</span></span>

- <span data-ttu-id="5f8f1-673">Gönderilen toplam RARP Isteği</span><span class="sxs-lookup"><span data-stu-id="5f8f1-673">Total RARP Requests Sent</span></span>
- <span data-ttu-id="5f8f1-674">Toplam alınan RARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-674">Total RARP Responses Received</span></span>
- <span data-ttu-id="5f8f1-675">Toplam RARP geçersiz Ileti</span><span class="sxs-lookup"><span data-stu-id="5f8f1-675">Total RARP Invalid Messages</span></span>

<span data-ttu-id="5f8f1-676">Bu istatistik ve hata raporlarının tümü, ***nx_rarp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-676">All these statistics and error reports are available to the application with the ***nx_rarp_info_get*** service.</span></span>

## <a name="internet-control-message-protocol-icmp"></a><span data-ttu-id="5f8f1-677">Internet Denetim Iletisi Protokolü (ıCMP)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-677">Internet Control Message Protocol (ICMP)</span></span>

<span data-ttu-id="5f8f1-678">IP için Internet Denetim Iletisi Protokolü (ıCMP), IP ağ üyeleri arasında hata ve denetim bilgilerini geçirme ile sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-678">Internet Control Message Protocol for IP (ICMP) is limited to passing error and control information between IP network members.</span></span>

<span data-ttu-id="5f8f1-679">Diğer çoğu uygulama katmanının (örn. TCP/IP) iletileri gibi, ıCMP iletileri, ıCMP Protokolü atamasının bulunduğu bir IP üstbilgisiyle kapsüllenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-679">Like most other application layer (e.g., TCP/IP) messages, ICMP messages are encapsulated by an IP header with the ICMP protocol designation.</span></span>

### <a name="icmp-statistics-and-errors"></a><span data-ttu-id="5f8f1-680">ICMP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-680">ICMP Statistics and Errors</span></span>

<span data-ttu-id="5f8f1-681">Etkinleştirilirse NetX, uygulama için yararlı olabilecek birkaç ıCMP istatistiğini ve hatasını izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-681">If enabled, NetX keeps track of several ICMP statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-682">Her IP 'nin ıCMP işlemi için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-682">The following statistics and error reports are maintained for each IP's ICMP processing:</span></span>

- <span data-ttu-id="5f8f1-683">Gönderilen toplam ıCMP pingi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-683">Total ICMP Pings Sent</span></span>
- <span data-ttu-id="5f8f1-684">Toplam ıCMP ping zaman aşımları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-684">Total ICMP Ping Timeouts</span></span>
- <span data-ttu-id="5f8f1-685">Askıya alınan toplam ıCMP ping Iş parçacığı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-685">Total ICMP Ping Threads Suspended</span></span>
- <span data-ttu-id="5f8f1-686">Alınan toplam ıCMP ping yanıtı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-686">Total ICMP Ping Responses Received</span></span>
- <span data-ttu-id="5f8f1-687">Toplam ıCMP sağlama toplamı hatası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-687">Total ICMP Checksum Errors</span></span>
- <span data-ttu-id="5f8f1-688">Toplam ıCMP Işlenmemiş Ileti</span><span class="sxs-lookup"><span data-stu-id="5f8f1-688">Total ICMP Unhandled Messages</span></span>

<span data-ttu-id="5f8f1-689">Bu istatistik ve hata raporlarının tümü, ***nx_icmp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-689">All these statistics and error reports are available to the application with the ***nx_icmp_info_get*** service.</span></span>

### <a name="icmp-enable"></a><span data-ttu-id="5f8f1-690">ICMP etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-690">ICMP Enable</span></span>
<span data-ttu-id="5f8f1-691">ICMP iletilerinin NetX tarafından işlenebilmesi için, uygulamanın ıCMP işlemesini etkinleştirmek üzere ***nx_icmp_enable*** hizmetini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-691">Before ICMP messages can be processed by NetX, the application must call the ***nx_icmp_enable*** service to enable ICMP processing.</span></span> <span data-ttu-id="5f8f1-692">Bu işlem yapıldıktan sonra uygulama, ping istekleri ve alan gelen ping paketleri verebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-692">After this is done, the application can issue ping requests and field incoming ping packets.</span></span>

### <a name="icmp-echo-request"></a><span data-ttu-id="5f8f1-693">ICMP yankı Isteği</span><span class="sxs-lookup"><span data-stu-id="5f8f1-693">ICMP Echo Request</span></span>
<span data-ttu-id="5f8f1-694">Yankı isteği, ana bilgisayar IP adresi tarafından tanımlanan şekilde, ağ üzerinde belirli bir düğümün varlığını denetlemek için kullanılan bir ıCMP iletisi türüdür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-694">An echo request is one type of ICMP message that is typically used to check for the existence of a specific node on the network, as identified by its host IP address.</span></span> <span data-ttu-id="5f8f1-695">Popüler ping komutu, ıCMP yankı isteği/Yankı Yanıtı iletileri kullanılarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-695">The popular ping command is implemented using ICMP echo request/echo reply messages.</span></span> <span data-ttu-id="5f8f1-696">Belirli bir konak mevcutsa, ağ yığını ping isteğini ve ping yanıtı ile yanıtları işler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-696">If the specific host is present, its network stack processes the ping request and responses with a ping response.</span></span> <span data-ttu-id="5f8f1-697">Şekil 7 ' de ıCMP ping iletisi biçimi ayrıntılı olarak gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-697">Figure 7 details the ICMP ping message format.</span></span>

![ICMP ping Iletisi](./media/user-guide/icmp-ping-message.png)

<span data-ttu-id="5f8f1-699">**ŞEKIL 7. ICMP ping Iletisi**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-699">**FIGURE 7. ICMP Ping Message**</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-700">*TCP/IP uygulamasındaki tüm ıCMP iletilerinin big endian biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-700">*All ICMP messages in the TCP/IP implementation are expected to be in big endian format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

<span data-ttu-id="5f8f1-701">Aşağıdaki tabloda ıCMP başlık biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-701">The following table describes the ICMP header format:</span></span>

| <span data-ttu-id="5f8f1-702">Üst bilgi alanı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-702">Header Field</span></span>    | <span data-ttu-id="5f8f1-703">Amaç</span><span class="sxs-lookup"><span data-stu-id="5f8f1-703">Purpose</span></span> |
|-----------------|---------------------------------------------------|
| <span data-ttu-id="5f8f1-704">Tür</span><span class="sxs-lookup"><span data-stu-id="5f8f1-704">Type</span></span>            | <span data-ttu-id="5f8f1-705">Bu alan ıCMP iletisini belirtir (BITS 31-24).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-705">This field specifies the ICMP message (bits 31- 24).</span></span> <span data-ttu-id="5f8f1-706">En yaygın şunlardır: 0 echo yanıt 8 yankı Isteği</span><span class="sxs-lookup"><span data-stu-id="5f8f1-706">The most common are:   0 Echo Reply   8 Echo Request</span></span> |
| <span data-ttu-id="5f8f1-707">Kod</span><span class="sxs-lookup"><span data-stu-id="5f8f1-707">Code</span></span>            | <span data-ttu-id="5f8f1-708">Bu alan, tür alanındaki bağlamdır (BITS 23-16).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-708">This field is context specific on the type field (bits 23-16).</span></span> <span data-ttu-id="5f8f1-709">Yankı isteği için veya yanıt kodu sıfır olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-709">For an echo request or reply the code is set to zero.</span></span> |
| <span data-ttu-id="5f8f1-710">Sağlama</span><span class="sxs-lookup"><span data-stu-id="5f8f1-710">Checksum</span></span>        | <span data-ttu-id="5f8f1-711">Bu alan, tür alanından başlayarak ıCMP üstbilgisinin tamamı dahil olmak üzere, ıCMP iletisinin tamamlayıcından oluşan 16 bit sağlama toplamını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-711">This field contains the 16-bit checksum of the one's complement sum of the ICMP message including the entire the ICMP header starting with the Type field.</span></span> <span data-ttu-id="5f8f1-712">Sağlama toplamını oluşturmadan önce, sağlama toplamı alanı temizlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-712">Before generating the checksum, the checksum field is cleared.</span></span>                 |
| <span data-ttu-id="5f8f1-713">Kimlik</span><span class="sxs-lookup"><span data-stu-id="5f8f1-713">Identification</span></span>  | <span data-ttu-id="5f8f1-714">Bu alan, Konağı tanımlayan bir KIMLIK değeri içerir; Ana bilgisayar, YANKı YANıTıNDA YANKı isteğinden ayıklanan KIMLIĞI kullanmalıdır (BITS 31-16).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-714">This field contains an ID value identifying the host; a host should use the ID extracted from an ECHO request in the ECHO REPLY (bits 31-16).</span></span> |
| <span data-ttu-id="5f8f1-715">Sıra numarası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-715">Sequence number</span></span> | <span data-ttu-id="5f8f1-716">Bu alan bir KIMLIK değeri içerir; Ana bilgisayar, YANKı YANıTıNDA YANKı isteğinden ayıklanan KIMLIĞI kullanmalıdır (BITS 31-16).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-716">This field contains an ID value; a host should use the ID extracted from an ECHO request in the ECHO REPLY (bits 31-16).</span></span> <span data-ttu-id="5f8f1-717">Tanımlayıcı alanından farklı olarak, bu değer aynı ana bilgisayardan gelen bir sonraki yankı isteğinde de değişecektir (BITS 15-0).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-717">Unlike the identifier field, this value will change in a subsequent Echo request from the same host (bits 15-0).</span></span> |


### <a name="icmp-echo-response"></a><span data-ttu-id="5f8f1-718">ICMP yankı yanıtı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-718">ICMP Echo Response</span></span>
<span data-ttu-id="5f8f1-719">Ping yanıtı, dış bir ping isteğine yanıt olarak ıCMP bileşeni tarafından dahili olarak oluşturulan başka bir ıCMP iletisi türüdür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-719">A ping response is another type of ICMP message that is generated internally by the ICMP component in response to an external ping request.</span></span> <span data-ttu-id="5f8f1-720">Onay komutuna ek olarak, ping yanıtı da ping isteğinde sağlanan kullanıcı verilerinin bir kopyasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-720">In addition to acknowledgement, the ping response also contains a copy of the user data supplied in the ping request.</span></span>

## <a name="internet-group-management-protocol-igmp"></a><span data-ttu-id="5f8f1-721">Internet Grup Yönetimi Protokolü (IGMP)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-721">Internet Group Management Protocol (IGMP)</span></span>

<span data-ttu-id="5f8f1-722">Internet Grup Yönetimi Protokolü (ıGMP), komşileriyle iletişim kuracak bir cihaz sağlar ve bir IP çok noktaya yayın grubu (RFC 1112 ve RFC 2236) almayı veya katılmayı amaçladığı yönlendiricileriyle iletişim kurar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-722">The Internet Group Management Protocol (IGMP) provides a device to communicate with its neighbors and its routers that it intends to receive, or join, an IP multicast group (RFC 1112 and RFC 2236).</span></span> <span data-ttu-id="5f8f1-723">Çok noktaya yayın grubu temel olarak dinamik bir ağ üyeleri koleksiyonudur ve bir sınıf D IP adresi ile temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-723">A multicast group is basically a dynamic collection of network members and is represented by a Class D IP address.</span></span> <span data-ttu-id="5f8f1-724">Çok noktaya yayın grubunun üyeleri herhangi bir zamanda bırakabilir ve yeni üyeler istediğiniz zaman katılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-724">Members of the multicast group may leave at any time, and new members may join at any time.</span></span> <span data-ttu-id="5f8f1-725">Gruba katılma ve gruptan ayrılmayla ilgili koordinasyon, ıGMP 'nin sorumluluğundadır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-725">The coordination involved in joining and leaving the group is the responsibility of IGMP.</span></span>

### <a name="igmp-enable"></a><span data-ttu-id="5f8f1-726">IGMP etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-726">IGMP Enable</span></span>

<span data-ttu-id="5f8f1-727">NetX 'te herhangi bir çok noktaya yayın etkinliğinin gerçekleşmesi için, uygulamanın ***nx_igmp_enable*** hizmetini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-727">Before any multicasting activity can take place in NetX, the application must call the ***nx_igmp_enable*** service.</span></span> <span data-ttu-id="5f8f1-728">Bu hizmet, çok noktaya yayın isteklerini hazırlamak için temel ıGMP başlatmayı gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-728">This service performs basic IGMP initialization in preparation for multicast requests.</span></span>

### <a name="multicast-ip-addressing"></a><span data-ttu-id="5f8f1-729">Çok noktaya yayın IP adresleme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-729">Multicast IP Addressing</span></span>

<span data-ttu-id="5f8f1-730">Daha önce belirtildiği gibi, çok noktaya yayın adresleri aslında 3.58 sayfada Şekil 4 ' te gösterildiği gibi sınıf D IP adresleridir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-730">As mentioned previously, multicast addresses are actually Class D IP addresses as shown in Figure 4 on page 58.</span></span> <span data-ttu-id="5f8f1-731">D adresinin daha düşük 28 bit düzeyi çok noktaya yayın grubu KIMLIĞINE karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-731">The lower 28-bits of the Class D address correspond to the multicast group ID.</span></span> <span data-ttu-id="5f8f1-732">Önceden tanımlanmış bir dizi önceden tanımlı çok noktaya yayın adresi vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-732">There are a series of pre-defined multicast addresses.</span></span> <span data-ttu-id="5f8f1-733">Ancak, *tüm ana bilgisayarlar adresi* (244.0.0.1) özellikle IGMP işleme için önemlidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-733">However, the *all hosts address* (244.0.0.1) is particularly important to IGMP processing.</span></span> <span data-ttu-id="5f8f1-734">*Tüm konaklar adresi* , yönlendiriciler tarafından, ait oldukları çok noktaya yayın gruplarını raporlamak üzere tüm çok noktaya yayın üyelerini sorgulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-734">The *all hosts address* is used by routers to query all multicast members to report on which multicast groups they belong to.</span></span>

### <a name="physical-address-mapping-in-ip"></a><span data-ttu-id="5f8f1-735">IP 'de fiziksel adres eşlemesi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-735">Physical Address Mapping in IP</span></span>

<span data-ttu-id="5f8f1-736">Sınıf D çok noktaya yayın adresleri doğrudan 01.00.5 e. 00.00.00 ile 01.00.5 e. 7f. ff. FF arasında değişen fiziksel Ethernet adreslerine eşlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-736">Class D multicast addresses map directly to physical Ethernet addresses ranging from 01.00.5e.00.00.00 through 01.00.5e.7f.ff.ff.</span></span> <span data-ttu-id="5f8f1-737">IP çok noktaya yayın adresinin daha düşük 23 biti, Ethernet adresinin daha düşük 23 bitmine doğrudan eşlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-737">The lower 23 bits of the IP multicast address map directly to the lower 23 bits of the Ethernet address.</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="5f8f1-738">Çok noktaya yayın grubuna ekleme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-738">Multicast Group Join</span></span>

<span data-ttu-id="5f8f1-739">Belirli bir çok noktaya yayın grubuna katılması gereken uygulamalar, ***nx_igmp_multicast_join*** hizmetini çağırarak bunu yapabiliriz.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-739">Applications that need to join a particular multicast group may do so by calling the ***nx_igmp_multicast_join*** service.</span></span> <span data-ttu-id="5f8f1-740">Bu hizmet, bu çok noktaya yayın grubuna katılması için istek sayısını izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-740">This service keeps track of the number of requests to join this multicast group.</span></span> <span data-ttu-id="5f8f1-741">Bu, çok noktaya yayın grubuna katılması için ilk uygulama isteğidir, birincil ağda bu konağın gruba katılması için bir ıGMP raporu gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-741">If this is the first application request to join the multicast group, an IGMP report is sent out on the primary network indicating this host's intention to join the group.</span></span> <span data-ttu-id="5f8f1-742">Daha sonra, ağ sürücüsü bu çok noktaya yayın grubu için Ethernet adresine sahip paketleri dinlemek üzere ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-742">Next, the network driver is called to set up for listening for packets with the Ethernet address for this multicast group.</span></span>

<span data-ttu-id="5f8f1-743">Çoklu ana sistemde, çok noktaya yayın grubuna belirli bir arabirim üzerinden erişilebiliyorsa, uygulama, birincil ağdaki çok noktaya yayın gruplarıyla sınırlı olan \***nx_igmp_multicast_join** yerine hizmet ***nx_igmp_multicast_interface_join*** kullanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-743">In a multihome system, if the multicast group is accessible via a specific interface, application shall use the service ***nx_igmp_multicast_interface_join*** instead of \***nx_igmp_multicast_join**,\* which is limited to multicast groups on the primary network.</span></span>

### <a name="multicast-group-leave"></a><span data-ttu-id="5f8f1-744">Çok noktaya yayın grubu bırakma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-744">Multicast Group Leave</span></span>

<span data-ttu-id="5f8f1-745">Daha önce birleştirilmiş bir çok noktaya yayın grubuna ayrılmaları gereken uygulamalar, ***nx_igmp_multicast_leave*** hizmetini çağırarak bunu yapamayabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-745">Applications that need to leave a previously joined multicast group may do so by calling the ***nx_igmp_multicast_leave*** service.</span></span> <span data-ttu-id="5f8f1-746">Bu hizmet, grubun kaç kez katıldığı ile ilişkili iç sayıyı azaltır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-746">This service reduces the internal count associated with how many times the group was joined.</span></span> <span data-ttu-id="5f8f1-747">Bir grup için bekleyen bir JOIN isteği yoksa, bu çok noktaya yayın grubunun Ethernet adresine sahip paketleri dinlemeyi devre dışı bırakmak için ağ sürücüsü çağırılır</span><span class="sxs-lookup"><span data-stu-id="5f8f1-747">If there are no outstanding join requests for a group, the network driver is called to disable listening for packets with this multicast group's Ethernet address</span></span>

### <a name="multicast-loopback"></a><span data-ttu-id="5f8f1-748">Çok noktaya yayın geri döngüsü</span><span class="sxs-lookup"><span data-stu-id="5f8f1-748">Multicast Loopback</span></span>

<span data-ttu-id="5f8f1-749">Bir uygulama, aynı düğümdeki kaynaklardan birinden kaynaklanan çok noktaya yayın trafiğini almak isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-749">An application may wish to receive multicast traffic originated from one of the sources on the same node.</span></span> <span data-ttu-id="5f8f1-750">Bu, hizmet ***nx_igmp_loopback_enable*** kullanılarak IP çok noktaya yayın bileşeninin geri döngüden etkinleştirilmesini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-750">This requires the IP multicast component to have loopback enabled by using the service ***nx_igmp_loopback_enable***.</span></span>

### <a name="igmp-report-message"></a><span data-ttu-id="5f8f1-751">IGMP rapor Iletisi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-751">IGMP Report Message</span></span>

<span data-ttu-id="5f8f1-752">Uygulama bir çok noktaya yayın grubuna katıldığında, ana bilgisayarın belirli bir çok noktaya yayın grubuna katılma işlemini göstermek için ağ üzerinden bir ıGMP rapor iletisi gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-752">When the application joins a multicast group, an IGMP report message is sent via the network to indicate the host's intention to join a particular multicast group.</span></span> <span data-ttu-id="5f8f1-753">IGMP rapor iletisinin biçimi Şekil 8 ' de gösterilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-753">The format of the IGMP report message is shown in Figure 8.</span></span> <span data-ttu-id="5f8f1-754">Çok noktaya yayın grubu adresi, ıGMP rapor iletisindeki Grup iletisi ve hedef IP adresi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-754">The multicast group address is used for both the group message in the IGMP report message and the destination IP address.</span></span>

![IGMP rapor Iletisi](./media/user-guide/igmp-report-message.png)

<span data-ttu-id="5f8f1-756">**ŞEKIL 8. IGMP rapor Iletisi**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-756">**FIGURE 8. IGMP Report Message**</span></span>

<span data-ttu-id="5f8f1-757">Yukarıdaki şekilde (Şekil 8), ıGMP üstbilgisi bir sürüm/tür alanı, en fazla yanıt süresi, sağlama toplamı alanı ve çok noktaya yayın grubu adresi alanı içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-757">In the figure above (Figure 8), the IGMP header contains a version/type field, maximum response time, a checksum field, and a multicast group address field.</span></span> <span data-ttu-id="5f8f1-758">IGMPv1 iletileri için, IGMPv1 protokolünün bir parçası olmadığından en fazla yanıt süresi alanı her zaman sıfır olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-758">For IGMPv1 messages, the Maximum Response Time field is always set to zero, as this is not part of the IGMPv1 protocol.</span></span> <span data-ttu-id="5f8f1-759">En fazla yanıt süresi alanı, ana bilgisayar bir sorgu türü bir ıGMP iletisi aldığında ayarlanır ve bir konak, IGMPv2 protokolü tarafından tanımlanan başka bir ana bilgisayarın rapor türü iletisini aldığında temizlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-759">The Maximum Response Time field is set when the host receives a Query type IGMP message and cleared when a host receives another host's Report type message as defined by the IGMPv2 protocol.</span></span>

<span data-ttu-id="5f8f1-760">Aşağıda, ıGMP üst bilgi biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-760">The following describes the IGMP header format:</span></span>

| <span data-ttu-id="5f8f1-761">**Üst bilgi alanı**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-761">**Header Field**</span></span>          | <span data-ttu-id="5f8f1-762">**Amaç**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-762">**Purpose**</span></span> |
|-----------------------|--------------------------------------------------------------------|
| <span data-ttu-id="5f8f1-763">Sürüm</span><span class="sxs-lookup"><span data-stu-id="5f8f1-763">Version</span></span>               | <span data-ttu-id="5f8f1-764">Bu alan, ıGMP sürümünü belirtir (BITS 31-28).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-764">This field specifies the IGMP version (bits 31- 28).</span></span>                                                                               |
| <span data-ttu-id="5f8f1-765">Tür</span><span class="sxs-lookup"><span data-stu-id="5f8f1-765">Type</span></span>                  | <span data-ttu-id="5f8f1-766">Bu alan, ıGMP iletisinin türünü belirtir (BITS 27 -24).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-766">This field specifies the type of IGMP message (bits 27 -24).</span></span>                                                                       |
| <span data-ttu-id="5f8f1-767">En fazla yanıt süresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-767">Maximum Response Time</span></span> | <span data-ttu-id="5f8f1-768">IGMPv1 içinde kullanılmıyor.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-768">Not used in IGMPv1.</span></span> <span data-ttu-id="5f8f1-769">IGMPv2 içinde bu alan en uzun yanıt süresi olarak görev yapar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-769">In IGMPv2 this field serves as the maximum response time.</span></span>                                                      |
| <span data-ttu-id="5f8f1-770">Sağlama</span><span class="sxs-lookup"><span data-stu-id="5f8f1-770">Checksum</span></span>              | <span data-ttu-id="5f8f1-771">Bu alan, ıGMP sürümünden başlayarak, ıGMP iletisinin tamamlama toplamı için 16 bit sağlama toplamı içerir (BITS 0-15)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-771">This field contains the 16-bit checksum of the one's complement sum of the IGMP message starting with the IGMP version (bits 0-15)</span></span> |
| <span data-ttu-id="5f8f1-772">Grup adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-772">Group Address</span></span>         | <span data-ttu-id="5f8f1-773">32-bit sınıfı D grup IP adresi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-773">32-bit class D group IP address</span></span> |


<span data-ttu-id="5f8f1-774">IGMP rapor iletileri, çok noktaya yayın yönlendiricisi tarafından gönderilen ıGMP sorgu iletilerine yanıt olarak da gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-774">IGMP report messages are also sent in response to IGMP query messages sent by a multicast router.</span></span> <span data-ttu-id="5f8f1-775">Çok noktaya yayın yönlendiricileri, hangi konağın hala grup üyeliği gerektirdiğini görmek üzere sorgu iletilerini düzenli aralıklarla gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-775">Multicast routers periodically send query messages out to see which hosts still require group membership.</span></span> <span data-ttu-id="5f8f1-776">Sorgu iletileri, Şekil 8 ' de gösterilen ıGMP rapor iletisiyle aynı biçimde olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-776">Query messages have the same format as the IGMP Report message shown in Figure 8.</span></span> <span data-ttu-id="5f8f1-777">Tek farklar ıGMP türüdür ve grup adresi alanı 0 olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-777">The only differences are the IGMP type is equal to 1 and the group address field is set to 0.</span></span> <span data-ttu-id="5f8f1-778">IGMP sorgu iletileri, çok noktaya yayın yönlendiricisi tarafından *tüm konaklar* IP adresine gönderilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-778">IGMP Query messages are sent to the *all hosts* IP address by the multicast router.</span></span> <span data-ttu-id="5f8f1-779">Grup üyeliğini sürdürmeye devam eden bir ana bilgisayar, başka bir ıGMP rapor iletisi göndererek yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-779">A host that still wishes to maintain group membership responds by sending another IGMP Report message.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-780">*TCP/IP uygulamasındaki tüm iletilerin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-780">*All messages in the TCP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

### <a name="igmp-statistics-and-errors"></a><span data-ttu-id="5f8f1-781">IGMP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-781">IGMP Statistics and Errors</span></span>

<span data-ttu-id="5f8f1-782">Etkinleştirilirse, NetX ıGMP yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-782">If enabled, the NetX IGMP software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-783">Her IP 'nin ıGMP işlemi için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-783">The following statistics and error reports are maintained for each IP's IGMP processing:</span></span>

- <span data-ttu-id="5f8f1-784">Gönderilen toplam ıGMP raporu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-784">Total IGMP Reports Sent</span></span>
- <span data-ttu-id="5f8f1-785">Alınan toplam ıGMP sorgusu sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-785">Total IGMP Queries Received</span></span>
- <span data-ttu-id="5f8f1-786">Toplam ıGMP sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-786">Total IGMP Checksum Errors</span></span>
- <span data-ttu-id="5f8f1-787">Toplam ıGMP geçerli grup</span><span class="sxs-lookup"><span data-stu-id="5f8f1-787">Total IGMP Current Groups Joined</span></span>

<span data-ttu-id="5f8f1-788">Bu istatistik ve hata raporlarının tümü, ***nx_igmp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-788">All these statistics and error reports are available to the application with the ***nx_igmp_info_get*** service.</span></span>

## <a name="user-datagram-protocol-udp"></a><span data-ttu-id="5f8f1-789">Kullanıcı veri birimi Protokolü (UDP)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-789">User Datagram Protocol (UDP)</span></span>

<span data-ttu-id="5f8f1-790">Kullanıcı veri birimi Protokolü (UDP) ağ üyeleri arasında en basit veri aktarımı biçimini sağlar (RFC 768).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-790">The User Datagram Protocol (UDP) provides the simplest form of data transfer between network members (RFC 768).</span></span> <span data-ttu-id="5f8f1-791">UDP veri paketleri en iyi çabayla bir ağ üyesinden diğerine gönderilir; Yani, paket alıcısı tarafından onay için yerleşik bir mekanizma yoktur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-791">UDP data packets are sent from one network member to another in a best effort fashion; i.e., there is no built-in mechanism for acknowledgement by the packet recipient.</span></span> <span data-ttu-id="5f8f1-792">Ayrıca, bir UDP paketinin gönderilmesi için herhangi bir bağlantının önceden kurulması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-792">In addition, sending a UDP packet does not require any connection to be established in advance.</span></span> <span data-ttu-id="5f8f1-793">Bu nedenle, UDP paket iletimi oldukça etkilidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-793">Because of this, UDP packet transmission is very efficient.</span></span>

### <a name="udp-header"></a><span data-ttu-id="5f8f1-794">UDP üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-794">UDP Header</span></span>
<span data-ttu-id="5f8f1-795">UDP, iletim sırasında uygulamanın verilerinin önüne basit bir paket üst bilgisi koyar ve alınan bir UDP paketini uygulamaya teslim etmeden önce, Alım paketinden benzer bir UDP üst bilgisini kaldırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-795">UDP places a simple packet header in front of the application's data on transmission, and removes a similar UDP header from the packet on reception before delivering a received UDP packet to the application.</span></span> <span data-ttu-id="5f8f1-796">UDP, paket ağda olduğunda UDP üst bilgisinin önünde bir IP üstbilgisi olduğu anlamına gelen paketleri göndermek ve almak için IP protokolünü kullanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-796">UDP utilizes the IP protocol for sending and receiving packets, which means there is an IP header in front of the UDP header when the packet is on the network.</span></span> <span data-ttu-id="5f8f1-797">Şekil 9 ' da UDP üstbilgisinin biçimi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-797">Figure 9 shows the format of the UDP header.</span></span>

![UDP üst bilgisi](./media/user-guide/udp-header.png)

<span data-ttu-id="5f8f1-799">**ŞEKIL 9. UDP üst bilgisi**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-799">**FIGURE 9. UDP Header**</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-800">*UDP/IP uygulamasındaki tüm üstbilgilerin big endian biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-800">*All headers in the UDP/IP implementation are expected to be in big endian format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

<span data-ttu-id="5f8f1-801">Aşağıda UDP üst bilgi biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-801">The following describes the UDP header format:</span></span>

| <span data-ttu-id="5f8f1-802">Üst bilgi alanı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-802">Header Field</span></span>                   | <span data-ttu-id="5f8f1-803">Amaç</span><span class="sxs-lookup"><span data-stu-id="5f8f1-803">Purpose</span></span> |
|--------------------------------|---------------------------------------------|
| <span data-ttu-id="5f8f1-804">16 bit kaynak bağlantı noktası numarası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-804">16-bit source port number</span></span>      | <span data-ttu-id="5f8f1-805">Bu alan, UDP paketinin gönderilme bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-805">This field contains the port on which the UDP packet is being sent from.</span></span> <span data-ttu-id="5f8f1-806">Geçerli UDP bağlantı noktaları 1 ile 0xFFFF arasındadır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-806">Valid UDP ports range from 1 through 0xFFFF.</span></span> |
| <span data-ttu-id="5f8f1-807">16 bit hedef bağlantı noktası numarası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-807">16-bit destination port number</span></span> | <span data-ttu-id="5f8f1-808">Bu alan, paketin gönderildiği UDP bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-808">This field contains the UDP port to which the packet is being sent to.</span></span> <span data-ttu-id="5f8f1-809">Geçerli UDP bağlantı noktaları 1 ile 0xFFFF arasındadır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-809">Valid UDP ports range from 1 through 0xFFFF.</span></span>   |
| <span data-ttu-id="5f8f1-810">16 bit UDP uzunluğu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-810">16-bit UDP length</span></span>   | <span data-ttu-id="5f8f1-811">Bu alan UDP paketindeki UDP üstbilgisinin boyutu da dahil olmak üzere bayt sayısını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-811">This field contains the number of bytes in the UDP packet, including the size of the UDP header.</span></span>                                  |
| <span data-ttu-id="5f8f1-812">16 bit UDP sağlama toplamı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-812">16-bit UDP checksum</span></span> | <span data-ttu-id="5f8f1-813">Bu alan, paket için UDP üstbilgisi, paket veri alanı ve sözde IP üstbilgisi dahil olmak üzere 16 bit sağlama toplamı içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-813">This field contains the 16-bit checksum for the packet, including the UDP header, the packet data area, and the pseudo IP header.</span></span> |

### <a name="udp-enable"></a><span data-ttu-id="5f8f1-814">UDP etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-814">UDP Enable</span></span>

<span data-ttu-id="5f8f1-815">UDP paket iletimi mümkün olmadan önce, uygulamanın öncelikle ***nx_udp_enable*** HIZMETINI çağırarak UDP 'yi etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-815">Before UDP packet transmission is possible, the application must first enable UDP by calling the ***nx_udp_enable*** service.</span></span> <span data-ttu-id="5f8f1-816">Etkinleştirildikten sonra uygulama, UDP paketlerini göndermek ve almak için ücretsizdir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-816">After enabled, the application is free to send and receive UDP packets.</span></span>

### <a name="udp-socket-create"></a><span data-ttu-id="5f8f1-817">UDP yuvası oluşturma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-817">UDP Socket Create</span></span>

<span data-ttu-id="5f8f1-818">UDP yuvaları, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-818">UDP sockets are created either during initialization or during runtime by application threads.</span></span> <span data-ttu-id="5f8f1-819">Hizmetin başlangıç türü, yaşam süresi ve alma sırası derinliği ***nx_udp_socket_create*** hizmeti tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-819">The initial type of service, time to live, and receive queue depth are defined by the ***nx_udp_socket_create*** service.</span></span> <span data-ttu-id="5f8f1-820">Bir uygulamadaki UDP yuvaları sayısında sınır yoktur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-820">There are no limits on the number of UDP sockets in an application.</span></span>

### <a name="udp-checksum"></a><span data-ttu-id="5f8f1-821">UDP sağlama toplamı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-821">UDP Checksum</span></span>

<span data-ttu-id="5f8f1-822">UDP, IP sahte üstbilgisini (kaynak IP adresi, hedef IP adresi ve protokol/uzunluk IP sözcükten oluşan), UDP üstbilgisini ve UDP paket verilerini içeren bir 16 bit tamamlama toplamı belirtir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-822">UDP specifies a one's complement 16-bit checksum that covers the IP pseudo header (consisting of the source IP address, destination IP address, and the protocol/length IP word), the UDP header, and the UDP packet data.</span></span> <span data-ttu-id="5f8f1-823">Hesaplanan UDP sağlama toplamı 0 ise, hepsi (0xFFFF) olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-823">If the calculated UDP checksum is 0, it is stored as all ones (0xFFFF).</span></span> <span data-ttu-id="5f8f1-824">Gönderme yuvasında UDP sağlama toplamı mantığı devre dışıysa, sağlama toplamı hesaplanmadığından, UDP sağlama toplamı alanına sıfır yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-824">If the sending socket has the UDP checksum logic disabled, a zero is placed in the UDP checksum field to indicate the checksum was not calculated.</span></span> <span data-ttu-id="5f8f1-825">UDP sağlama toplamı, alıcı tarafından hesaplanan sağlama toplamıyla eşleşmezse, UDP paketi yalnızca atılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-825">If the UDP checksum does not match the computed checksum by the receiver, the UDP packet is simply discarded.</span></span>

<span data-ttu-id="5f8f1-826">IP ağında, UDP sağlama toplamı isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-826">On the IP network, UDP checksum is optional.</span></span> <span data-ttu-id="5f8f1-827">NetX, bir uygulamanın her yuva temelinde UDP sağlama toplamı hesaplamasını etkinleştirmesine veya devre dışı bırakmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-827">NetX allows an application to enable or disable UDP checksum calculation on a per-socket basis.</span></span> <span data-ttu-id="5f8f1-828">Varsayılan olarak, UDP yuva sağlama toplamı mantığı etkindir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-828">By default, the UDP socket checksum logic is enabled.</span></span> <span data-ttu-id="5f8f1-829">Uygulama, ***nx_udp_socket_checksum_disable*** hizmetini çağırarak belırlı bir UDP yuvası için sağlama mantığını devre dışı bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-829">The application can disable checksum logic for a particular UDP socket by calling the ***nx_udp_socket_checksum_disable*** service.</span></span>

<span data-ttu-id="5f8f1-830">Belirli Ethernet denetleyicileri anında UDP sağlama toplamı üretebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-830">Certain Ethernet controllers are able to generate the UDP checksum on the fly.</span></span> <span data-ttu-id="5f8f1-831">Sistem donanım sağlama toplamı hesaplama özelliğini kullanabiliyor ise NetX kitaplığı sağlama toplamı mantığı olmadan oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-831">If the system is able to use hardware checksum computation feature, the NetX library can be built without the checksum logic.</span></span> <span data-ttu-id="5f8f1-832">UDP yazılım sağlama toplamını devre dışı bırakmak için NetX kitaplığı, tanımlanan şu simgelerle oluşturulmalıdır: ***NX_DISABLE_UDP_TX_CHECKSUM*** ve \***NX_DISABLE_UDP_RX_CHECKSUM **_ ( [Bölüm 2](chapter2.md)' de açıklanmaktadır). Yapılandırma seçenekleri, NetX 'ten gelen UDP sağlama toplamı mantığını tamamen kaldırır, _* nx_udp_socket_checksum_disable hizmetini çağırmak*** , uygulamanın her yuva IÇIN IP UDP sağlama toplamı işlemesini devre dışı bırakmasına olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-832">To disable UDP software checksum, the NetX library must be built with the following symbols defined: ***NX_DISABLE_UDP_TX_CHECKSUM*** and ***NX_DISABLE_UDP_RX_CHECKSUM\*\*_ (described in [Chapter 2](chapter2.md)). The configuration options remove UDP checksum logic from NetX entirely, while calling the _* nx_udp_socket_checksum_disable**\* service allows the application to disable IP UDP checksum processing on a per socket basis.</span></span>

### <a name="udp-ports-and-binding"></a><span data-ttu-id="5f8f1-833">UDP bağlantı noktaları ve bağlama</span><span class="sxs-lookup"><span data-stu-id="5f8f1-833">UDP Ports and Binding</span></span>

<span data-ttu-id="5f8f1-834">UDP bağlantı noktası UDP protokolündeki bir mantıksal bitiş noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-834">A UDP port is a logical end point in the UDP protocol.</span></span> <span data-ttu-id="5f8f1-835">NetX 'in UDP bileşeninde, 1 ile 0xFFFF arasında 65.535 geçerli bağlantı noktası vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-835">There are 65,535 valid ports in the UDP component of NetX, ranging from 1 through 0xFFFF.</span></span> <span data-ttu-id="5f8f1-836">UDP verileri göndermek veya almak için önce uygulamanın bir UDP yuvası oluşturması ve ardından bunu istenen bir bağlantı noktasına bağlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-836">To send or receive UDP data, the application must first create a UDP socket, then bind it to a desired port.</span></span> <span data-ttu-id="5f8f1-837">Bir UDP yuvasını bir bağlantı noktasına bağladıktan sonra, uygulama o yuvaya veri alıp alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-837">After binding a UDP socket to a port, the application may send and receive data on that socket.</span></span>

### <a name="udp-fast-pathtrade"></a><span data-ttu-id="5f8f1-838">UDP hızlı yolu&trade;</span><span class="sxs-lookup"><span data-stu-id="5f8f1-838">UDP Fast Path&trade;</span></span>

<span data-ttu-id="5f8f1-839">UDP hızlı yolu, &trade; NetX UDP uygulamasıyla düşük bir paket ek yükü yolunun adıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-839">The UDP Fast Path&trade; is the name for a low packet overhead path through the NetX UDP implementation.</span></span> <span data-ttu-id="5f8f1-840">Bir UDP paketinin gönderilmesi yalnızca birkaç işlev çağrısını gerektirir: ***nx_udp_socket_send** _, _*_nx_ip_packet_send_\*_ ve ağ sürücüsüne yapılan nihai çağrı.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-840">Sending a UDP packet requires just a few function calls: ***nx_udp_socket_send** _, _*_nx_ip_packet_send_\*_, and the eventual call to the network driver.</span></span> <span data-ttu-id="5f8f1-841">_*_nx_udp_socket_send_*_ , mevcut NETX uygulamaları Için NETX 'te kullanılabilir ve yalnızca IP paketleri için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-841">_*_nx_udp_socket_send_*_ is available in NetX for existing NetX applications and is only applicable for IP packets.</span></span> <span data-ttu-id="5f8f1-842">Ancak tercih edilen yöntem, aşağıda açıklanan _ *_nx_udp_socket_send_*\* hizmetini kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-842">The preferred method, however, is to use _ *_nx_udp_socket_send_*\* service discussed below.</span></span> <span data-ttu-id="5f8f1-843">UDP paket alımı üzerinde, UDP paketi uygun UDP yuvası alma kuyruğuna yerleştirilir veya ağ sürücüsünün alma kesme işleminden gelen tek bir işlev çağrısında askıya alınmış bir uygulama iş parçacığına dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-843">On UDP packet reception, the UDP packet is either placed on the appropriate UDP socket receive queue or delivered to a suspended application thread in a single function call from the network driver's receive interrupt processing.</span></span> <span data-ttu-id="5f8f1-844">UDP paketlerinin gönderilmesi ve alınması için en iyi duruma getirilmiş bu mantık, UDP hızlı yol teknolojisinin özünü önemli bir yoldur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-844">This highly optimized logic for sending and receiving UDP packets is the essence of UDP Fast Path technology.</span></span>

### <a name="udp-packet-send"></a><span data-ttu-id="5f8f1-845">UDP paketi gönderme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-845">UDP Packet Send</span></span>

<span data-ttu-id="5f8f1-846">IP ağları üzerinden UDP verilerinin gönderilmesi, \***nx_udp_socket_send** _ işlevi çağırarak kolayca gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-846">Sending UDP data over IP networks is easily accomplished by calling the \***nx_udp_socket_send** _ function.</span></span> <span data-ttu-id="5f8f1-847">Çağıranın IP sürümünü _IP adresi \* alanında ayarlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-847">The caller must set the IP version in the _IP address\* field.</span></span> <span data-ttu-id="5f8f1-848">NetX, iletilen UDP paketlerinin hedef IP adresine göre en iyi kaynak adresini belirleyecek.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-848">NetX will determine the best source address for transmitted UDP packets based on the destination IP address.</span></span> <span data-ttu-id="5f8f1-849">Bu hizmet, paket verilerinin önüne bir UDP üst bilgisi koyar ve bir iç IP gönderme yordamı kullanarak ağı ağa gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-849">This service places a UDP header in front of the packet data and sends it out onto the network using an internal IP send routine.</span></span> <span data-ttu-id="5f8f1-850">UDP paketlerinin gönderilmesi üzerinde hiçbir iş parçacığı askıya alınmaz çünkü tüm UDP paket aktarımları hemen işlenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-850">There is no thread suspension on sending UDP packets because all UDP packet transmissions are processed immediately.</span></span>

<span data-ttu-id="5f8f1-851">Çok noktaya yayın veya yayın hedefleri için, NetX cihazında aralarından seçim yapabileceğiniz birden çok IP adresi varsa uygulamanın kullanılacak kaynak IP adresini belirtmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-851">For multicast or broadcast destinations, the application should specify the source IP address to use if the NetX device has multiple IP addresses to choose from.</span></span> <span data-ttu-id="5f8f1-852">Bu, Hizmetler ***nx_udp_socket_interface_send yapılabilir.***</span><span class="sxs-lookup"><span data-stu-id="5f8f1-852">This can be done with the services ***nx_udp_socket_interface_send.***</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-853">*Çok noktaya yayın veya yayın paketlerini iletmek için **nx_udp_socket_send** kullanılıyorsa, Ilk arabirimin IP adresi kaynak adres olarak kullanılır.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-853">*If **nx_udp_socket_send** is used for transmitting multicast or broadcast packets, the IP address of the first interface is used as source address.*</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-854">*Bu yuva için UDP sağlama toplamı mantığı etkinleştirilmişse, sağlama iş parçacığı bağlamında, UDP veya IP veri yapılarına erişimi engellemeden, sağlama toplamı işlemi yapılır.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-854">*If UDP checksum logic is enabled for this socket, the checksum operation is performed in the context of the calling thread, without blocking access to the UDP or IP data structures.*</span></span>

> [!NOTE]
> <span data-ttu-id="5f8f1-855">***NX_PACKET** yapısında bulunan UDP yük verileri uzun bir sözcük sınırında bulunmalıdır. Uygulamanın, IP, IP ve fiziksel medya üstbilgilerini yerleştirmek için, önüne işaretçisi ve NETX için veri başlangıç işaretçisi arasında yeterli alan bırakması gerekir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-855">*The UDP payload data residing in the **NX_PACKET** structure should reside on a long-word boundary. The application needs to leave sufficient space between the prepend pointer and the data start pointer for NetX to place the UDP, IP, and physical media headers.*</span></span>

### <a name="udp-packet-receive"></a><span data-ttu-id="5f8f1-856">UDP paket alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-856">UDP Packet Receive</span></span>

<span data-ttu-id="5f8f1-857">Uygulama iş parçacıkları, ***nx_udp_socket_receive*** çağırarak belirli BIR yuvadan UDP paketleri alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-857">Application threads may receive UDP packets from a particular socket by calling ***nx_udp_socket_receive***.</span></span> <span data-ttu-id="5f8f1-858">Yuva alma işlevi, yuvanın alma sırasındaki en eski paketi sunar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-858">The socket receive function delivers the oldest packet on the socket's receive queue.</span></span> <span data-ttu-id="5f8f1-859">Alma kuyruğunda paket yoksa, bir paket gelene kadar çağıran iş parçacığı askıya alabilir (isteğe bağlı bir zaman aşımı ile).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-859">If there are no packets on the receive queue, the calling thread can suspend (with an optional timeout) until a packet arrives.</span></span>

<span data-ttu-id="5f8f1-860">UDP alma paketi işleme (genellikle ağ sürücüsünün Alım kesme işleyicisinden çağrılır), paketi UDP yuvasının alma kuyruğuna yerleştirmekten veya bir paket için bekleyen ilk askıya alınan iş parçacığına teslim etmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-860">The UDP receive packet processing (usually called from the network driver's receive interrupt handler) is responsible for either placing the packet on the UDP socket's receive queue or delivering it to the first suspended thread waiting for a packet.</span></span> <span data-ttu-id="5f8f1-861">Paket sıraya alınmışsa, alma işlemi, yuvada ilişkili en fazla alma sırası derinliğini de denetler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-861">If the packet is queued, the receive processing also checks the maximum receive queue depth associated with the socket.</span></span> <span data-ttu-id="5f8f1-862">Bu yeni kuyruğa alınan paket sıra derinliğini aşarsa, sıradaki en eski paket atılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-862">If this newly queued packet exceeds the queue depth, the oldest packet in the queue is discarded.</span></span>

### <a name="udp-receive-notify"></a><span data-ttu-id="5f8f1-863">UDP alma bildirimi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-863">UDP Receive Notify</span></span>

<span data-ttu-id="5f8f1-864">Uygulama iş parçacığının birden fazla yuvada alınan verileri işlemesi gerekiyorsa ***nx_udp_socket_receive_notify*** işlevi kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-864">If the application thread needs to process received data from more than one socket, the ***nx_udp_socket_receive_notify*** function should be used.</span></span> <span data-ttu-id="5f8f1-865">Bu işlev, yuva için bir alma paketi geri çağırma işlevi kaydeder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-865">This function registers a receive packet callback function for the socket.</span></span> <span data-ttu-id="5f8f1-866">Yuvada her bir paket alındığında geri çağırma işlevi yürütülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-866">Whenever a packet is received on the socket, the callback function is executed.</span></span>

<span data-ttu-id="5f8f1-867">Geri çağırma işlevinin içeriği uygulamaya özgüdür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-867">The contents of the callback function is application-specific.</span></span> <span data-ttu-id="5f8f1-868">Ancak büyük olasılıkla işleme iş parçacığını, ilgili yuvada artık kullanılabilir olduğunu bildirmek için mantık içerebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-868">However, it would most likely contain logic to inform the processing thread that a packet is now available on the corresponding socket.</span></span>

### <a name="peer-address-and-port"></a><span data-ttu-id="5f8f1-869">Eş adresi ve bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-869">Peer Address and Port</span></span>

<span data-ttu-id="5f8f1-870">Bir UDP paketi alındığında, uygulama, hizmet ***nx_udp_packet_info_extract*** kullanarak gönderenin IP adresini ve bağlantı noktası numarasını bulabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-870">On receiving a UDP packet, application may find the sender's IP address and port number by using the service ***nx_udp_packet_info_extract***.</span></span> <span data-ttu-id="5f8f1-871">Başarılı bir geri döndüğünüzde, bu hizmet gönderenin IP adresi, gönderenin bağlantı noktası numarası ve paketin alındığı yerel arabirim hakkındaki bilgileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-871">On successful return, this service provides information on the sender's IP address, sender's port number, and the local interface through which the packet was received.</span></span>

### <a name="thread-suspension"></a><span data-ttu-id="5f8f1-872">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-872">Thread Suspension</span></span>

<span data-ttu-id="5f8f1-873">Daha önce belirtildiği gibi, uygulama iş parçacıkları belirli bir UDP bağlantı noktasında UDP paketi alınmaya çalışılırken askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-873">As mentioned previously, application threads can suspend while attempting to receive a UDP packet on a particular UDP port.</span></span> <span data-ttu-id="5f8f1-874">Bu bağlantı noktasında bir paket alındıktan sonra, bu, askıya alınan ilk iş parçacığına verilir ve bu iş parçacığı daha sonra sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-874">After a packet is received on that port, it is given to the first thread suspended and that thread is then resumed.</span></span> <span data-ttu-id="5f8f1-875">Çok sayıda NetX hizmeti için kullanılabilen bir UDP alma paketindeki bir özelliği askıya alırken isteğe bağlı bir zaman aşımı kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-875">An optional timeout is available when suspending on a UDP receive packet, a feature available for most NetX services.</span></span>

### <a name="udp-socket-statistics-and-errors"></a><span data-ttu-id="5f8f1-876">UDP yuvası Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-876">UDP Socket Statistics and Errors</span></span>

<span data-ttu-id="5f8f1-877">Etkinleştirilirse, NetX UDP yuva yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-877">If enabled, the NetX UDP socket software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-878">Her IP/UDP örneği için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-878">The following statistics and error reports are maintained for each IP/UDP instance:</span></span>

- <span data-ttu-id="5f8f1-879">Gönderilen toplam UDP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-879">Total UDP Packets Sent</span></span>
- <span data-ttu-id="5f8f1-880">Gönderilen toplam UDP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-880">Total UDP Bytes Sent</span></span>
- <span data-ttu-id="5f8f1-881">Alınan toplam UDP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-881">Total UDP Packets Received</span></span>
- <span data-ttu-id="5f8f1-882">Alınan toplam UDP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-882">Total UDP Bytes Received</span></span>
- <span data-ttu-id="5f8f1-883">Toplam UDP geçersiz paket sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-883">Total UDP Invalid Packets</span></span>
- <span data-ttu-id="5f8f1-884">Bırakılan toplam UDP alma paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-884">Total UDP Receive Packets Dropped</span></span>
- <span data-ttu-id="5f8f1-885">Toplam UDP alma sağlama toplamı hatası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-885">Total UDP Receive Checksum Errors</span></span>
- <span data-ttu-id="5f8f1-886">Gönderilen UDP soket paketleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-886">UDP Socket Packets Sent</span></span>
- <span data-ttu-id="5f8f1-887">Gönderilen UDP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-887">UDP Socket Bytes Sent</span></span>
- <span data-ttu-id="5f8f1-888">Alınan UDP soket paketleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-888">UDP Socket Packets Received</span></span>
- <span data-ttu-id="5f8f1-889">Alınan UDP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-889">UDP Socket Bytes Received</span></span>
- <span data-ttu-id="5f8f1-890">Sıraya alınan UDP yuvası paketleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-890">UDP Socket Packets Queued</span></span>
- <span data-ttu-id="5f8f1-891">Bırakılan UDP yuvası alma paketleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-891">UDP Socket Receive Packets Dropped</span></span>
- <span data-ttu-id="5f8f1-892">UDP yuva sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-892">UDP Socket Checksum Errors</span></span>

<span data-ttu-id="5f8f1-893">Bu istatistik ve hata raporlarının tümü, tüm UDP yuvaları üzerinden UDP istatistikleri amassed için ***nx_udp_info_get*** hizmeti ve belirtilen UDP yuvasında UDP istatistikleri için ***nx_udp_socket_info_get*** hizmeti ile kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-893">All these statistics and error reports are available to the application with the ***nx_udp_info_get*** service for UDP statistics amassed over all UDP sockets, and the ***nx_udp_socket_info_get*** service for UDP statistics on the specified UDP socket.</span></span>

### <a name="udp-socket-control-block-nx_udp_socket"></a><span data-ttu-id="5f8f1-894">UDP yuva denetim bloğu NX_UDP_SOCKET</span><span class="sxs-lookup"><span data-stu-id="5f8f1-894">UDP Socket Control Block NX_UDP_SOCKET</span></span>

<span data-ttu-id="5f8f1-895">Her UDP yuvasının özellikleri, ilişkili **NX_UDP_SOCKET** denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-895">The characteristics of each UDP socket are found in the associated **NX_UDP_SOCKET** control block.</span></span> <span data-ttu-id="5f8f1-896">IP veri yapısına bağlantı, gönderme ve alma yolları için ağ arabirimi, bağlantı noktası ve alma paketi kuyruğu gibi yararlı bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-896">It contains useful information such as the link to the IP data structure, the network interface for the sending and receiving paths, the bound port, and the receive packet queue.</span></span> <span data-ttu-id="5f8f1-897">Bu yapı **_nx_api. h_** dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-897">This structure is defined in the **_nx_api.h_** file.</span></span>

## <a name="transmission-control-protocol-tcp"></a><span data-ttu-id="5f8f1-898">İletim Denetimi Protokolü (TCP)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-898">Transmission Control Protocol (TCP)</span></span>

<span data-ttu-id="5f8f1-899">Iletim Denetim Protokolü (TCP) iki ağ üyesi arasında güvenilir akış veri aktarımı sağlar (RFC 793).</span><span class="sxs-lookup"><span data-stu-id="5f8f1-899">The Transmission Control Protocol (TCP) provides reliable stream data transfer between two network members (RFC 793).</span></span> <span data-ttu-id="5f8f1-900">Bir ağ üyesinden gönderilen tüm veriler, alıcı üye tarafından doğrulanır ve onaylanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-900">All data sent from one network member are verified and acknowledged by the receiving member.</span></span> <span data-ttu-id="5f8f1-901">Ayrıca, iki üyenin herhangi bir veri aktarımından önce bir bağlantı oluşturmuş olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-901">In addition, the two members must have established a connection prior to any data transfer.</span></span> <span data-ttu-id="5f8f1-902">Tüm bu sonuçlar güvenilir veri aktarımına sahiptir; Ancak, daha önce açıklanan UDP veri aktarımından daha fazla ek yük gerektirir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-902">All this results in reliable data transfer; however, it does require substantially more overhead than the previously described UDP data transfer.</span></span>

### <a name="tcp-header"></a><span data-ttu-id="5f8f1-903">TCP üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-903">TCP Header</span></span>

<span data-ttu-id="5f8f1-904">İletim sırasında TCP üstbilgisi, kullanıcıdan verilerin önüne yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-904">On transmission, TCP header is placed in front of the data from the user.</span></span> <span data-ttu-id="5f8f1-905">Alma sırasında TCP üstbilgisi, gelen paketten kaldırılır ve yalnızca uygulamanın kullanabildiği Kullanıcı verileri bırakılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-905">On reception, TCP header is removed from the incoming packet, leaving only the user data available to the application.</span></span> <span data-ttu-id="5f8f1-906">TCP, paket ağda olduğunda TCP üst bilgisinin önünde bir IP üstbilgisi olduğu anlamına gelen paketleri göndermek ve almak için IP protokolünü kullanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-906">TCP utilizes the IP protocol to send and receive packets, which means there is an IP header in front of the TCP header when the packet is on the network.</span></span> <span data-ttu-id="5f8f1-907">Şekil 10 ' da TCP üstbilgisinin biçimi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-907">Figure 10 shows the format of the TCP header.</span></span>

![TCP üst bilgisi](./media/user-guide/tcp-header.png)

<span data-ttu-id="5f8f1-909">**ŞEKIL 10. TCP üst bilgisi**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-909">**FIGURE 10. TCP Header**</span></span>

<span data-ttu-id="5f8f1-910">Aşağıda TCP üst bilgi biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-910">The following describes the TCP header format:</span></span>

| <span data-ttu-id="5f8f1-911">Üst bilgi alanı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-911">Header Field</span></span> | <span data-ttu-id="5f8f1-912">Amaç</span><span class="sxs-lookup"><span data-stu-id="5f8f1-912">Purpose</span></span> |
|---|---|
| <span data-ttu-id="5f8f1-913">16 bit kaynak bağlantı noktası numarası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-913">16-bit source port number</span></span> | <span data-ttu-id="5f8f1-914">Bu alan, TCP paketinin gönderilme bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-914">This field contains the port the TCP packet is being sent out on.</span></span> <span data-ttu-id="5f8f1-915">Geçerli TCP bağlantı noktaları 1 ile 0xFFFF arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-915">Valid TCP ports range from 1 through 0xFFFF.</span></span> |
| <span data-ttu-id="5f8f1-916">16 bit hedef bağlantı noktası numarası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-916">16-bit destination port number</span></span> | <span data-ttu-id="5f8f1-917">Bu alan, paketin gönderildiği TCP bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-917">This field contains the TCP port the packet is being sent to.</span></span> <span data-ttu-id="5f8f1-918">Geçerli TCP bağlantı noktaları 1 ile 0xFFFF arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-918">Valid TCP ports range from 1 through 0xFFFF.</span></span> |
| <span data-ttu-id="5f8f1-919">32-bit sıra numarası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-919">32-bit sequence number</span></span> | <span data-ttu-id="5f8f1-920">Bu alan, bağlantının bu sonundan gönderilen verilerin sıra numarasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-920">This field contains the sequence number for data sent from this end of the connection.</span></span> <span data-ttu-id="5f8f1-921">Özgün sıra, iki TCP düğümü arasındaki ilk bağlantı sırası sırasında oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-921">The original sequence is established during the initial connection sequence between two TCP nodes.</span></span> <span data-ttu-id="5f8f1-922">Bu noktadan her veri aktarımı, gönderilen toplam bayt sayısına göre sıra numarası artışını elde ediyor.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-922">Every data transfer from that point results in an increment of the sequence number by the amount bytes sent.</span></span> |
| <span data-ttu-id="5f8f1-923">32-bit onay numarası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-923">32-bit acknowledgement number</span></span> | <span data-ttu-id="5f8f1-924">Bu alan, bağlantının bu tarafında alınan son bayta karşılık gelen sıra numarasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-924">This field contains the sequence number corresponding to the last byte received by this side of the connection.</span></span> <span data-ttu-id="5f8f1-925">Bu, daha önce gönderilen verilerin bağlantının diğer ucundan başarıyla alındığını belirlemekte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-925">This is used to determine whether or not data previously sent has successfully been received by the other end of the connection.</span></span> |
| <span data-ttu-id="5f8f1-926">4 bit üst bilgi uzunluğu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-926">4-bit header length</span></span>           | <span data-ttu-id="5f8f1-927">Bu alan, TCP üstbilgisindeki 32 bitlik sözcüklerin sayısını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-927">This field contains the number of 32-bit words in the TCP header.</span></span> <span data-ttu-id="5f8f1-928">TCP üstbilgisinde bir seçenek yoksa, bu alan 5 ' tir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-928">If no options are present in the TCP header, this field is 5.</span></span> |
| <span data-ttu-id="5f8f1-929">6 bit kod bitleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-929">6-bit code bits</span></span>               | <span data-ttu-id="5f8f1-930">Bu alan, bağlantıyla ilişkili çeşitli denetim bilgilerini belirtmek için kullanılan altı farklı kod bitini içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-930">This field contains the six different code bits used to indicate various control information associated with the connection.</span></span> <span data-ttu-id="5f8f1-931">Denetim bitleri aşağıdaki gibi tanımlanır:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-931">The control bits are defined as follows:</span></span> |



| <span data-ttu-id="5f8f1-932">Name</span><span class="sxs-lookup"><span data-stu-id="5f8f1-932">Name</span></span> | <span data-ttu-id="5f8f1-933">Sürümleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-933">Bit</span></span> | <span data-ttu-id="5f8f1-934">Anlamı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-934">Meaning</span></span>                                                     |
|------|-----|-------------------------------------------------------------|
| <span data-ttu-id="5f8f1-935">URG</span><span class="sxs-lookup"><span data-stu-id="5f8f1-935">URG</span></span>  | <span data-ttu-id="5f8f1-936">21</span><span class="sxs-lookup"><span data-stu-id="5f8f1-936">21</span></span>  | <span data-ttu-id="5f8f1-937">Acil veriler var</span><span class="sxs-lookup"><span data-stu-id="5f8f1-937">Urgent data present</span></span>                                         |
| <span data-ttu-id="5f8f1-938">ONAY</span><span class="sxs-lookup"><span data-stu-id="5f8f1-938">ACK</span></span>  | <span data-ttu-id="5f8f1-939">20</span><span class="sxs-lookup"><span data-stu-id="5f8f1-939">20</span></span>  | <span data-ttu-id="5f8f1-940">Onay numarası geçerli</span><span class="sxs-lookup"><span data-stu-id="5f8f1-940">Acknowledgement number is valid</span></span>                             |
| <span data-ttu-id="5f8f1-941">PSH</span><span class="sxs-lookup"><span data-stu-id="5f8f1-941">PSH</span></span>  | <span data-ttu-id="5f8f1-942">19</span><span class="sxs-lookup"><span data-stu-id="5f8f1-942">19</span></span>  | <span data-ttu-id="5f8f1-943">Bu verileri hemen işle</span><span class="sxs-lookup"><span data-stu-id="5f8f1-943">Handle this data immediately</span></span>                                |
| <span data-ttu-id="5f8f1-944">K</span><span class="sxs-lookup"><span data-stu-id="5f8f1-944">RST</span></span>  | <span data-ttu-id="5f8f1-945">18</span><span class="sxs-lookup"><span data-stu-id="5f8f1-945">18</span></span>  | <span data-ttu-id="5f8f1-946">Bağlantıyı sıfırlama</span><span class="sxs-lookup"><span data-stu-id="5f8f1-946">Reset the connection</span></span>                                        |
| <span data-ttu-id="5f8f1-947">EŞITLEMEYE</span><span class="sxs-lookup"><span data-stu-id="5f8f1-947">SYN</span></span>  | <span data-ttu-id="5f8f1-948">17</span><span class="sxs-lookup"><span data-stu-id="5f8f1-948">17</span></span>  | <span data-ttu-id="5f8f1-949">Sıra numaralarını (bağlantı kurmak için kullanılır) eşitler</span><span class="sxs-lookup"><span data-stu-id="5f8f1-949">Synchronize sequence numbers (used to establish connection)</span></span> |
| <span data-ttu-id="5f8f1-950">FIN</span><span class="sxs-lookup"><span data-stu-id="5f8f1-950">FIN</span></span>  | <span data-ttu-id="5f8f1-951">16</span><span class="sxs-lookup"><span data-stu-id="5f8f1-951">16</span></span>  | <span data-ttu-id="5f8f1-952">Gönderici iletim ile tamamlandı (bağlantıyı kapatmak için kullanılır)</span><span class="sxs-lookup"><span data-stu-id="5f8f1-952">Sender is finished with transmit (used to close connection)</span></span> |

<span data-ttu-id="5f8f1-953">**16 bit pencere**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-953">**16-bit window**</span></span>

<span data-ttu-id="5f8f1-954">Bu alan akış denetimi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-954">This field is used for flow control.</span></span> <span data-ttu-id="5f8f1-955">Bu, yuvanın Şu anda alabileceği bayt miktarını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-955">It contains the amount of bytes the socket can currently receive.</span></span> <span data-ttu-id="5f8f1-956">Bu temel olarak Flow denetimi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-956">This basically is used for flow control.</span></span> <span data-ttu-id="5f8f1-957">Gönderen verilerin alıcının tanıtılan penceresine sığdırmasını sağlamaktan gönderici sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-957">The sender is responsible for making sure the data to send will fit into the receiver’s advertised window.</span></span>

| <span data-ttu-id="5f8f1-958">**Üst bilgi alanı**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-958">**Header Field**</span></span>          | <span data-ttu-id="5f8f1-959">**Amaç**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-959">**Purpose**</span></span> |
| ------------------------- | --- |
| <span data-ttu-id="5f8f1-960">**16 bit TCP sağlama toplamı**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-960">**16-bit TCP checksum**</span></span>   | <span data-ttu-id="5f8f1-961">Bu alan, paket için TCP üst bilgisi, paket veri alanı ve sözde IP üstbilgisi dahil olmak üzere 16 bit sağlama toplamı içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-961">This field contains the 16-bit checksum for the packet including the TCP header, the packet data area, and the pseudo IP header.</span></span>                |
| <span data-ttu-id="5f8f1-962">**16 bit acil işaretçi**</span><span class="sxs-lookup"><span data-stu-id="5f8f1-962">**16-bit urgent pointer**</span></span> | <span data-ttu-id="5f8f1-963">Bu alan, acil verilerin son baytının pozitif sapmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-963">This field contains the positive offset of the last byte of the urgent data.</span></span> <span data-ttu-id="5f8f1-964">Bu alan yalnızca üst bilgide URG kod biti ayarlandıysa geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-964">This field is only valid if the URG code bit is set in the header.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-965">*TCP/IP uygulamasındaki tüm üstbilgilerin big endian biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-965">*All headers in the TCP/IP implementation are expected to be in big endian format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

### <a name="tcp-enable"></a><span data-ttu-id="5f8f1-966">TCP etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-966">TCP Enable</span></span>

<span data-ttu-id="5f8f1-967">TCP bağlantıları ve paket aktarımları mümkün olmadan önce, uygulamanın öncelikle nx_tcp_enable hizmetini çağırarak TCP 'yi etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-967">Before TCP connections and packet transmissions are possible, the application must first enable TCP by calling the nx_tcp_enable service.</span></span> <span data-ttu-id="5f8f1-968">Etkinleştirildikten sonra, uygulama tüm TCP hizmetlerine erişmeye ücretsizdir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-968">After enabled, the application is free to access all TCP services.</span></span>

### <a name="tcp-socket-create"></a><span data-ttu-id="5f8f1-969">TCP yuvası oluşturma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-969">TCP Socket Create</span></span>

<span data-ttu-id="5f8f1-970">TCP yuvaları, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-970">TCP sockets are created either during initialization or during runtime by application threads.</span></span> <span data-ttu-id="5f8f1-971">Hizmetin başlangıç türü, yaşam süresi ve pencere boyutu ***nx_tcp_socket_create*** hizmeti tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-971">The initial type of service, time to live, and window size are defined by the ***nx_tcp_socket_create*** service.</span></span> <span data-ttu-id="5f8f1-972">Bir uygulamadaki TCP yuvaları sayısında sınır yoktur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-972">There are no limits on the number of TCP sockets in an application.</span></span>

### <a name="tcp-checksum"></a><span data-ttu-id="5f8f1-973">TCP sağlama toplamı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-973">TCP Checksum</span></span>

<span data-ttu-id="5f8f1-974">TCP, IP sahte üstbilgisini (kaynak IP adresi, hedef IP adresi ve protokol/uzunluk IP sözcükten oluşan), TCP üstbilgisini ve TCP paketi verilerini içeren bir 16 bit tamamlama toplamı belirtir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-974">TCP specifies a one’s complement 16-bit checksum that covers the IP pseudo header, (consisting of the source IP address, destination IP address, and the protocol/length IP word), the TCP header, and the TCP packet data.</span></span>

<span data-ttu-id="5f8f1-975">Bazı ağ denetleyicileri donanımda TCP sağlama toplamı hesaplaması ve doğrulaması gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-975">Certain network controllers are able to perform TCP checksum computation and validation in hardware.</span></span> <span data-ttu-id="5f8f1-976">Uygulamalar, bu tür sistemler için, çalışma zamanı yükünü azaltmak için mümkün olduğunca donanım sağlama mantığını kullanmak isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-976">For such systems, applications may want to use hardware checksum logic as much as possible to reduce runtime overhead.</span></span> <span data-ttu-id="5f8f1-977">Uygulamalar, **NX_DISABLE_TCP_TX_CHECKSUM** ve **NX_DISABLE_TCP_RX_CHECKSUM** tanımlayarak derleme zamanında NETX kitaplığından tamamen TCP sağlama toplamı hesaplama mantığını devre dışı bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-977">Applications may disable TCP checksum computation logic from the NetX library altogether at build time by defining **NX_DISABLE_TCP_TX_CHECKSUM** and **NX_DISABLE_TCP_RX_CHECKSUM**.</span></span> <span data-ttu-id="5f8f1-978">Bu şekilde, TCP sağlama toplamı kodu ' de derlenmez.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-978">This way, the TCP checksum code is not compiled in.</span></span>

### <a name="tcp-port"></a><span data-ttu-id="5f8f1-979">TCP Bağlantı Noktası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-979">TCP Port</span></span>

<span data-ttu-id="5f8f1-980">TCP bağlantı noktası, TCP protokolünde bir mantıksal bağlantı noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-980">A TCP port is a logical connection point in the TCP protocol.</span></span> <span data-ttu-id="5f8f1-981">NetX TCP bileşeninde, 1 ile 0xFFFF arasında 65.535 geçerli bağlantı noktası vardır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-981">There are 65,535 valid ports in the TCP component of NetX, ranging from 1 through 0xFFFF.</span></span> <span data-ttu-id="5f8f1-982">Bir bağlantı noktasındaki verilerin diğer hedef bağlantı noktalarına gönderilebileceği UDP 'nin aksine, bir TCP bağlantı noktasının başka bir belirli TCP bağlantı noktasına bağlı olması ve yalnızca bu bağlantı kurulduğu zaman, bağlantıyı oluşturan iki bağlantı noktası arasında olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-982">Unlike UDP in which data from one port can be sent to any other destination port, a TCP port is connected to another specific TCP port, and only when this connection is established can any data transfer take place—and only between the two ports making up the connection.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-983">*TCP bağlantı noktaları UDP bağlantı noktalarından tamamen ayrıdır; Örneğin, UDP bağlantı noktası numarası 1, TCP bağlantı noktası numarası 1 ile ilişki içermez.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-983">*TCP ports are completely separate from UDP ports; e.g., UDP port number 1 has no relation to TCP port number 1.*</span></span>

## <a name="client-server-model"></a><span data-ttu-id="5f8f1-984">Client-Server modeli</span><span class="sxs-lookup"><span data-stu-id="5f8f1-984">Client-Server Model</span></span>

<span data-ttu-id="5f8f1-985">Veri aktarımı için TCP kullanmak üzere iki TCP yuvası arasında bir bağlantı kurulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-985">To use TCP for data transfer, a connection must first be established between the two TCP sockets.</span></span> <span data-ttu-id="5f8f1-986">Bağlantının kurulması, istemci-sunucu düzeyinde yapılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-986">The establishment of the connection is done in a client-server fashion.</span></span> <span data-ttu-id="5f8f1-987">Bağlantının istemci tarafı bağlantıyı başlatan tarafdayken, sunucu tarafı herhangi bir işlem yapılmadan önce istemci bağlantı isteklerini bekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-987">The client side of the connection is the side that initiates the connection, while the server side simply waits for client connection requests before any processing is done.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-988">*Çok ana cihazlarda NetX, bağlantı için kullanılacak kaynak adresini ve bağlantının hedef IP adresine göre sonraki atlama adresini otomatik olarak belirler.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-988">*For multihome devices, NetX automatically determines the source address to use for the connection, and the next hop address based on the destination IP address of the connection.*</span></span>

### <a name="tcp-socket-state-machine"></a><span data-ttu-id="5f8f1-989">TCP yuva durumu makinesi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-989">TCP Socket State Machine</span></span>

<span data-ttu-id="5f8f1-990">İki TCP yuvası (bir istemci ve bir sunucu) arasındaki bağlantı karmaşıktır ve bir durum makinesi halinde yönetilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-990">The connection between two TCP sockets (one client and one server) is complex and is managed in a state machine manner.</span></span> <span data-ttu-id="5f8f1-991">Her TCP yuvası kapalı bir durumda başlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-991">Each TCP socket starts in a CLOSED state.</span></span> <span data-ttu-id="5f8f1-992">Bağlantı olayları aracılığıyla her bir yuvanın durum makinesi, TCP 'deki veri aktarımının toplu olarak gerçekleştiği, kurulan duruma geçirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-992">Through connection events each socket's state machine migrates into the ESTABLISHED state, which is where the bulk of the data transfer in TCP takes place.</span></span> <span data-ttu-id="5f8f1-993">Bağlantının bir tarafı artık veri göndermek istediğinde, bağlantısını keser.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-993">When one side of the connection no longer wishes to send data, it disconnects.</span></span> <span data-ttu-id="5f8f1-994">Diğer tarafın bağlantısı kesildiğinde, TCP yuvası kapalı duruma geri döner.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-994">After the other side disconnects, eventually the TCP socket returns to the CLOSED state.</span></span> <span data-ttu-id="5f8f1-995">Bu işlem, bir TCP istemcisi ve sunucusu bir bağlantı kurup her kapatışınızda yinelenir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-995">This process repeats each time a TCP client and server establish and close a connection.</span></span> <span data-ttu-id="5f8f1-996">Şekil 11, TCP durum makinesinin çeşitli durumlarını gösterir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-996">Figure 11 shows the various states of the TCP state machine.</span></span>

![TCP durum makinesinin durumları](./media/user-guide/states-tcp-state-machine.png)

### <a name="figure-11-states-of-the-tcp-state-machine"></a><span data-ttu-id="5f8f1-998">ŞEKIL 11.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-998">FIGURE 11.</span></span> <span data-ttu-id="5f8f1-999">TCP durum makinesinin durumları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-999">States of the TCP State Machine</span></span>

### <a name="tcp-client-connection"></a><span data-ttu-id="5f8f1-1000">TCP Istemci bağlantısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1000">TCP Client Connection</span></span>

<span data-ttu-id="5f8f1-1001">Daha önce belirtildiği gibi, TCP bağlantısının istemci tarafı bir TCP sunucusuna bağlantı isteği başlatır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1001">As mentioned previously, the client side of the TCP connection initiates a connection request to a TCP server.</span></span> <span data-ttu-id="5f8f1-1002">Bir bağlantı isteğinin yapılabilmesi için, istemci IP örneğinde TCP 'nin etkinleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1002">Before a connection request can be made, TCP must be enabled on the client IP instance.</span></span> <span data-ttu-id="5f8f1-1003">Ayrıca, istemci TCP yuvasının daha sonra ***nx_tcp_socket_create** _ hizmeti ile oluşturulması ve _*_nx_tcp_client_socket_bind_\*_ hizmeti aracılığıyla bir bağlantı noktasına bağlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1003">In addition, the client TCP socket must next be created with the ***nx_tcp_socket_create** _ service and bound to a port via the _*_nx_tcp_client_socket_bind_\*_ service.</span></span> <span data-ttu-id="5f8f1-1004">İstemci yuvası bağlandıktan sonra, bir TCP sunucusuyla bağlantı kurmak için _ *_nx_tcp_client_socket_connect_*\* hizmeti kullanılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1004">After the client socket is bound, the _ *_nx_tcp_client_socket_connect_*\* service is used to establish a connection with a TCP server.</span></span> <span data-ttu-id="5f8f1-1005">Bir bağlantı denemesi başlatmak için yuvanın kapalı durumda olması gerektiğini aklınızda olun.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1005">Note the socket must be in a CLOSED state to initiate a connection attempt.</span></span> <span data-ttu-id="5f8f1-1006">Bağlantıyı kurmak bir SYN paketi veren NetX ile başlar ve sonra bağlantı isteğinin kabul edildiğini belirten bir SYN ACK paketini sunucudan geri bekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1006">Establishing the connection starts with NetX issuing a SYN packet and then waiting for a SYN ACK packet back from the server, which signifies acceptance of the connection request.</span></span> <span data-ttu-id="5f8f1-1007">SYN ACK alındıktan sonra NetX bir ACK paketiyle yanıt verir ve istemci yuvasını belırlenen duruma yükseltir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1007">After the SYN ACK is received, NetX responds with an ACK packet and promotes the client socket to the ESTABLISHED state.</span></span>

### <a name="tcp-client-disconnection"></a><span data-ttu-id="5f8f1-1008">TCP Istemcisi bağlantısı kesilmesi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1008">TCP Client Disconnection</span></span>

<span data-ttu-id="5f8f1-1009">Bağlantıyı kapatmak ***nx_tcp_socket_disconnect*** çağırarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1009">Closing the connection is accomplished by calling ***nx_tcp_socket_disconnect***.</span></span> <span data-ttu-id="5f8f1-1010">Askıya alma belirtilmemişse, istemci yuvası sunucu yuvasına bir RST paketi gönderir ve yuvayı kapalı duruma koyar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1010">If no suspension is specified, the client socket sends a RST packet to the server socket and places the socket in the CLOSED state.</span></span> <span data-ttu-id="5f8f1-1011">Aksi takdirde, askıya alma isteniyorsa, tam TCP bağlantı kesme protokolü aşağıdaki gibi gerçekleştirilir:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1011">Otherwise, if a suspension is requested, the full TCP disconnect protocol is performed, as follows:</span></span>

- <span data-ttu-id="5f8f1-1012">Sunucu daha önce bir bağlantı kesme isteği başlatmışsa (istemci soketi bir FIN paketi zaten aldıysa, bir ACK ile yanıt verdi ve kapatma bekleme durumundaysa), NetX istemci TCP yuvası durumunu son ACK durumuna yükseltir ve bir FIN paketi gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1012">If the server previously initiated a disconnect request (the client socket has already received a FIN packet, responded with an ACK, and is in the CLOSE WAIT state), NetX promotes the client TCP socket state to the LAST ACK state and sends a FIN packet.</span></span> <span data-ttu-id="5f8f1-1013">Ardından, bağlantıyı kesmeden ve kapalı durumu girerek sunucudan bir ACK 'i bekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1013">It then waits for an ACK from the server before completing the disconnect and entering the CLOSED state.</span></span>

- <span data-ttu-id="5f8f1-1014">Öte yandan istemci, bir bağlantı kesme isteği başlatmakta (sunucu bağlantısı kesilmemiştir ve yuva hala kurulu durumdaysa), NetX bağlantı kesmeyi başlatmak için bir FIN paketi gönderir ve bağlantı kesmeyi tamamlamadan ve yuvayı kapalı bir duruma yerleştirerek sunucudan bir FIN ve bir ACK alıp almamayı bekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1014">If on the other hand, the client is the first to initiate a disconnect request (the server has not disconnected and the socket is still in the ESTABLISHED state), NetX sends a FIN packet to initiate the disconnect and waits to receive a FIN and an ACK from the server before completing the disconnect and placing the socket in a CLOSED state.</span></span>

<span data-ttu-id="5f8f1-1015">Yuva iletme kuyruğunda hala paketler varsa, NetX, paketlerin onaylanılmasına izin vermek için belirtilen zaman aşımı süresini askıya alır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1015">If there are still packets on the socket transmit queue, NetX suspends for the specified timeout to allow the packets to be acknowledged.</span></span> <span data-ttu-id="5f8f1-1016">Zaman aşımı süresi dolarsa NetX, istemci yuvasının iletim sırasını boşaltır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1016">If the timeout expires, NetX empties the transmit queue of the client socket.</span></span>

<span data-ttu-id="5f8f1-1017">İstemci yuvasıyla bağlantı noktasının bağlantısını kesmek için uygulama ***nx_tcp_client_socket_unbind*** çağırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1017">To unbind the port from the client socket, the application calls ***nx_tcp_client_socket_unbind***.</span></span> <span data-ttu-id="5f8f1-1018">Yuva, bağlantı noktası yayınlanmadan önce kapalı durumda veya bağlantısının kesilmesi (örneğin, SÜRELI bekleme durumu) işleminde olmalıdır; Aksi takdirde bir hata döndürülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1018">The socket must be in a CLOSED state or in the process of disconnecting (i.e., TIMED WAIT state) before the port is released; otherwise, an error is returned.</span></span>

<span data-ttu-id="5f8f1-1019">Son olarak, uygulama artık istemci yuvasına ihtiyaç duymuyorsa, yuvasını silmek için ***nx_tcp_socket_delete*** çağırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1019">Finally, if the application no longer needs the client socket, it calls ***nx_tcp_socket_delete*** to delete the socket.</span></span>

### <a name="tcp-server-connection"></a><span data-ttu-id="5f8f1-1020">TCP sunucusu bağlantısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1020">TCP Server Connection</span></span>

<span data-ttu-id="5f8f1-1021">TCP bağlantısının sunucu tarafı pasif olur; Yani, sunucu bir istemcinin bağlantı isteği başlatmasını bekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1021">The server side of a TCP connection is passive; i.e., the server waits for a client to initiate connection request.</span></span> <span data-ttu-id="5f8f1-1022">İstemci bağlantısını kabul etmek için, önce TCP **nx_tcp_enable** _ HIZMETINI çağırarak IP örneğinde TCP 'nin etkinleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1022">To accept a client connection, TCP must first be enabled on the IP instance by calling the service \***nx_tcp_enable** _.</span></span> <span data-ttu-id="5f8f1-1023">Daha sonra, uygulamanın _ *_nx_tcp_socket_create_*\* hizmetini kullanarak bir TCP yuvası oluşturması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1023">Next, the application must create a TCP socket using the _ *_nx_tcp_socket_create_*\* service.</span></span>

<span data-ttu-id="5f8f1-1024">Sunucu yuvası, bağlantı isteklerini dinlemek için de ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1024">The server socket must also be set up for listening for connection requests.</span></span> <span data-ttu-id="5f8f1-1025">Bu, ***nx_tcp_server_socket_listen*** hizmeti kullanılarak elde edilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1025">This is achieved by using the ***nx_tcp_server_socket_listen*** service.</span></span> <span data-ttu-id="5f8f1-1026">Bu hizmet, sunucu yuvasını dınleme durumuna koyar ve belirtilen sunucu bağlantı noktasını yuvaya bağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1026">This service places the server socket in the LISTEN state and binds the specified server port to the socket.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-1027">*Bir yuva dinleme geri çağırma yordamı ayarlamak için, uygulama **nx_tcp_server_socket_listen** hizmetinin tcp_listen_callback bağımsız değişkeni için uygun geri çağırma işlevini belirtir. Bu uygulama geri çağırma işlevi, bu sunucu bağlantı noktasında her yeni bağlantı istendiğinde NetX tarafından yürütülür. Geri çağırmada işlem uygulama denetimi altında.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1027">*To set a socket listen callback routine the application specifies the appropriate callback function for the tcp_listen_callback argument of the **nx_tcp_server_socket_listen** service. This application callback function is then executed by NetX whenever a new connection is requested on this server port. The processing in the callback is under application control.*</span></span>

<span data-ttu-id="5f8f1-1028">İstemci bağlantı isteklerini kabul etmek için, uygulama \***nx_tcp_server_socket_accept** _ hizmetini çağırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1028">To accept client connection requests, the application calls the \***nx_tcp_server_socket_accept** _ service.</span></span> <span data-ttu-id="5f8f1-1029">Sunucu yuvası, bir dınleme durumunda ya da SYN ALıNDı durumunda olmalıdır (yani, sunucu dınleme durumunda ve bağlantı isteyen bir istemciden bir SYN paketi aldı), kabul etme hizmetini çağırmak için.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1029">The server socket must either be in a LISTEN state or a SYN RECEIVED state (i.e., the server is in the LISTEN state and has received a SYN packet from a client requesting a connection) to call the accept service.</span></span> <span data-ttu-id="5f8f1-1030">_ *_Nx_tcp_server_socket_accept_*\* öğesinden başarılı bir dönüş durumu, bağlantının ayarlandığını ve sunucu yuvasının kurulu durumda olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1030">A successful return status from _ *_nx_tcp_server_socket_accept_*\* indicates the connection has been set up and the server socket is in the ESTABLISHED state.</span></span>

<span data-ttu-id="5f8f1-1031">Sunucu yuvasının geçerli bir bağlantısı olduktan sonra, ek istemci bağlantı istekleri, \***nx_tcp_server_socket_listen** _ hizmetine geçirilen *listen_queue_size* tarafından belirtilen derinliğe göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1031">After the server socket has a valid connection, additional client connection requests are queued up to the depth specified by the *listen_queue_size*, passed into the \***nx_tcp_server_socket_listen** _ service.</span></span> <span data-ttu-id="5f8f1-1032">Bir sunucu bağlantı noktasında sonraki bağlantıları işlemek için, uygulama _ *_nx_tcp_server_socket_relisten_*\* öğesini kullanılabilir bir yuva (yani kapalı durumda olan bir yuva) ile çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1032">In order to process subsequent connections on a server port, the application must call _ *_nx_tcp_server_socket_relisten_*\* with an available socket (i.e., a socket in a CLOSED state).</span></span> <span data-ttu-id="5f8f1-1033">Yuva ile ilişkili önceki bağlantı artık tamamlanıp ve yuva kapalı durumdaysa aynı sunucu yuvasının kullanılabileceğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1033">Note that the same server socket could be used if the previous connection associated with the socket is now finished and the socket is in the CLOSED state.</span></span>

### <a name="tcp-server-disconnection"></a><span data-ttu-id="5f8f1-1034">TCP sunucusu bağlantısının kesilmesi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1034">TCP Server Disconnection</span></span>

<span data-ttu-id="5f8f1-1035">Bağlantıyı kapatmak ***nx_tcp_socket_disconnect*** çağırarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1035">Closing the connection is accomplished by calling ***nx_tcp_socket_disconnect***.</span></span> <span data-ttu-id="5f8f1-1036">Askıya alma belirtilmemişse, sunucu yuvası istemci yuvasına bir RST paketi gönderir ve yuvayı kapalı duruma koyar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1036">If no suspension is specified, the server socket sends a RST packet to the client socket and places the socket in the CLOSED state.</span></span> <span data-ttu-id="5f8f1-1037">Aksi takdirde, askıya alma isteniyorsa, tam TCP bağlantı kesme protokolü aşağıdaki gibi gerçekleştirilir: |</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1037">Otherwise, if a suspension is requested, the full TCP disconnect protocol is performed, as follows: |</span></span>

- <span data-ttu-id="5f8f1-1038">İstemci daha önce bir bağlantı kesme isteği başlatmışsa (sunucu soketi bir FIN paketi zaten aldıysa, bir ACK ile yanıtladı ve kapatma bekleme durumundaysa), NetX TCP yuvası durumunu son ACK durumuna yükseltir ve bir FIN paketi gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1038">If the client previously initiated a disconnect request (the server socket has already received a FIN packet, responded with an ACK, and is in the CLOSE WAIT state), NetX promotes the TCP socket state to the LAST ACK state and sends a FIN packet.</span></span> <span data-ttu-id="5f8f1-1039">Ardından, bağlantıyı kesmeden ve kapalı durumu girerek istemciden bir ACK 'i bekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1039">It then waits for an ACK from the client before completing the disconnect and entering the CLOSED state.</span></span>

- <span data-ttu-id="5f8f1-1040">Öte yandan sunucu, bir bağlantı kesme isteği başlatmakta (istemci bağlantısı kesilmemiştir ve yuva hala kurulu durumdaysa), NetX bağlantı kesmeyi başlatmak için bir FIN paketi gönderir ve bağlantı kesmeyi tamamlamadan ve yuvayı kapalı bir duruma yerleştirerek istemciden bir FIN ve bir ACK alıp almamayı bekler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1040">If on the other hand, the server is the first to initiate a disconnect request (the client has not disconnected and the socket is still in the ESTABLISHED state), NetX sends a FIN packet to initiate the disconnect and waits to receive a FIN and an ACK from the client before completing the disconnect and placing the socket in a CLOSED state.</span></span>

<span data-ttu-id="5f8f1-1041">Yuva iletme kuyruğunda hala paketler varsa, NetX belirtilen zaman aşımı için bu paketlerin onaylanılmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1041">If there are still packets on the socket transmit queue, NetX suspends for the specified timeout to allow those packets to be acknowledged.</span></span> <span data-ttu-id="5f8f1-1042">Zaman aşımı süresi dolarsa NetX, sunucu yuvasının iletim sırasını boşaltır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1042">If the timeout expires, NetX flushes the transmit queue of the server socket.</span></span>

<span data-ttu-id="5f8f1-1043">Bağlantı kesme işlemi tamamlandıktan ve sunucu yuvası kapalı durumdaysa, uygulamanın Bu yuvanın ilişkilendirmesini sunucu bağlantı noktasıyla sonlandırmak için ***nx_tcp_server_socket_unaccept*** hizmetini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1043">After the disconnect processing is complete and the server socket is in the CLOSED state, the application must call the ***nx_tcp_server_socket_unaccept*** service to end the association of this socket with the server port.</span></span> <span data-ttu-id="5f8f1-1044">***Nx_tcp_socket_disconnect*** veya \***nx_tcp_server_socket_accept** _ bir hata durumu döndürse bile bu hizmetin uygulama tarafından çağrılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1044">Note this service must be called by the application even if ***nx_tcp_socket_disconnect*** or \***nx_tcp_server_socket_accept** _ return an error status.</span></span> <span data-ttu-id="5f8f1-1045">_ *_Nx_tcp_server_socket_unaccept_*\* çağrıldıktan sonra, yuva istemci veya sunucu yuvası olarak kullanılabilir ya da artık gerekmiyorsa silinebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1045">After the _ *_nx_tcp_server_socket_unaccept_*\* returns, the socket can be used as a client or server socket, or even deleted if it is no longer needed.</span></span> <span data-ttu-id="5f8f1-1046">Aynı sunucu bağlantı noktasında başka bir istemci bağlantısını kabul etmeniz isteniyorsa, ***nx_tcp_server_socket_relisten*** hizmeti bu yuvada çağrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1046">If accepting another client connection on the same server port is desired, the ***nx_tcp_server_socket_relisten*** service should be called on this socket.</span></span>

<span data-ttu-id="5f8f1-1047">Aşağıdaki kod segmenti tipik bir TCP sunucusunun kullandığı çağrıların dizisini gösterir:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1047">The following code segment illustrates the sequence of calls a typical TCP server uses:</span></span>

```c
/* Set up a previously created TCP socket to listen on port 12 */

nx_tcp_server_socket_listen()

/* Loop to make a (another) connection. */
while(1) {

    /* Wait for a client socket connection request for 100 ticks. */
    nx_tcp_server_socket_accept();

    /* (Send and receive TCP messages with the TCP client) */

    /* Disconnect the server socket. */
    nx_tcp_socket_disconnect();

    /* Remove this server socket from listening on the port. */

    nx_tcp_server_socket_unaccept(&server_socket);

    /* Set up server socket to relisten on the same port for the next
    client. */
    nx_tcp_server_socket_relisten();
}
```

### <a name="mss-validation"></a><span data-ttu-id="5f8f1-1048">, Bu doğrulama</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1048">MSS Validation</span></span>

<span data-ttu-id="5f8f1-1049">En büyük kesim boyutu (Bu), TCP ana bilgisayarının, temel alınan IP katmanı tarafından parçalanmadan alabileceği en yüksek bayt miktarıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1049">The Maximum Segment Size (MSS) is the maximum amount of bytes a TCP host can receive without being fragmented by the underlying IP layer.</span></span> <span data-ttu-id="5f8f1-1050">TCP bağlantı kurma aşaması sırasında, gönderenin, alıcının alt bileşenlerinden daha büyük bir TCP veri segmenti göndermemesi için kendi TCP sahip olduğu değeri her iki sona erer.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1050">During TCP connection establishment phase, both ends exchanges its own TCP MSS value, so that the sender does not send a TCP data segment that is larger than the receiver's MSS.</span></span> <span data-ttu-id="5f8f1-1051">NetX TCP modülü, bağlantı kurmadan önce isteğe bağlı olarak, eşin tanıtılan bir değeri doğrular.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1051">NetX TCP module will optionally validate its peer's advertised MSS value before establishing a connection.</span></span> <span data-ttu-id="5f8f1-1052">Varsayılan olarak NetX bu tür bir denetimi etkinleştirmez.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1052">By default NetX does not enable such a check.</span></span> <span data-ttu-id="5f8f1-1053">En düşük değer, bir NetX kitaplığı oluştururken ***NX_ENABLE_TCP_MSS_CHECKING** _ tanımlar ve en düşük değer _*_NX_TCP_MSS_MINIMUM_\*_ olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1053">Applications wishing to perform MSS validation shall define ***NX_ENABLE_TCP_MSS_CHECKING** _ when building the NetX library, and the minimum value shall be defined in _*_NX_TCP_MSS_MINIMUM_\*_.</span></span> <span data-ttu-id="5f8f1-1054">_ *_NX_TCP_MSS_MINIMUM_*\* altındaki, bu değerleri IÇEREN gelen TCP bağlantıları bırakılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1054">Incoming TCP connections with MSS values below _ *_NX_TCP_MSS_MINIMUM_*\* are dropped.</span></span>

### <a name="stop-listening-on-a-server-port"></a><span data-ttu-id="5f8f1-1055">Sunucu bağlantı noktasında dinlemeyi durdur</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1055">Stop Listening on a Server Port</span></span>

<span data-ttu-id="5f8f1-1056">Uygulama, daha önce ***nx_tcp_server_socket_listen** _ hizmeti çağrısıyla belirtilen bir sunucu bağlantı noktasındaki istemci bağlantı isteklerini dinlemek isterse, uygulama yalnızca _ *_nx_tcp_server_socket_unlisten_** hizmetini çağırır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1056">If the application no longer wishes to listen for client connection requests on a server port that was previously specified by a call to the ***nx_tcp_server_socket_listen** _ service, the application simply calls the _ *_nx_tcp_server_socket_unlisten_** service.</span></span> <span data-ttu-id="5f8f1-1057">Bu hizmet, bir bağlantıyı kapalı durumunda geri bekleyen bir yuva koyar ve sıraya alınan istemci bağlantı isteği paketlerini serbest bırakır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1057">This service places any socket waiting for a connection back in the CLOSED state and releases any queued client connection request packets.</span></span>

### <a name="tcp-window-size"></a><span data-ttu-id="5f8f1-1058">TCP pencere boyutu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1058">TCP Window Size</span></span>

<span data-ttu-id="5f8f1-1059">Bağlantının kurulum ve veri aktarımı aşamaları sırasında, her bağlantı noktası işleyebileceği veri miktarını rapor edebilir ve bu, pencere boyutu olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1059">During both the setup and data transfer phases of the connection, each port reports the amount of data it can handle, which is called its window size.</span></span> <span data-ttu-id="5f8f1-1060">Veriler alınıp işlendiğinde, bu pencere boyutu dinamik olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1060">As data are received and processed, this window size is adjusted dynamically.</span></span> <span data-ttu-id="5f8f1-1061">TCP 'de, gönderici yalnızca alıcının penceresine sığan veri miktarı gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1061">In TCP, a sender can only send an amount of data that fits into the receiver's window.</span></span> <span data-ttu-id="5f8f1-1062">Esas olarak pencere boyutu, bağlantının her yönünde veri aktarımı için akış denetimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1062">In essence, the window size provides flow control for data transfer in each direction of the connection.</span></span>

### <a name="tcp-packet-send"></a><span data-ttu-id="5f8f1-1063">TCP paketi gönderme</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1063">TCP Packet Send</span></span>

<span data-ttu-id="5f8f1-1064">TCP verilerinin gönderilmesi ***nx_tcp_socket_send*** işlevi çağırarak kolayca gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1064">Sending TCP data is easily accomplished by calling the ***nx_tcp_socket_send*** function.</span></span> <span data-ttu-id="5f8f1-1065">Aktarılan verilerin boyutu, yuvanın sahip olduğu değerin veya geçerli eş alma penceresi boyutunun (hangisi daha küçükse) daha büyükse, iletim için en az (örneğin, eş alma penceresi) olan verileri, TCP iç mantığını kapatır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1065">If the size of the data being transmitted is larger than the MSS value of the socket or the current peer receive window size, whichever is smaller, TCP internal logic carves off the data that fits into min (MSS, peer receive Window) for transmission.</span></span> <span data-ttu-id="5f8f1-1066">Bu hizmet daha sonra paketin önünde (sağlama toplamı hesaplaması dahil) bir TCP üst bilgisi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1066">This service then builds a TCP header in front of the packet (including the checksum calculation).</span></span> <span data-ttu-id="5f8f1-1067">Alıcının pencere boyutu sıfır değilse, çağıran alıcının pencere boyutunu dolduracağı kadar veri gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1067">If the receiver's window size is not zero, the caller will send as much data as it can to fill up the receiver window size.</span></span> <span data-ttu-id="5f8f1-1068">Alma penceresi sıfır olursa, çağıran, bu paketin gönderilmesi için alıcının pencere boyutunun yeterince artırılmasına izin verebilir ve bu işlemin boyutunu bekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1068">If the receive window becomes zero, the caller may suspend and wait for the receiver's window size to increase enough for this packet to be sent.</span></span> <span data-ttu-id="5f8f1-1069">Belirli bir zamanda, aynı yuva üzerinden veri gönderilmeye çalışılırken birden çok iş parçacığı askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1069">At any given time, multiple threads may suspend while trying to send data through the same socket.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-1070">*NX_PACKET yapısında bulunan TCP verileri uzun bir sözcük sınırında bulunmalıdır. Buna ek olarak, TCP, IP ve fiziksel medya üstbilgilerini yerleştirmek için önüne işaretçisi ve veri başlangıç işaretçisi arasında yeterli alan olması gerekir.*</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1070">*The TCP data residing in the NX_PACKET structure should reside on a long-word boundary. In addition, there needs to be sufficient space between the prepend pointer and the data start pointer to place the TCP, IP, and physical media headers.*</span></span>

### <a name="tcp-packet-retransmit"></a><span data-ttu-id="5f8f1-1071">TCP paketi yeniden aktarım</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1071">TCP Packet Retransmit</span></span>

<span data-ttu-id="5f8f1-1072">Daha önce gönderilen TCP paketleri, bağlantının diğer tarafından bir ACK döndürülünceye kadar dahili olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1072">Previously transmitted TCP packets sent actually stored internally until an ACK is returned from the other side of the connection.</span></span> <span data-ttu-id="5f8f1-1073">Aktarılan veriler zaman aşımı süresi içinde onaylanmazsa, depolanan paket yeniden gönderilir ve sonraki zaman aşımı süresi ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1073">If transmitted data is not acknowledged within the timeout period, the stored packet is re-sent and the next timeout period is set.</span></span> <span data-ttu-id="5f8f1-1074">Bir ACK alındığında, iç aktarım sırasındaki onay numarası kapsamındaki tüm paketler son olarak serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1074">When an ACK is received, all packets covered by the acknowledgement number in the internal transmit queue are finally released.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5f8f1-1075">\* Uygulama paketi yeniden kullanmamalıdır veya \***nx_tcp_socket_send** _ işlevi NX_SUCCESS geri döndüğünde paketin içeriğini değiştirmeyecektir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1075">\*Application shall not reuse the packet or alter the contents of the packet after the \***nx_tcp_socket_send** _ function returns with NX_SUCCESS.</span></span> <span data-ttu-id="5f8f1-1076">İletilen paket son olarak, veriler diğer end._ tarafından onaylandıktan sonra NetX iç işlemesi tarafından serbest bırakılır</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1076">The transmitted packet is eventually released by NetX internal processing after the data is acknowledged by the other end._</span></span>

### <a name="tcp-keepalive"></a><span data-ttu-id="5f8f1-1077">TCP KeepAlive</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1077">TCP Keepalive</span></span>

<span data-ttu-id="5f8f1-1078">TCP KeepAlive özelliği, bir yuvanın, doğru sonlandırma olmadan (örneğin, eşler kilitlendi) veya belirli ağ izleme tesislerinin uzun süreler için bir bağlantıyı sonlandırmasını engellemek için bir yuva sağlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1078">TCP Keepalive feature allows a socket to detect whether or not its peer disconnects without proper termination (for example, the peer crashed), or to prevent certain network monitoring facilities to terminate a connection for long periods of idle.</span></span> <span data-ttu-id="5f8f1-1079">TCP KeepAlive, veri içermeyen bir TCP çerçevesi göndererek ve sıra numarası geçerli sıra numarasından bir daha az olacak şekilde, düzenli aralıklarla işe yarar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1079">TCP Keepalive works by periodically sending a TCP frame with no data, and the sequence number set to one less than the current sequence number.</span></span> <span data-ttu-id="5f8f1-1080">Bu tür TCP KeepAlive çerçevesini alırken alıcı, hala etkin ise geçerli sıra numarası için bir ACK ile yanıtlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1080">On receiving such TCP Keepalive frame, the recipient, if still alive, responses with an ACK for its current sequence number.</span></span> <span data-ttu-id="5f8f1-1081">Bu işlem, KeepAlive işlemini tamamlar.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1081">This completes the keepalive transaction.</span></span>

<span data-ttu-id="5f8f1-1082">Varsayılan olarak, KeepAlive özelliği etkin değildir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1082">By default the keepalive feature is not enabled.</span></span> <span data-ttu-id="5f8f1-1083">Bu özelliği kullanmak için NetX Kitaplığı \***NX_ENABLE_TCP_KEEPALIVE** _ tanımlı ile oluşturulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1083">To use this feature, NetX library must be built with \***NX_ENABLE_TCP_KEEPALIVE** _ defined.</span></span> <span data-ttu-id="5f8f1-1084">_ *_NX_TCP_KEEPALIVE_INITIAL_*\* sembolü, KEEPALIVE çerçevesi başlatılmadan önce geçen işlem yapılmayan saniye sayısını belirtir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1084">The symbol _ *_NX_TCP_KEEPALIVE_INITIAL_*\* specifies the number of seconds of inactivity before the keepalive frame is initiated.</span></span>

### <a name="tcp-packet-receive"></a><span data-ttu-id="5f8f1-1085">TCP paket alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1085">TCP Packet Receive</span></span>

<span data-ttu-id="5f8f1-1086">TCP alma paketi işleme (IP Yardımcısı iş parçacığından çağrılır), çeşitli bağlantı ve bağlantı kesme eylemlerinin yanı sıra iletme bildirimi işleme işleminden sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1086">The TCP receive packet processing (called from the IP helper thread) is responsible for handling various connection and disconnection actions as well as transmit acknowledge processing.</span></span> <span data-ttu-id="5f8f1-1087">Ayrıca, TCP alma paketi işleme, uygun TCP yuvasının alma kuyruğuna veri alma veya paketi bekleyen ilk askıya alınan iş parçacığına paket teslim etme işleminden sorumludur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1087">In addition, the TCP receive packet processing is responsible for placing packets with receive data on the appropriate TCP socket's receive queue or delivering the packet to the first suspended thread waiting for a packet.</span></span>

### <a name="tcp-receive-notify"></a><span data-ttu-id="5f8f1-1088">TCP alma bildirimi</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1088">TCP Receive Notify</span></span>

<span data-ttu-id="5f8f1-1089">Uygulama iş parçacığının birden fazla yuvada alınan verileri işlemesi gerekiyorsa ***nx_tcp_socket_receive_notify*** işlevi kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1089">If the application thread needs to process received data from more than one socket, the ***nx_tcp_socket_receive_notify*** function should be used.</span></span> <span data-ttu-id="5f8f1-1090">Bu işlev, yuva için bir alma paketi geri çağırma işlevi kaydeder.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1090">This function registers a receive packet callback function for the socket.</span></span> <span data-ttu-id="5f8f1-1091">Yuvada her bir paket alındığında geri çağırma işlevi yürütülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1091">Whenever a packet is received on the socket, the callback function is executed.</span></span>

<span data-ttu-id="5f8f1-1092">Geri çağırma işlevinin içeriği uygulamaya özgüdür; Ancak, işlev büyük olasılıkla işleme iş parçacığını bir paketin ilgili yuvada kullanılabilir olduğunu bildirmek için mantık içerebilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1092">The contents of the callback function are application-specific; however, the function would most likely contain logic to inform the processing thread that a packet is available on the corresponding socket.</span></span>

### <a name="thread-suspension"></a><span data-ttu-id="5f8f1-1093">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1093">Thread Suspension</span></span>

<span data-ttu-id="5f8f1-1094">Daha önce belirtildiği gibi, uygulama iş parçacıkları belirli bir TCP bağlantı noktasından veri almaya çalışırken askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1094">As mentioned previously, application threads can suspend while attempting to receive data from a particular TCP port.</span></span> <span data-ttu-id="5f8f1-1095">Bu bağlantı noktasında bir paket alındıktan sonra, bu, askıya alınan ilk iş parçacığına verilir ve bu iş parçacığı daha sonra sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1095">After a packet is received on that port, it is given to the first thread suspended and that thread is then resumed.</span></span> <span data-ttu-id="5f8f1-1096">Çok sayıda NetX hizmeti için kullanılabilen bir TCP alma paketi üzerinde askıya alma sırasında isteğe bağlı bir zaman aşımı kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1096">An optional timeout is available when suspending on a TCP receive packet, a feature available for most NetX services.</span></span>

<span data-ttu-id="5f8f1-1097">İş parçacığı askıya alma, bağlantı (istemci ve sunucu), istemci bağlama ve bağlantı kesme hizmetleri için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1097">Thread suspension is also available for connection (both client and server), client binding, and disconnection services.</span></span>

### <a name="tcp-socket-statistics-and-errors"></a><span data-ttu-id="5f8f1-1098">TCP yuvası Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1098">TCP Socket Statistics and Errors</span></span>

<span data-ttu-id="5f8f1-1099">Etkinleştirilirse, NetX TCP yuvası yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1099">If enabled, the NetX TCP socket software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="5f8f1-1100">Her IP/TCP örneği için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1100">The following statistics and error reports are maintained for each IP/TCP instance:</span></span>

- <span data-ttu-id="5f8f1-1101">Gönderilen toplam TCP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1101">Total TCP Packets Sent</span></span>
- <span data-ttu-id="5f8f1-1102">Gönderilen toplam TCP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1102">Total TCP Bytes Sent</span></span>
- <span data-ttu-id="5f8f1-1103">Toplam alınan TCP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1103">Total TCP Packets Received</span></span>
- <span data-ttu-id="5f8f1-1104">Toplam alınan TCP baytı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1104">Total TCP Bytes Received</span></span>
- <span data-ttu-id="5f8f1-1105">Toplam TCP geçersiz paket sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1105">Total TCP Invalid Packets</span></span>
- <span data-ttu-id="5f8f1-1106">Bırakılan toplam TCP alma paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1106">Total TCP Receive Packets Dropped</span></span>
- <span data-ttu-id="5f8f1-1107">Toplam TCP alma sağlama toplamı hatası</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1107">Total TCP Receive Checksum Errors</span></span>
- <span data-ttu-id="5f8f1-1108">Toplam TCP bağlantısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1108">Total TCP Connections</span></span>
- <span data-ttu-id="5f8f1-1109">Toplam TCP bağlantısı sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1109">Total TCP Disconnections</span></span>
- <span data-ttu-id="5f8f1-1110">Bırakılan toplam TCP bağlantısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1110">Total TCP Connections Dropped</span></span>
- <span data-ttu-id="5f8f1-1111">Toplam TCP paketi yeniden Iletim sayısı</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1111">Total TCP Packet Retransmits</span></span>
- <span data-ttu-id="5f8f1-1112">Gönderilen TCP yuva paketleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1112">TCP Socket Packets Sent</span></span>
- <span data-ttu-id="5f8f1-1113">Gönderilen TCP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1113">TCP Socket Bytes Sent</span></span>
- <span data-ttu-id="5f8f1-1114">Alınan TCP yuvası paketleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1114">TCP Socket Packets Received</span></span>
- <span data-ttu-id="5f8f1-1115">Alınan TCP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1115">TCP Socket Bytes Received</span></span>
- <span data-ttu-id="5f8f1-1116">TCP yuvası paketi yeniden aktarımlar</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1116">TCP Socket Packet Retransmits</span></span>
- <span data-ttu-id="5f8f1-1117">Sıraya alınan TCP yuvası paketleri</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1117">TCP Socket Packets Queued</span></span>
- <span data-ttu-id="5f8f1-1118">TCP yuvası sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1118">TCP Socket Checksum Errors</span></span>
- <span data-ttu-id="5f8f1-1119">TCP yuva durumu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1119">TCP Socket State</span></span>
- <span data-ttu-id="5f8f1-1120">TCP yuvası Iletme sırası derinliği</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1120">TCP Socket Transmit Queue Depth</span></span>
- <span data-ttu-id="5f8f1-1121">TCP yuvası Iletme penceresi boyutu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1121">TCP Socket Transmit Window Size</span></span>
- <span data-ttu-id="5f8f1-1122">TCP yuvası alma penceresi boyutu</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1122">TCP Socket Receive Window Size</span></span>

<span data-ttu-id="5f8f1-1123">Tüm bu istatistik ve hata raporları, toplam TCP istatistikleri için ***nx_tcp_info_get** _ hizmeti ve yuva başına TCP istatistikleri için _ *_nx_tcp_socket_info_get_** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1123">All these statistics and error reports are available to the application with the ***nx_tcp_info_get** _ service for total TCP statistics and the _ *_nx_tcp_socket_info_get_** service for TCP statistics per socket.</span></span>

## <a name="tcp-socket-control-block-nx_tcp_socket"></a><span data-ttu-id="5f8f1-1124">TCP yuvası denetim bloğu NX_TCP_SOCKET</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1124">TCP Socket Control Block NX_TCP_SOCKET</span></span>

<span data-ttu-id="5f8f1-1125">Her TCP yuvasının özellikleri, IP veri yapısına, ağ bağlantı arabirimine, bağlı bağlantı noktasına ve alma paketi kuyruğuna bağlantı gibi yararlı bilgiler içeren ilişkili *NX_TCP_SOCKET* denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1125">The characteristics of each TCP socket are found in the associated *NX_TCP_SOCKET* control block, which contains useful information such as the link to the IP data structure, the network connection interface, the bound port, and the receive packet queue.</span></span> <span data-ttu-id="5f8f1-1126">Bu yapı ***nx_api. h*** dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="5f8f1-1126">This structure is defined in the ***nx_api.h*** file.</span></span>
