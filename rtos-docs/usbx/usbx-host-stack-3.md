---
title: Bölüm 3-USBX konak yığınının Işlevsel bileşenleri
description: Bu bölümde, işlevsel bir perspektiften yüksek performanslı USBX Embedded USB konak yığınının açıklaması yer almaktadır.
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: 17b8d884dd2c71d60e91f5fcec40c360060f4fe8
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/22/2021
ms.locfileid: "104828367"
---
# <a name="chapter-3---functional-components-of-usbx-host-stack"></a><span data-ttu-id="ca34e-103">Bölüm 3-USBX konak yığınının Işlevsel bileşenleri</span><span class="sxs-lookup"><span data-stu-id="ca34e-103">Chapter 3 - Functional Components of USBX Host Stack</span></span>

<span data-ttu-id="ca34e-104">Bu bölümde, işlevsel bir perspektiften yüksek performanslı USBX Embedded USB konak yığınının açıklaması yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-104">This chapter contains a description of the high performance USBX embedded USB host stack from a functional perspective.</span></span>

## <a name="execution-overview"></a><span data-ttu-id="ca34e-105">Yürütmeye genel bakış</span><span class="sxs-lookup"><span data-stu-id="ca34e-105">Execution Overview</span></span>

<span data-ttu-id="ca34e-106">USBX çeşitli bileşenlerden oluşur:</span><span class="sxs-lookup"><span data-stu-id="ca34e-106">USBX is composed of several components:</span></span>

- <span data-ttu-id="ca34e-107">Başlatma</span><span class="sxs-lookup"><span data-stu-id="ca34e-107">Initialization</span></span>
- <span data-ttu-id="ca34e-108">Uygulama arabirimi çağrıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-108">Application interface calls</span></span>
- <span data-ttu-id="ca34e-109">Kök hub</span><span class="sxs-lookup"><span data-stu-id="ca34e-109">Root Hub</span></span>
- <span data-ttu-id="ca34e-110">Hub sınıfı</span><span class="sxs-lookup"><span data-stu-id="ca34e-110">Hub Class</span></span>
- <span data-ttu-id="ca34e-111">Konak sınıfları</span><span class="sxs-lookup"><span data-stu-id="ca34e-111">Host Classes</span></span>
- <span data-ttu-id="ca34e-112">USB ana bilgisayar yığını</span><span class="sxs-lookup"><span data-stu-id="ca34e-112">USB Host Stack</span></span>
- <span data-ttu-id="ca34e-113">Ana bilgisayar denetleyicisi</span><span class="sxs-lookup"><span data-stu-id="ca34e-113">Host controller</span></span>

<span data-ttu-id="ca34e-114">Aşağıdaki diyagramda, USBX konak yığını gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-114">The following diagram illustrates the USBX host stack.</span></span>

![USBX konak yığını](./media/usbx-host-stack/usbx-host-stack.png)

### <a name="initialization"></a><span data-ttu-id="ca34e-116">Başlatma</span><span class="sxs-lookup"><span data-stu-id="ca34e-116">Initialization</span></span>

<span data-ttu-id="ca34e-117">USBX ' i etkinleştirmek için ***ux_system_initialize*** işlevi çağrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-117">In order to activate USBX, the function ***ux_system_initialize*** must be called.</span></span> <span data-ttu-id="ca34e-118">Bu işlev, USBX bellek kaynaklarını başlatır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-118">This function initializes the memory resources of USBX.</span></span>

<span data-ttu-id="ca34e-119">USBX konak tesislerini etkinleştirmek için ***ux_host_stack_initialize*** işlevi çağrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-119">In order to activate USBX host facilities, the function ***ux_host_stack_initialize*** must be called.</span></span> <span data-ttu-id="ca34e-120">Bu işlev, Işparçacığıx iş parçacıkları, zaman uyumu sağlayıcılar ve semaforlar gibi USBX konak yığını tarafından kullanılan tüm kaynakları başlatacak.</span><span class="sxs-lookup"><span data-stu-id="ca34e-120">This function will in turn initialize all the resources used by the USBX host stack such as ThreadX threads, mutexes, and semaphores.</span></span>

<span data-ttu-id="ca34e-121">En az bir USB ana bilgisayar denetleyicisi ve bir veya daha fazla USB sınıfı etkinleştirmek için uygulama başlatması en iyisidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-121">It is up to the application initialization to activate at least one USB host controller and one or more USB classes.</span></span> <span data-ttu-id="ca34e-122">Sınıflar yığına kaydedildiğinde ve konak denetleyicisi (ler) başlatma işlevi veri yolu etkin ve cihaz bulma başlayabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-122">When the classes have been registered to the stack and the host controller(s) initialization function has been called the bus is active and device discovery can start.</span></span> <span data-ttu-id="ca34e-123">Ana bilgisayar denetleyicisinin kök hub 'ı eklenmiş bir cihaz algılarsa, USB topolojisi ücretlendirilmesi halinde USB numaralandırma iş parçacığı uyanma ve cihaz (ler) i numaralandırmaya devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-123">If the root hub of the host controller detects an attached device, the USB enumeration thread, in charge of the USB topology, will be wake up and proceed to enumerate the device(s).</span></span>

<span data-ttu-id="ca34e-124">Kök hub ve aşağı akış hub 'larının doğası gereği, ana bilgisayar denetleyicisi başlatma işlevi döndürüldüğünde bağlı olan tüm USB cihazlarının tamamen yapılandırılamamasından kaynaklanabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-124">It is possible, due to the nature of the root hub and downstream hubs, that all attached USB devices may not have been configured completely when the host controller initialization function returns.</span></span> <span data-ttu-id="ca34e-125">Özellikle kök hub ve USB cihazları arasında bir veya daha fazla hub varsa, tüm USB cihazlarının numaralandırılması birkaç saniye sürebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-125">It can take several seconds to enumerate all USB devices, especially if there are one or more hubs between the root hub and USB devices.</span></span>

### <a name="application-interface-calls"></a><span data-ttu-id="ca34e-126">Uygulama arabirimi çağrıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-126">Application Interface Calls</span></span>

<span data-ttu-id="ca34e-127">USBX içinde iki API düzeyi vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-127">There are two levels of APIs in USBX.</span></span>

- <span data-ttu-id="ca34e-128">USB ana bilgisayar yığını API 'Leri</span><span class="sxs-lookup"><span data-stu-id="ca34e-128">USB Host Stack APIs</span></span>
- <span data-ttu-id="ca34e-129">USB ana bilgisayar sınıfı API 'Leri</span><span class="sxs-lookup"><span data-stu-id="ca34e-129">USB Host Class APIs</span></span>

<span data-ttu-id="ca34e-130">Normalde, bir USBX uygulamasının USB ana bilgisayar yığını API işlevlerinden herhangi birini çağırması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="ca34e-130">Normally, a USBX application should not have to call any of the USB host stack API functions.</span></span> <span data-ttu-id="ca34e-131">Çoğu uygulama yalnızca USB sınıfı API işlevlerine erişir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-131">Most applications will only access the USB Class API functions.</span></span>

### <a name="usb-host-stack-apis"></a><span data-ttu-id="ca34e-132">USB ana bilgisayar yığını API 'Leri</span><span class="sxs-lookup"><span data-stu-id="ca34e-132">USB Host Stack APIs</span></span>

<span data-ttu-id="ca34e-133">Ana bilgisayar yığını API 'SI işlevleri, USBX bileşenlerinin (konak sınıfları ve ana bilgisayar denetleyicileri), cihazların yapılandırmasının ve kullanılabilir cihaz uç noktaları için aktarım isteklerinin işlenmesinden sorumludur.</span><span class="sxs-lookup"><span data-stu-id="ca34e-133">The host stack API functions are responsible for the registration of USBX components (host classes and host controllers), configuration of devices, and the transfer requests for available device endpoints.</span></span>

### <a name="usb-host-class-api"></a><span data-ttu-id="ca34e-134">USB ana bilgisayar sınıfı API 'SI</span><span class="sxs-lookup"><span data-stu-id="ca34e-134">USB Host Class API</span></span>

<span data-ttu-id="ca34e-135">Sınıf API 'Leri her USB sınıfına çok özeldir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-135">The Class APIs are very specific to each USB class.</span></span> <span data-ttu-id="ca34e-136">USB sınıflarının ortak API işlevlerinin çoğu, bir cihazı açma/kapatma ve bir cihazdan okuma ve bir cihaza yazma gibi hizmetler sağlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-136">Most of the common API functions for USB classes provide services such as opening/closing a device and reading from and writing to a device.</span></span>

### <a name="root-hub"></a><span data-ttu-id="ca34e-137">Kök hub</span><span class="sxs-lookup"><span data-stu-id="ca34e-137">Root Hub</span></span>

<span data-ttu-id="ca34e-138">Her konak denetleyicisi örneğinde bir veya daha fazla USB kök hub vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-138">Each host controller instance has one or more USB root hubs.</span></span> <span data-ttu-id="ca34e-139">Kök hub sayısı denetleyicinin doğası gereği belirlenir ya da denetleyiciden belirli Yazmaçları okuyarak alınabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-139">The number of root hubs is either determined by the nature of the controller or can be retrieved by reading specific registers from the controller.</span></span>

### <a name="hub-class"></a><span data-ttu-id="ca34e-140">Hub sınıfı</span><span class="sxs-lookup"><span data-stu-id="ca34e-140">Hub Class</span></span>

<span data-ttu-id="ca34e-141">Hub sınıfı, USB hub 'larını çalıştırırken ücretsizdir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-141">The hub class is in charge of driving USB hubs.</span></span> <span data-ttu-id="ca34e-142">USB hub 'ı tek başına bir hub veya klavye ya da izleyici gibi bileşik bir cihazın parçası olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-142">A USB hub can either be a stand-alone hub or as part of a compound device such as a keyboard or a monitor.</span></span> <span data-ttu-id="ca34e-143">Hub, kendi gücünü veya veri yolundan güç olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-143">A hub can be self-powered or bus-powered.</span></span> <span data-ttu-id="ca34e-144">Veri yolu ile desteklenen hub 'lar en fazla dört aşağı akış bağlantı noktasına sahiptir ve yalnızca, 100 ' den az güç kullanan, yalnızca kendi güç destekli veya veri yolundan destekli cihazların bağlanmasına izin verebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-144">Bus-powered hubs have a maximum of four downstream ports and can only allow for the connection of devices that are either self-powered or bus-powered devices that use less than 100mA of power.</span></span> <span data-ttu-id="ca34e-145">Hub 'lar basamaklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-145">Hubs can be cascaded.</span></span> <span data-ttu-id="ca34e-146">Beş adede kadar hub birbirine bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-146">Up to five hubs can be connected to one another.</span></span>

### <a name="usb-host-stack"></a><span data-ttu-id="ca34e-147">USB ana bilgisayar yığını</span><span class="sxs-lookup"><span data-stu-id="ca34e-147">USB Host Stack</span></span>

<span data-ttu-id="ca34e-148">USB ana bilgisayar yığını, USBX 'in Merkez parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-148">The USB host stack is the centerpiece of USBX.</span></span> <span data-ttu-id="ca34e-149">Üç ana işleve sahiptir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-149">It has three main functions.</span></span>

- <span data-ttu-id="ca34e-150">USB 'nin topolojisini yönetin.</span><span class="sxs-lookup"><span data-stu-id="ca34e-150">Manage the topology of the USB.</span></span>
- <span data-ttu-id="ca34e-151">Bir USB cihazını bir veya daha fazla sınıfa bağlayın.</span><span class="sxs-lookup"><span data-stu-id="ca34e-151">Bind a USB device to one or more classes.</span></span>
- <span data-ttu-id="ca34e-152">Cihaz tanımlayıcısı ve USB aktarımları gerçekleştirmek için sınıflara bir API sağlayın.</span><span class="sxs-lookup"><span data-stu-id="ca34e-152">Provide an API to classes to perform device descriptor interrogation and USB transfers.</span></span>

### <a name="topology-manager"></a><span data-ttu-id="ca34e-153">Topoloji Yöneticisi</span><span class="sxs-lookup"><span data-stu-id="ca34e-153">Topology Manager</span></span>

<span data-ttu-id="ca34e-154">USB yığını topolojisi iş parçacığı, yeni bir cihaz bağlandığında veya bir cihazın bağlantısı kesildiğinde başlatılabilmesi uyandırılır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-154">The USB stack topology thread is awakened when a new device is connected or when a device has been disconnected.</span></span> <span data-ttu-id="ca34e-155">Kök hub veya normal Hub cihaz bağlantılarını kabul edebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-155">Either the root hub or a regular hub can accept device connections.</span></span> <span data-ttu-id="ca34e-156">Bir cihaz USB 'ye bağlandıktan sonra, topoloji Yöneticisi cihaz tanımlayıcısını alır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-156">Once a device has been connected to the USB, the topology manager will retrieve the device descriptor.</span></span> <span data-ttu-id="ca34e-157">Bu tanımlayıcı, bu cihaz için kullanılabilir olası yapılandırmaların sayısını içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-157">This descriptor will contain the number of possible configurations available for this device.</span></span> <span data-ttu-id="ca34e-158">Çoğu cihazda yalnızca bir yapılandırma vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-158">Most devices have one configuration only.</span></span> <span data-ttu-id="ca34e-159">Bazı cihazlar, bağlandığı bağlantı noktasında kullanılabilir olan güce göre farklı şekilde çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-159">Some devices can operate differently according to the available power available on the port where it is connected.</span></span> <span data-ttu-id="ca34e-160">Bu durumda, cihazın kullanılabilir güce göre seçilebilirler birden fazla yapılandırması olacaktır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-160">If this is the case, the device will have multiple configurations that can be selected depending on the available power.</span></span> <span data-ttu-id="ca34e-161">Cihaz topoloji Yöneticisi tarafından yapılandırıldığında, daha sonra yapılandırma tanımlayıcısında belirtilen güç miktarını çizmeye izin verilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-161">When the device is configured by the topology manager, it is then allowed to draw the amount of power specified in its configuration descriptor.</span></span>

## <a name="usb-class-binding"></a><span data-ttu-id="ca34e-162">USB sınıfı bağlama</span><span class="sxs-lookup"><span data-stu-id="ca34e-162">USB Class Binding</span></span>

<span data-ttu-id="ca34e-163">Cihaz yapılandırıldığında, topoloji Yöneticisi sınıf yöneticisinin cihaz bulma işlemini cihaz arabirimi tanımlayıcılarına bakarak devam etmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-163">When the device is configured, the topology manager will let the class manager continue the device discovery by looking at the device interface descriptors.</span></span> <span data-ttu-id="ca34e-164">Bir cihazda bir veya daha fazla arabirim tanımlayıcısı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-164">A device can have one or more interface descriptors.</span></span>

<span data-ttu-id="ca34e-165">Arabirim bir cihazdaki işlevi temsil eder.</span><span class="sxs-lookup"><span data-stu-id="ca34e-165">An interface represents a function in a device.</span></span> <span data-ttu-id="ca34e-166">Örneğin, bir USB konuşmacının, biri ses akışı, biri ses denetimi için ve diğeri de çeşitli konuşmacı düğmelerini yönetmek için üç arabirimi vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-166">For instance, a USB speaker has three interfaces, one for audio streaming, one for audio control, and one to manage the various speaker buttons.</span></span>

<span data-ttu-id="ca34e-167">Sınıf Yöneticisi, cihaz arabirimini bir veya daha fazla sınıfa katmak için iki mekanizma içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-167">The class manager has two mechanisms to join the device interface(s) to one or more classes.</span></span> <span data-ttu-id="ca34e-168">Arabirim tanımlayıcısında bulunan bir PID/VıD (ürün KIMLIĞI ve satıcı KIMLIĞI) bileşimini ya da sınıf/alt sınıf/protokol birleşimini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-168">It can either use the combination of a PID/VID (product ID and vendor ID) found in the interface descriptor or the combination of Class/Subclass/Protocol.</span></span>

<span data-ttu-id="ca34e-169">PID/VıD birleşimi, genel bir sınıf tarafından yönlendirilmeyen arabirimler için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-169">The PID/VID combination is valid for interfaces that cannot be driven by a generic class.</span></span> <span data-ttu-id="ca34e-170">Sınıf/alt sınıf/protokol birleşimi, bir yazıcı, hub, depolama, ses veya HID gibi bir USB-IF sertifikalı sınıfa ait arabirimler tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-170">The Class/Subclass/Protocol combination is used by interfaces that belong to a USB-IF certified class such as a printer, hub, storage, audio, or HID.</span></span>

<span data-ttu-id="ca34e-171">Sınıf Yöneticisi, USBX ' in başlatılmasından kayıtlı sınıfların bir listesini içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-171">The class manager contains a list of registered classes from the initialization of USBX.</span></span> <span data-ttu-id="ca34e-172">Sınıf Yöneticisi her bir sınıfı, bir sınıf için arabirimi yönetmek için kabul edene kadar her bir sınıfa çağırır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-172">The class manager will call each class one at a time until one class accepts to manage the interface for that device.</span></span> <span data-ttu-id="ca34e-173">Bir sınıf yalnızca bir arabirimi yönetebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-173">A class can only manage one interface.</span></span> <span data-ttu-id="ca34e-174">USB ses konuşmacının örneği için, sınıf Yöneticisi arabirimlerin her biri için tüm sınıfları çağırır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-174">For the example of the USB audio speaker, the class manager will call all the classes for each of the interfaces.</span></span>

<span data-ttu-id="ca34e-175">Bir sınıf bir arabirimi kabul ettiğinde, bu sınıfın yeni bir örneği oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="ca34e-175">Once a class accepts an interface, a new instance of that class is created.</span></span> <span data-ttu-id="ca34e-176">Sınıf Yöneticisi daha sonra arabirim için varsayılan alternatif ayarı arar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-176">The class manager will then search for the default alternate setting for the interface.</span></span> <span data-ttu-id="ca34e-177">Bir cihazın her arabirim için bir veya daha fazla alternatif ayarı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-177">A device may have one or more alternate settings for each interface.</span></span> <span data-ttu-id="ca34e-178">0 alternatif ayarı, bir sınıf bunu değiştirmeye karar verdiğinde varsayılan olarak kullanılan ' i olacaktır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-178">The alternate setting 0 will be the on used by default until a class decides to change it.</span></span>

<span data-ttu-id="ca34e-179">Varsayılan alternatif ayar için, sınıf Yöneticisi alternatif ayarda bulunan tüm uç noktaları bağlayacaktır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-179">For the default alternate setting, the class manager will mount all the endpoints contained in the alternate setting.</span></span> <span data-ttu-id="ca34e-180">Her uç noktanın bağlanması başarılı olursa, sınıf Yöneticisi, arabirimin başlatılmasını tamamlayacaksınız sınıfına dönerek işini tamamlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-180">If the mounting of each endpoint is successful, the class manager will complete its job by returning to the class that will finish the initialization of the interface.</span></span>

### <a name="usbx-apis"></a><span data-ttu-id="ca34e-181">USBX API 'Leri</span><span class="sxs-lookup"><span data-stu-id="ca34e-181">USBX APIs</span></span>

<span data-ttu-id="ca34e-182">USB yığını, belirli uç noktalarda cihaz ve USB aktarımları için, USB sınıflarının belirli sayıda API 'sini dışa aktarır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-182">The USB stack exports a certain number of APIs for the USB classes to perform interrogation on the device and USB transfers on specific endpoints.</span></span> <span data-ttu-id="ca34e-183">Bu API işlevleri, bu başvuru el kitabında ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-183">These API functions are described in detail in this reference manual.</span></span>

### <a name="host-controller"></a><span data-ttu-id="ca34e-184">Ana bilgisayar denetleyicisi</span><span class="sxs-lookup"><span data-stu-id="ca34e-184">Host Controller</span></span>

<span data-ttu-id="ca34e-185">Ana bilgisayar denetleyicisi sürücüsü, belirli bir USB denetleyicisi türünü yönlendirmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="ca34e-185">The host controller driver is responsible for driving a specific type of USB controller.</span></span> <span data-ttu-id="ca34e-186">Bir USB ana bilgisayar denetleyicisinin içinde birden çok denetleyicisi olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-186">A USB host controller can have multiple controllers inside.</span></span> <span data-ttu-id="ca34e-187">Örneğin, belirli Intel PC yonga seti iki UCı denetleyicisi içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-187">For instance, certain Intel PC chipset contain two UHCI controllers.</span></span> <span data-ttu-id="ca34e-188">Bazı USB 2,0 denetleyicileri, bir EHCı denetleyicisi 'nin bir örneğine ek olarak bir OHCı denetleyicinin birden çok örneğini içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-188">Some USB 2.0 controllers contain multiple instances of an OHCI controller in addition to one instance of the EHCI controller.</span></span>

<span data-ttu-id="ca34e-189">Konak denetleyicisi yalnızca aynı denetleyicinin birden fazla örneğini yönetir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-189">The Host controller will manage multiple instance of the same controller only.</span></span> <span data-ttu-id="ca34e-190">Çoğu USB 2,0 ana bilgisayar denetleyicisini barındırmak için, USBX 'in başlatılması sırasında OÇI denetleyicisini ve EHCı denetleyiciyi başlatmak gerekecektir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-190">In order to drive most USB 2.0 host controllers, it will be required to initialize both the OCHI controller and the EHCI controller during the initialization of USBX.</span></span>

<span data-ttu-id="ca34e-191">Ana bilgisayar denetleyicisi aşağıdakileri yönetmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="ca34e-191">The host controller is responsible for managing the following.</span></span>

- <span data-ttu-id="ca34e-192">Kök hub</span><span class="sxs-lookup"><span data-stu-id="ca34e-192">Root Hub</span></span>
- <span data-ttu-id="ca34e-193">Güç Yönetimi</span><span class="sxs-lookup"><span data-stu-id="ca34e-193">Power Management</span></span>
- <span data-ttu-id="ca34e-194">Uç Noktalar</span><span class="sxs-lookup"><span data-stu-id="ca34e-194">Endpoints</span></span>
- <span data-ttu-id="ca34e-195">Girişinde</span><span class="sxs-lookup"><span data-stu-id="ca34e-195">Transfers</span></span>

### <a name="root-hub"></a><span data-ttu-id="ca34e-196">Kök hub</span><span class="sxs-lookup"><span data-stu-id="ca34e-196">Root Hub</span></span>

<span data-ttu-id="ca34e-197">Kök hub yönetimi, her denetleyici bağlantı noktasının kapatılmasından ve takılı bir cihazın olup olmadığını belirlemekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="ca34e-197">The root hub management is responsible for the powering up of each controller port and determining if there is a device inserted or not.</span></span> <span data-ttu-id="ca34e-198">Bu işlevsellik, denetleyici aşağı akış bağlantı noktalarını sorgulanamıyor için USBX genel kök hub 'ı tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-198">This functionality is used by the USBX generic root hub to interrogate the controller downstream ports.</span></span>

### <a name="power-management"></a><span data-ttu-id="ca34e-199">Güç Yönetimi</span><span class="sxs-lookup"><span data-stu-id="ca34e-199">Power Management</span></span>

<span data-ttu-id="ca34e-200">Güç yönetimi işleme, Gang modunda askıya alma/sürdürme sinyallerinin işlenmesini sağlar, bu nedenle tüm denetleyici aşağı akış bağlantı noktalarını aynı anda veya denetleyici bu işlevselliği sunuyorsa tek tek ayrı ayrı etkiliyor olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-200">The power management processing provides for the handling of suspend/resume signals either in gang mode, therefore affecting all controller downstream ports at the same time, or individually if the controller offers this functionality.</span></span>

### <a name="endpoints"></a><span data-ttu-id="ca34e-201">Uç Noktalar</span><span class="sxs-lookup"><span data-stu-id="ca34e-201">Endpoints</span></span>

<span data-ttu-id="ca34e-202">Uç nokta yönetimi, denetleyiciye fiziksel uç noktaların oluşturulması veya yok edilmesi için sağlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-202">The endpoint management provides for the creation or destruction of physical endpoints to the controller.</span></span> <span data-ttu-id="ca34e-203">Fiziksel uç noktalar, denetleyici ana DMA 'Yı destekliyorsa veya denetleyiciye yazılmışsa, denetleyici tarafından Ayrıştırılan bellek varlıklarıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-203">The physical endpoints are memory entities that are parsed by the controller if the controller supports master DMA or that are written in the controller.</span></span> <span data-ttu-id="ca34e-204">Fiziksel uç noktalar, denetleyici tarafından gerçekleştirilecek işlem bilgilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-204">The physical endpoints contain transactions information to be performed by the controller.</span></span>

### <a name="transfers"></a><span data-ttu-id="ca34e-205">Girişinde</span><span class="sxs-lookup"><span data-stu-id="ca34e-205">Transfers</span></span>

<span data-ttu-id="ca34e-206">Aktarım yönetimi, oluşturulan her uç nokta üzerinde işlem gerçekleştirmek için bir sınıf sağlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-206">Transfer management provides for a class to perform a transaction on each of the endpoints that have been created.</span></span> <span data-ttu-id="ca34e-207">Her mantıksal uç nokta, USB aktarım istekleri için aktarım ISTEğI adlı bir bileşen içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-207">Each logical endpoint contains a component called TRANSFER REQUEST for USB transfer requests.</span></span> <span data-ttu-id="ca34e-208">Aktarım ISTEğI, işlemi betimleyen yığın tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-208">The TRANSFER REQUEST is used by the stack to describe the transaction.</span></span> <span data-ttu-id="ca34e-209">Bu aktarım ISTEğI daha sonra yığına ve denetleyiciye geçirilir, bu da denetleyicinin özelliklerine bağlı olarak onu birkaç alt işleme bölebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-209">This TRANSFER REQUEST is then passed to the stack and to the controller, which may divide it into several sub transactions depending on the capabilities of the controller.</span></span>

## <a name="usb-device-framework"></a><span data-ttu-id="ca34e-210">USB cihaz çerçevesi</span><span class="sxs-lookup"><span data-stu-id="ca34e-210">USB Device Framework</span></span>

<span data-ttu-id="ca34e-211">Bir USB cihaz, bir tanımlayıcı ağacı tarafından temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-211">A USB device is represented by a tree of descriptors.</span></span> <span data-ttu-id="ca34e-212">Altı temel tanımlayıcı türü vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-212">There are six main types of descriptors.</span></span>

- <span data-ttu-id="ca34e-213">Cihaz tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-213">Device descriptors</span></span>
- <span data-ttu-id="ca34e-214">Yapılandırma tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-214">Configuration descriptors</span></span>
- <span data-ttu-id="ca34e-215">Arabirim tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-215">Interface descriptors</span></span>
- <span data-ttu-id="ca34e-216">Uç nokta tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-216">Endpoint descriptors</span></span>
- <span data-ttu-id="ca34e-217">Dize tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-217">String descriptors</span></span>
- <span data-ttu-id="ca34e-218">İşlevsel tanımlayıcılar</span><span class="sxs-lookup"><span data-stu-id="ca34e-218">Functional descriptors</span></span>

<span data-ttu-id="ca34e-219">USB cihazının çok basit bir açıklaması olabilir ve bu şekilde görünür.</span><span class="sxs-lookup"><span data-stu-id="ca34e-219">A USB device may have a very simple description and looks like this.</span></span>
<span data-ttu-id="ca34e-220">![Basit USB cihaz](./media/usbx-host-stack/usb-device-simple.png)</span><span class="sxs-lookup"><span data-stu-id="ca34e-220">![Simple USB device](./media/usbx-host-stack/usb-device-simple.png)</span></span>

<span data-ttu-id="ca34e-221">Yukarıdaki çizimde, cihazın yalnızca bir yapılandırması vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-221">In the above illustration, the device has only one configuration.</span></span> <span data-ttu-id="ca34e-222">Tek bir arabirim bu yapılandırmaya iliştirilir, bu da cihazın yalnızca bir işlevi olduğunu ve yalnızca bir uç nokta olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-222">A single interface is attached to this configuration, indicating that the device has only one function, and it has one endpoint only.</span></span> <span data-ttu-id="ca34e-223">Cihaz tanımlayıcısına eklenmiş, cihazın görünür bir tanımlamasını sağlayan bir dize tanımlayıcısıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-223">Attached to the device descriptor is a string descriptor providing a visible identification of the device.</span></span>

<span data-ttu-id="ca34e-224">Ancak, bir cihaz daha karmaşık olabilir ve aşağıdaki gibi görünebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-224">However, a device may be more complex and may appear as follows.</span></span>

![Karmaşık USB cihaz](./media/usbx-host-stack/usb-device-complex.png)

<span data-ttu-id="ca34e-226">Yukarıdaki çizimde, cihazın cihaz tanımlayıcısına bağlı iki yapılandırma tanımlayıcısı vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-226">In the above illustration, the device has two configuration descriptors attached to the device descriptor.</span></span> <span data-ttu-id="ca34e-227">Bu cihaz, iki güç moduna sahip olduğunu veya standart sınıflar ya da özel sınıflar tarafından yönlendirilme gösterebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-227">This device may indicate that it has two power modes or can be driven by either standard classes or proprietary classes.</span></span>

<span data-ttu-id="ca34e-228">İlk yapılandırmaya bağlı olarak iki arabirim vardır ve bu, cihazın iki mantıksal işleve sahip olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-228">Attached to the first configuration are two interfaces indicating that the device has two logical functions.</span></span> <span data-ttu-id="ca34e-229">İlk işlevde 3 uç nokta tanımlayıcısı ve bir işlevsel tanımlayıcı bulunur.</span><span class="sxs-lookup"><span data-stu-id="ca34e-229">The first function has 3 endpoint descriptors and a functional descriptor.</span></span> <span data-ttu-id="ca34e-230">İşlevsel tanımlayıcı, bu arabirim hakkında normalde genel bir tanımlayıcı tarafından bulunmayan daha fazla bilgi edinmek için arabirimi sürücüden sorumlu sınıf tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-230">The functional descriptor may be used by the class responsible to drive the interface to obtain further information about this interface normally not found by a generic descriptor.</span></span>

### <a name="device-descriptors"></a><span data-ttu-id="ca34e-231">Cihaz tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-231">Device Descriptors</span></span>

<span data-ttu-id="ca34e-232">Her USB cihazının tek bir cihaz tanımlayıcısı vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-232">Each USB device has one single device descriptor.</span></span> <span data-ttu-id="ca34e-233">Bu tanımlayıcı cihaz tanımlamasını, Desteklenen yapılandırmaların sayısını ve cihazı yapılandırmak için kullanılan varsayılan denetim uç noktasının özelliklerini içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-233">This descriptor contains the device identification, the number of configurations supported, and the characteristics of the default control endpoint used for configuring the device.</span></span>

| <span data-ttu-id="ca34e-234">Uzaklık</span><span class="sxs-lookup"><span data-stu-id="ca34e-234">Offset</span></span> | <span data-ttu-id="ca34e-235">Alan</span><span class="sxs-lookup"><span data-stu-id="ca34e-235">Field</span></span>              | <span data-ttu-id="ca34e-236">Boyut</span><span class="sxs-lookup"><span data-stu-id="ca34e-236">Size</span></span> | <span data-ttu-id="ca34e-237">Değer</span><span class="sxs-lookup"><span data-stu-id="ca34e-237">Value</span></span>    | <span data-ttu-id="ca34e-238">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ca34e-238">Description</span></span>                             |
| ------ | ------------------ | ---- | -------- | --------------------------------------- |
| <span data-ttu-id="ca34e-239">0</span><span class="sxs-lookup"><span data-stu-id="ca34e-239">0</span></span>      | <span data-ttu-id="ca34e-240">BLength</span><span class="sxs-lookup"><span data-stu-id="ca34e-240">BLength</span></span>            | <span data-ttu-id="ca34e-241">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-241">1</span></span>    | <span data-ttu-id="ca34e-242">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-242">Number</span></span>   | <span data-ttu-id="ca34e-243">Bu tanımlayıcının bayt cinsinden boyutu</span><span class="sxs-lookup"><span data-stu-id="ca34e-243">Size of this descriptor in bytes</span></span> |
| <span data-ttu-id="ca34e-244">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-244">1</span></span>      | <span data-ttu-id="ca34e-245">bDescriptorType</span><span class="sxs-lookup"><span data-stu-id="ca34e-245">bDescriptorType</span></span>    | <span data-ttu-id="ca34e-246">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-246">1</span></span>    | <span data-ttu-id="ca34e-247">Sabit</span><span class="sxs-lookup"><span data-stu-id="ca34e-247">Constant</span></span> | <span data-ttu-id="ca34e-248">CIHAZ tanımlayıcı türü</span><span class="sxs-lookup"><span data-stu-id="ca34e-248">DEVICE Descriptor Type</span></span> |
| <span data-ttu-id="ca34e-249">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-249">2</span></span>      | <span data-ttu-id="ca34e-250">bcdUSB</span><span class="sxs-lookup"><span data-stu-id="ca34e-250">bcdUSB</span></span>             | <span data-ttu-id="ca34e-251">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-251">2</span></span>    | <span data-ttu-id="ca34e-252">'De</span><span class="sxs-lookup"><span data-stu-id="ca34e-252">BCD</span></span>      | <span data-ttu-id="ca34e-253">BinaryCoded Dec içindeki USB belirtim Yayın numarası</span><span class="sxs-lookup"><span data-stu-id="ca34e-253">USB Specification Release Number in BinaryCoded Dec</span></span><br /><span data-ttu-id="ca34e-254">Örnek: 2,10, 0x210 ' a eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-254">Example: 2.10 is equivalent to 0x210.</span></span> <span data-ttu-id="ca34e-255">Bu alan, cihazın ve tanımlayıcılarının uyumlu olduğu USB belirtiminin sürümünü tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-255">This field identifies the release of the USB Specification that the device and its descriptors are compliant with.</span></span> |
| <span data-ttu-id="ca34e-256">4</span><span class="sxs-lookup"><span data-stu-id="ca34e-256">4</span></span>      | <span data-ttu-id="ca34e-257">bDeviceClass</span><span class="sxs-lookup"><span data-stu-id="ca34e-257">bDeviceClass</span></span>       | <span data-ttu-id="ca34e-258">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-258">1</span></span>    | <span data-ttu-id="ca34e-259">Sınıf</span><span class="sxs-lookup"><span data-stu-id="ca34e-259">Class</span></span>    | <span data-ttu-id="ca34e-260">Sınıf kodu (USB tarafından atanan).</span><span class="sxs-lookup"><span data-stu-id="ca34e-260">Class code (assigned by USB-IF).</span></span><br /><span data-ttu-id="ca34e-261">Bu alan 0 olarak sıfırlandığında, bir yapılandırma içindeki her arabirim kendi sınıf bilgilerini belirtir ve çeşitli arabirimler bağımsız olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-261">If this field is reset to 0, each interface within a configuration specifies its own class information and the various interfaces operate independently.</span></span><br /><span data-ttu-id="ca34e-262">Bu alan 1 ile 0xFE arasında bir değere ayarlanırsa, cihaz farklı arabirimlerde farklı sınıf belirtimlerini destekler ve arabirimler bağımsız olarak çalışmayabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-262">If this field is set to a value between 1 and 0xFE, the device supports different class specifications on different interfaces and the interfaces may not operate independently.</span></span> <span data-ttu-id="ca34e-263">Bu değer, toplam arabirimler için kullanılan sınıf tanımını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-263">This value identifies the class definition used for the aggregate interfaces.</span></span><br /><span data-ttu-id="ca34e-264">Bu alan 0xFF olarak ayarlandıysa, cihaz sınıfı satıcıya özeldir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-264">If this field is set to 0xFF, the device class is vendor specific.</span></span> |
| <span data-ttu-id="ca34e-265">5</span><span class="sxs-lookup"><span data-stu-id="ca34e-265">5</span></span>      | <span data-ttu-id="ca34e-266">bDeviceSubClass</span><span class="sxs-lookup"><span data-stu-id="ca34e-266">bDeviceSubClass</span></span>    | <span data-ttu-id="ca34e-267">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-267">1</span></span>    | <span data-ttu-id="ca34e-268">Sınıf</span><span class="sxs-lookup"><span data-stu-id="ca34e-268">SubClass</span></span> | <span data-ttu-id="ca34e-269">Alt sınıf kodu (USB tarafından atanan).</span><span class="sxs-lookup"><span data-stu-id="ca34e-269">Subclass code (assigned by USB-IF).</span></span><br /><span data-ttu-id="ca34e-270">Bu kodlar bDeviceClass alanının değeri ile nitelenir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-270">These codes are qualified by the value of the bDeviceClass field.</span></span> <span data-ttu-id="ca34e-271">BDeviceClass alanı 0 olarak sıfırlandığında, bu alan de 0 olarak sıfırlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-271">If the bDeviceClass field is reset to 0, this field must also be reset to 0.</span></span> <span data-ttu-id="ca34e-272">BDeviceClass alanı 0xFF olarak ayarlanmamışsa, tüm değerler USB tarafından atanmak üzere ayrılmıştır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-272">If the bDeviceClass field is not set to 0xFF, all values are reserved for assignment by USB.</span></span> |
| <span data-ttu-id="ca34e-273">6</span><span class="sxs-lookup"><span data-stu-id="ca34e-273">6</span></span>      | <span data-ttu-id="ca34e-274">bDeviceProtocol</span><span class="sxs-lookup"><span data-stu-id="ca34e-274">bDeviceProtocol</span></span>    | <span data-ttu-id="ca34e-275">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-275">1</span></span>    | <span data-ttu-id="ca34e-276">Protokol</span><span class="sxs-lookup"><span data-stu-id="ca34e-276">Protocol</span></span> | <span data-ttu-id="ca34e-277">Protokol kodu (USB tarafından atanan).</span><span class="sxs-lookup"><span data-stu-id="ca34e-277">Protocol code (assigned by USB-IF).</span></span><br /><span data-ttu-id="ca34e-278">Bu kodlar bDeviceClass ve bDeviceSubClass alanlarının değeri ile nitelenir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-278">These codes are qualified by the value of the bDeviceClass and the bDeviceSubClass fields.</span></span> <span data-ttu-id="ca34e-279">Bir cihaz, bir cihaz temelinde sınıfa özgü protokolleri destekliyorsa, bu kod, cihazın cihaz sınıfının belirtimine göre tanımlandığı şekilde kullandığı protokolleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-279">If a device supports class-specific protocols on a device basis as opposed to an interface basis, this code identifies the protocols that the device uses as defined by the specification of the device class.</span></span> <span data-ttu-id="ca34e-280">Bu alan 0 olarak sıfırlandığında, cihaz bir cihaz temelinde sınıfa özel protokoller kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="ca34e-280">If this field is reset to 0, the device does not use class specific protocols on a device basis.</span></span><br /><span data-ttu-id="ca34e-281">Ancak, bir arabirim temelinde sınıfa özel protokoller kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-281">However, it may use class specific protocols on an interface basis.</span></span><br /><span data-ttu-id="ca34e-282">Bu alan 0xFF olarak ayarlandıysa, cihaz bir cihaz temelinde satıcıya özgü protokol kullanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-282">If this field is set to 0xFF, the device uses a vendor specific protocol on a device basis.</span></span> |
| <span data-ttu-id="ca34e-283">7</span><span class="sxs-lookup"><span data-stu-id="ca34e-283">7</span></span>      | <span data-ttu-id="ca34e-284">bMaxPacketSize0</span><span class="sxs-lookup"><span data-stu-id="ca34e-284">bMaxPacketSize0</span></span>    | <span data-ttu-id="ca34e-285">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-285">1</span></span>    | <span data-ttu-id="ca34e-286">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-286">Number</span></span>   | <span data-ttu-id="ca34e-287">Uç nokta sıfırı için maksimum paket boyutu (yalnızca 8, 16, 32 veya 64 bayt boyutları geçerlidir)</span><span class="sxs-lookup"><span data-stu-id="ca34e-287">Maximum packet size for endpoint zero (only byte sizes of 8, 16, 32, or 64 are valid)</span></span> |
| <span data-ttu-id="ca34e-288">8</span><span class="sxs-lookup"><span data-stu-id="ca34e-288">8</span></span>      | <span data-ttu-id="ca34e-289">ıdvendor</span><span class="sxs-lookup"><span data-stu-id="ca34e-289">idVendor</span></span>           | <span data-ttu-id="ca34e-290">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-290">2</span></span>    | <span data-ttu-id="ca34e-291">ID</span><span class="sxs-lookup"><span data-stu-id="ca34e-291">ID</span></span>       | <span data-ttu-id="ca34e-292">Satıcı KIMLIĞI (USB tarafından atanan)</span><span class="sxs-lookup"><span data-stu-id="ca34e-292">Vendor ID (assigned by USB-IF)</span></span> |
| <span data-ttu-id="ca34e-293">10</span><span class="sxs-lookup"><span data-stu-id="ca34e-293">10</span></span>     | <span data-ttu-id="ca34e-294">ıdproduct</span><span class="sxs-lookup"><span data-stu-id="ca34e-294">idProduct</span></span>          | <span data-ttu-id="ca34e-295">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-295">2</span></span>    | <span data-ttu-id="ca34e-296">ID</span><span class="sxs-lookup"><span data-stu-id="ca34e-296">ID</span></span>       | <span data-ttu-id="ca34e-297">Ürün KIMLIĞI (üretici tarafından atanan)</span><span class="sxs-lookup"><span data-stu-id="ca34e-297">Product ID (assigned by the Manufacturer)</span></span> |
| <span data-ttu-id="ca34e-298">12</span><span class="sxs-lookup"><span data-stu-id="ca34e-298">12</span></span>     | <span data-ttu-id="ca34e-299">bcdDevice</span><span class="sxs-lookup"><span data-stu-id="ca34e-299">bcdDevice</span></span>          | <span data-ttu-id="ca34e-300">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-300">2</span></span>    | <span data-ttu-id="ca34e-301">'De</span><span class="sxs-lookup"><span data-stu-id="ca34e-301">BCD</span></span>      | <span data-ttu-id="ca34e-302">İkili kodlu ondalık olarak cihaz Yayın numarası</span><span class="sxs-lookup"><span data-stu-id="ca34e-302">Device release number in binary-coded decimal</span></span> |
| <span data-ttu-id="ca34e-303">14</span><span class="sxs-lookup"><span data-stu-id="ca34e-303">14</span></span>     | <span data-ttu-id="ca34e-304">iManufacturer</span><span class="sxs-lookup"><span data-stu-id="ca34e-304">iManufacturer</span></span>      | <span data-ttu-id="ca34e-305">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-305">1</span></span>    | <span data-ttu-id="ca34e-306">Dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="ca34e-306">Index</span></span>    | <span data-ttu-id="ca34e-307">Üreticiyi açıklayan dize tanımlayıcısının dizini</span><span class="sxs-lookup"><span data-stu-id="ca34e-307">Index of string descriptor describing manufacturer</span></span> |
| <span data-ttu-id="ca34e-308">15</span><span class="sxs-lookup"><span data-stu-id="ca34e-308">15</span></span>     | <span data-ttu-id="ca34e-309">IProduct</span><span class="sxs-lookup"><span data-stu-id="ca34e-309">iProduct</span></span>           | <span data-ttu-id="ca34e-310">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-310">1</span></span>    | <span data-ttu-id="ca34e-311">Dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="ca34e-311">Index</span></span>    | <span data-ttu-id="ca34e-312">Ürünü açıklayan dize tanımlayıcısının dizini</span><span class="sxs-lookup"><span data-stu-id="ca34e-312">Index of string descriptor describing product</span></span> |
| <span data-ttu-id="ca34e-313">16</span><span class="sxs-lookup"><span data-stu-id="ca34e-313">16</span></span>     | <span data-ttu-id="ca34e-314">iSerialNumbe</span><span class="sxs-lookup"><span data-stu-id="ca34e-314">iSerialNumbe</span></span>       | <span data-ttu-id="ca34e-315">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-315">1</span></span>    | <span data-ttu-id="ca34e-316">Dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="ca34e-316">Index</span></span>    | <span data-ttu-id="ca34e-317">Cihazın seri numarasını açıklayan dize tanımlayıcısının dizini</span><span class="sxs-lookup"><span data-stu-id="ca34e-317">Index of string descriptor describing the device's serial number</span></span> |
| <span data-ttu-id="ca34e-318">17</span><span class="sxs-lookup"><span data-stu-id="ca34e-318">17</span></span>     | <span data-ttu-id="ca34e-319">bNumConfigurations</span><span class="sxs-lookup"><span data-stu-id="ca34e-319">bNumConfigurations</span></span> | <span data-ttu-id="ca34e-320">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-320">1</span></span>    | <span data-ttu-id="ca34e-321">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-321">Number</span></span>   | <span data-ttu-id="ca34e-322">Olası yapılandırmaların sayısı</span><span class="sxs-lookup"><span data-stu-id="ca34e-322">Number of possible configurations</span></span> |

<span data-ttu-id="ca34e-323">USBX, bir USB cihaz tanımlayıcısını aşağıdaki şekilde tanımlar:</span><span class="sxs-lookup"><span data-stu-id="ca34e-323">USBX defines a USB device descriptor as follows:</span></span>

```c
typedef struct UX_DEVICE_DESCRIPTOR_STRUCT
{
    UINT      bLength;
    UINT      bDescriptorType;
    USHORT    bcdUSB;
    UINT      bDeviceClass;
    UINT      bDeviceSubClass;
    UINT      bDeviceProtocol;
    UINT      bMaxPacketSize0;
    USHORT    idVendor;
    USHORT    idProduct;
    USHORT    bcdDevice;
    UINT      iManufacturer;
    UINT      iProduct;
    UINT      iSerialNumber;
    UINT      bNumConfigurations;
} UX_DEVICE_DESCRIPTOR;
```

<span data-ttu-id="ca34e-324">USB cihaz tanımlayıcısı şu şekilde açıklanan bir cihaz kapsayıcısının parçasıdır:</span><span class="sxs-lookup"><span data-stu-id="ca34e-324">The USB device descriptor is part of a device container described as:</span></span>

```c
typedef struct UX_DEVICE_STRUCT
{
    ULONG ux_device_handle;
    ULONG ux_device_type;
    ULONG ux_device_state;
    ULONG ux_device_address;
    ULONG ux_device_speed;
    ULONG ux_device_port_location;
    ULONG ux_device_max_power;
    ULONG ux_device_power_source;
    UINT ux_device_current_configuration;

    TX_SEMAPHORE ux_device_protection_semaphore;
    struct UX_DEVICE_STRUCT *ux_device_parent; 
    struct UX_HOST_CLASS_STRUCT *ux_device_class; 
    VOID *ux_device_class_instance;
    struct UX_HCD_STRUCT *ux_device_hcd;
    struct UX_CONFIGURATION_STRUCT *ux_device_first_configuration; 
    struct UX_DEVICE_STRUCT *ux_device_next_device;
    struct UX_DEVICE_DESCRIPTOR_STRUCT ux_device_descriptor;
    struct UX_ENDPOINT_STRUCT ux_device_control_endpoint;
    struct UX_HUB_TT_STRUCT ux_device_hub_tt[UX_MAX_TT];
} UX_DEVICE;
```

- <span data-ttu-id="ca34e-325">**ux_device_handle**: cihazın tanıtıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-325">**ux_device_handle**: Handle of the device.</span></span> <span data-ttu-id="ca34e-326">Bu, genellikle cihaz için bu yapının örneğinin adresidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-326">This is typically the address of the instance of this structure for the device.</span></span>
- <span data-ttu-id="ca34e-327">**ux_device_type**: eski değer.</span><span class="sxs-lookup"><span data-stu-id="ca34e-327">**ux_device_type**: Obsolete value.</span></span> <span data-ttu-id="ca34e-328">Kullanılmıyor.</span><span class="sxs-lookup"><span data-stu-id="ca34e-328">Unused.</span></span>
- <span data-ttu-id="ca34e-329">**ux_device_state**: aşağıdaki değerlerden birine sahip olabilecek cihaz durumu:</span><span class="sxs-lookup"><span data-stu-id="ca34e-329">**ux_device_state**: Device State, which can have one of the following values:</span></span>
    - <span data-ttu-id="ca34e-330">**UX_DEVICE_RESET**                0</span><span class="sxs-lookup"><span data-stu-id="ca34e-330">**UX_DEVICE_RESET**                0</span></span>
    - <span data-ttu-id="ca34e-331">**UX_DEVICE_ATTACHED**             1</span><span class="sxs-lookup"><span data-stu-id="ca34e-331">**UX_DEVICE_ATTACHED**             1</span></span>
    - <span data-ttu-id="ca34e-332">**UX_DEVICE_ADDRESSED**            2</span><span class="sxs-lookup"><span data-stu-id="ca34e-332">**UX_DEVICE_ADDRESSED**            2</span></span>
    - <span data-ttu-id="ca34e-333">**UX_DEVICE_CONFIGURED**           3</span><span class="sxs-lookup"><span data-stu-id="ca34e-333">**UX_DEVICE_CONFIGURED**           3</span></span>
    - <span data-ttu-id="ca34e-334">**UX_DEVICE_SUSPENDED**            4</span><span class="sxs-lookup"><span data-stu-id="ca34e-334">**UX_DEVICE_SUSPENDED**            4</span></span>
    - <span data-ttu-id="ca34e-335">**UX_DEVICE_RESUMED**              5</span><span class="sxs-lookup"><span data-stu-id="ca34e-335">**UX_DEVICE_RESUMED**              5</span></span>
    - <span data-ttu-id="ca34e-336">**UX_DEVICE_SELF_POWERED_STATE**   6</span><span class="sxs-lookup"><span data-stu-id="ca34e-336">**UX_DEVICE_SELF_POWERED_STATE**   6</span></span>
    - <span data-ttu-id="ca34e-337">**UX_DEVICE_SELF_POWERED_STATE**   7</span><span class="sxs-lookup"><span data-stu-id="ca34e-337">**UX_DEVICE_SELF_POWERED_STATE**   7</span></span>
    - <span data-ttu-id="ca34e-338">**UX_DEVICE_REMOTE_WAKEUP**        8</span><span class="sxs-lookup"><span data-stu-id="ca34e-338">**UX_DEVICE_REMOTE_WAKEUP**        8</span></span>
    - <span data-ttu-id="ca34e-339">**UX_DEVICE_BUS_RESET_COMPLETED**  9</span><span class="sxs-lookup"><span data-stu-id="ca34e-339">**UX_DEVICE_BUS_RESET_COMPLETED**  9</span></span>
    - <span data-ttu-id="ca34e-340">**UX_DEVICE_REMOVED**              10</span><span class="sxs-lookup"><span data-stu-id="ca34e-340">**UX_DEVICE_REMOVED**              10</span></span>
    - <span data-ttu-id="ca34e-341">**UX_DEVICE_FORCE_DISCONNECT**     11</span><span class="sxs-lookup"><span data-stu-id="ca34e-341">**UX_DEVICE_FORCE_DISCONNECT**     11</span></span>
- <span data-ttu-id="ca34e-342">**ux_device_address**: **SET_ADDRESS** komutu kabul edildikten sonra cihazın adresi (1 ile 127 arasında).</span><span class="sxs-lookup"><span data-stu-id="ca34e-342">**ux_device_address**: Address of the device after the **SET_ADDRESS** command has been accepted (from 1 to 127).</span></span>
- <span data-ttu-id="ca34e-343">**ux_device_speed**: cihazın hızı:</span><span class="sxs-lookup"><span data-stu-id="ca34e-343">**ux_device_speed**: Speed of the device:</span></span>
    - <span data-ttu-id="ca34e-344">**UX_LOW_SPEED_DEVICE**      0</span><span class="sxs-lookup"><span data-stu-id="ca34e-344">**UX_LOW_SPEED_DEVICE**      0</span></span>
    - <span data-ttu-id="ca34e-345">**UX_FULL_SPEED_DEVICE**     1</span><span class="sxs-lookup"><span data-stu-id="ca34e-345">**UX_FULL_SPEED_DEVICE**     1</span></span>
    - <span data-ttu-id="ca34e-346">**UX_HIGH_SPEED_DEVICE**     2</span><span class="sxs-lookup"><span data-stu-id="ca34e-346">**UX_HIGH_SPEED_DEVICE**     2</span></span>
- <span data-ttu-id="ca34e-347">**ux_device_port_location**: üst cihazın bağlantı noktasının dizini (kök hub veya hub).</span><span class="sxs-lookup"><span data-stu-id="ca34e-347">**ux_device_port_location**: Index of the port of the parent device (root hub or hub).</span></span>
- <span data-ttu-id="ca34e-348">**ux_device_max_power**: en fazla güç, cihazın seçili yapılandırmada işlem gösterebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-348">**ux_device_max_power**: Maximum power in mA that the device may take in the selected configuration.</span></span>
- <span data-ttu-id="ca34e-349">**ux_device_power_source**: aşağıdaki iki değerden biri olabilir:</span><span class="sxs-lookup"><span data-stu-id="ca34e-349">**ux_device_power_source**: Can be one of the two following values:</span></span>
    - <span data-ttu-id="ca34e-350">**UX_DEVICE_BUS_POWERED**     1</span><span class="sxs-lookup"><span data-stu-id="ca34e-350">**UX_DEVICE_BUS_POWERED**     1</span></span>
    - <span data-ttu-id="ca34e-351">**UX_DEVICE_SELF_POWERED**    2</span><span class="sxs-lookup"><span data-stu-id="ca34e-351">**UX_DEVICE_SELF_POWERED**    2</span></span>
- <span data-ttu-id="ca34e-352">**ux_device_current_configuration**: Bu cihaz tarafından kullanılan geçerli yapılandırmanın dizini.</span><span class="sxs-lookup"><span data-stu-id="ca34e-352">**ux_device_current_configuration**: Index of the current configuration being used by this device.</span></span>
- <span data-ttu-id="ca34e-353">**ux_device_parent**: Bu cihazın üst öğesinin cihaz kapsayıcı işaretçisi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-353">**ux_device_parent**: Device container pointer of the parent of this device.</span></span> <span data-ttu-id="ca34e-354">İşaretçi null ise, üst öğe denetleyicinin kök hub 'üdür.</span><span class="sxs-lookup"><span data-stu-id="ca34e-354">If the pointer is null, the parent is the root hub of the controller.</span></span>
- <span data-ttu-id="ca34e-355">**ux_device_class**: Bu cihazın sahibi olan sınıf türüne yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-355">**ux_device_class**: Pointer to the class type that owns this device.</span></span>
- <span data-ttu-id="ca34e-356">**ux_device_class_instance**: Bu cihaza sahip olan sınıfın örneğine yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-356">**ux_device_class_instance**: Pointer to the instance of the class that owns this device.</span></span>
- <span data-ttu-id="ca34e-357">**ux_device_hcd**: Bu cihazın eklendiği USB ana bilgisayar denetleyicisi örneği.</span><span class="sxs-lookup"><span data-stu-id="ca34e-357">**ux_device_hcd**: USB Host Controller Instance where this device is attached.</span></span>
- <span data-ttu-id="ca34e-358">**ux_device_first_configuration**: Bu cihaz için ilk Yapılandırma kapsayıcısına yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-358">**ux_device_first_configuration**: Pointer to the first configuration container for this device.</span></span>
- <span data-ttu-id="ca34e-359">**ux_device_next_device**: USBX tarafından algılanan tüm veri yollarına cihaz listesinde sonraki cihaza yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-359">**ux_device_next_device**: Pointer to the next device in the list of device on any of the buses detected by USBX.</span></span>
- <span data-ttu-id="ca34e-360">**ux_device_descriptor**: USB cihaz tanımlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-360">**ux_device_descriptor**: USB device descriptor.</span></span>
- <span data-ttu-id="ca34e-361">**ux_device_control_endpoint**: Bu cihaz tarafından kullanılan varsayılan denetim uç noktasının tanımlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-361">**ux_device_control_endpoint**: Descriptor of the default control endpoint used by this device.</span></span>
- <span data-ttu-id="ca34e-362">**ux_device_hub_tt**: cihaz Için bir hub TTs dizisi</span><span class="sxs-lookup"><span data-stu-id="ca34e-362">**ux_device_hub_tt**: Array of Hub TTs for the device</span></span>

### <a name="configuration-descriptors"></a><span data-ttu-id="ca34e-363">Yapılandırma tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-363">Configuration Descriptors</span></span>

<span data-ttu-id="ca34e-364">Yapılandırma tanımlayıcısı, belirli bir cihaz yapılandırmasıyla ilgili bilgileri açıklar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-364">The configuration descriptor describes information about a specific device configuration.</span></span> <span data-ttu-id="ca34e-365">Bir USB cihaz, bir veya daha fazla yapılandırma tanımlayıcısı içerebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-365">A USB device may contain one or more configuration descriptors.</span></span> <span data-ttu-id="ca34e-366">Cihaz tanımlayıcısındaki **Bnumconfigurations** alanı yapılandırma tanımlayıcılarının sayısını belirtir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-366">The **bNumConfigurations** field in the device descriptor indicates the number of configuration descriptors.</span></span> <span data-ttu-id="ca34e-367">Tanımlayıcı, ayarlanan yapılandırma isteğine parametre olarak kullanıldığında bir **Bconfigurationvalue** alanı içerir ve bu değer, küme yapılandırma isteğine parametre olarak kullanılır, cihazın açıklanan yapılandırmayı varsaymasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="ca34e-367">The descriptor contains a **bConfigurationValue** field with a value that, when used as a parameter to the Set Configuration request, causes the device to assume the described configuration.</span></span>

<span data-ttu-id="ca34e-368">Tanımlayıcı, yapılandırma tarafından belirtilen arabirimlerin sayısını açıklar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-368">The descriptor describes the number of interfaces provided by the configuration.</span></span> <span data-ttu-id="ca34e-369">Her arabirim, cihaz içindeki bir mantıksal işlevi temsil eder ve bağımsız olarak çalışmayabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-369">Each interface represents a logical function within the device and may operate independently.</span></span> <span data-ttu-id="ca34e-370">Örneğin, bir USB ses konuşmacının, biri ses akışı, biri ses denetimi için bir tane olmak üzere üç arabirimi ve konuşmacı düğmelerini yönetmek için bir HID arabirimi olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-370">For instance a USB audio speaker may have three interfaces, one for audio streaming, one for audio control, and one HID interface to manage the speaker's buttons.</span></span>

<span data-ttu-id="ca34e-371">Ana bilgisayar yapılandırma tanımlayıcısı için GET_DESCRIPTOR isteği yayınlar, tüm ilgili arabirim ve uç nokta tanımlayıcıları döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ca34e-371">When the host issues a GET_DESCRIPTOR request for the configuration descriptor, all related interface and endpoint descriptors are returned.</span></span>

| <span data-ttu-id="ca34e-372">Uzaklık</span><span class="sxs-lookup"><span data-stu-id="ca34e-372">Offset</span></span> | <span data-ttu-id="ca34e-373">Alan</span><span class="sxs-lookup"><span data-stu-id="ca34e-373">Field</span></span>               | <span data-ttu-id="ca34e-374">Boyut</span><span class="sxs-lookup"><span data-stu-id="ca34e-374">Size</span></span> | <span data-ttu-id="ca34e-375">Değer</span><span class="sxs-lookup"><span data-stu-id="ca34e-375">Value</span></span>    | <span data-ttu-id="ca34e-376">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ca34e-376">Description</span></span>                       |
| ------ | ------------------- | ---- | -------- | --------------------------------- |
| <span data-ttu-id="ca34e-377">0</span><span class="sxs-lookup"><span data-stu-id="ca34e-377">0</span></span>      | <span data-ttu-id="ca34e-378">bLength</span><span class="sxs-lookup"><span data-stu-id="ca34e-378">bLength</span></span>             | <span data-ttu-id="ca34e-379">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-379">1</span></span>    | <span data-ttu-id="ca34e-380">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-380">Number</span></span>   | <span data-ttu-id="ca34e-381">Bu tanımlayıcının bayt cinsinden boyutu.</span><span class="sxs-lookup"><span data-stu-id="ca34e-381">Size of this descriptor in bytes.</span></span> |
| <span data-ttu-id="ca34e-382">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-382">1</span></span>      | <span data-ttu-id="ca34e-383">bDescriptorType</span><span class="sxs-lookup"><span data-stu-id="ca34e-383">bDescriptorType</span></span>     | <span data-ttu-id="ca34e-384">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-384">1</span></span>    | <span data-ttu-id="ca34e-385">Sabit</span><span class="sxs-lookup"><span data-stu-id="ca34e-385">Constant</span></span> | <span data-ttu-id="ca34e-386">YAPILANDIRMA</span><span class="sxs-lookup"><span data-stu-id="ca34e-386">CONFIGURATION</span></span>                     |
| <span data-ttu-id="ca34e-387">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-387">2</span></span>      | <span data-ttu-id="ca34e-388">wTotalLength</span><span class="sxs-lookup"><span data-stu-id="ca34e-388">wTotalLength</span></span>        | <span data-ttu-id="ca34e-389">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-389">2</span></span>    | <span data-ttu-id="ca34e-390">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-390">Number</span></span>   | <span data-ttu-id="ca34e-391">Bu yapılandırma için döndürülen toplam veri uzunluğu.</span><span class="sxs-lookup"><span data-stu-id="ca34e-391">Total length of data returned for this configuration.</span></span> <span data-ttu-id="ca34e-392">Bu yapılandırma için döndürülen tüm tanımlayıcılar (yapılandırma, arabirim, uç nokta ve sınıf veya satıcıya özgü) Birleşik uzunluğunu içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-392">Includes the combined length of all descriptors (configuration, interface, endpoint, and class or vendor specific) returned for this configuration.</span></span> |
| <span data-ttu-id="ca34e-393">4</span><span class="sxs-lookup"><span data-stu-id="ca34e-393">4</span></span>      | <span data-ttu-id="ca34e-394">Bnumınterfaces</span><span class="sxs-lookup"><span data-stu-id="ca34e-394">bNumInterfaces</span></span>      | <span data-ttu-id="ca34e-395">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-395">1</span></span>    | <span data-ttu-id="ca34e-396">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-396">Number</span></span>   | <span data-ttu-id="ca34e-397">Bu yapılandırma tarafından desteklenen arabirimlerin sayısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-397">Number of interfaces supported by this configuration.</span></span> |
| <span data-ttu-id="ca34e-398">5</span><span class="sxs-lookup"><span data-stu-id="ca34e-398">5</span></span>      | <span data-ttu-id="ca34e-399">bConfigurationValue</span><span class="sxs-lookup"><span data-stu-id="ca34e-399">bConfigurationValue</span></span> | <span data-ttu-id="ca34e-400">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-400">1</span></span>    | <span data-ttu-id="ca34e-401">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-401">Number</span></span>   | <span data-ttu-id="ca34e-402">Ayarlanacak bir bağımsız değişken olarak kullanılacak değer</span><span class="sxs-lookup"><span data-stu-id="ca34e-402">Value to use as an argument to Set</span></span><br/><span data-ttu-id="ca34e-403">Bu yapılandırmayı seçmek için yapılandırma.</span><span class="sxs-lookup"><span data-stu-id="ca34e-403">Configuration to select this configuration.</span></span> |
| <span data-ttu-id="ca34e-404">6</span><span class="sxs-lookup"><span data-stu-id="ca34e-404">6</span></span>      | <span data-ttu-id="ca34e-405">Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ca34e-405">iConfiguration</span></span>      | <span data-ttu-id="ca34e-406">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-406">1</span></span>    | <span data-ttu-id="ca34e-407">Dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="ca34e-407">Index</span></span>    | <span data-ttu-id="ca34e-408">Bu yapılandırmayı açıklayan dize tanımlayıcısının dizini.</span><span class="sxs-lookup"><span data-stu-id="ca34e-408">Index of string descriptor describing this configuration.</span></span> |
| <span data-ttu-id="ca34e-409">7</span><span class="sxs-lookup"><span data-stu-id="ca34e-409">7</span></span>      | <span data-ttu-id="ca34e-410">bMAttributes</span><span class="sxs-lookup"><span data-stu-id="ca34e-410">bMAttributes</span></span>        | <span data-ttu-id="ca34e-411">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-411">1</span></span>    | <span data-ttu-id="ca34e-412">Biteş</span><span class="sxs-lookup"><span data-stu-id="ca34e-412">Bitmap</span></span>   | <span data-ttu-id="ca34e-413">Yapılandırma özellikleri D7 Bus destekleniyor</span><span class="sxs-lookup"><span data-stu-id="ca34e-413">Configuration characteristics D7 Bus Powered</span></span><br /><span data-ttu-id="ca34e-414">D6 otomatik olarak destekleniyor</span><span class="sxs-lookup"><span data-stu-id="ca34e-414">D6 Self Powered</span></span><br /><span data-ttu-id="ca34e-415">D5 uzaktan uyandırma</span><span class="sxs-lookup"><span data-stu-id="ca34e-415">D5 Remote Wakeup</span></span><br /><span data-ttu-id="ca34e-416">D4.. 0 ayrılmış (0 ' a sıfırlayın)</span><span class="sxs-lookup"><span data-stu-id="ca34e-416">D4..0 Reserved (reset to 0)</span></span><br /><span data-ttu-id="ca34e-417">Veri yolundan ve yerel bir kaynaktan güç kullanan bir cihaz yapılandırması hem D7 hem de D6 ayarlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-417">A device configuration that uses power from the bus and a local source sets both D7 and D6.</span></span> <span data-ttu-id="ca34e-418">Çalışma zamanında gerçek güç kaynağı, durumu Al cihaz isteği kullanılarak belirlenebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-418">The actual power source at runtime may be determined using the Get Status device request.</span></span><br /><span data-ttu-id="ca34e-419">Bir cihaz yapılandırması uzaktan uyandırma 'yi destekliyorsa, D5 1 olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-419">If a device configuration supports remote wakeup, D5 is set to 1.</span></span> |
| <span data-ttu-id="ca34e-420">8</span><span class="sxs-lookup"><span data-stu-id="ca34e-420">8</span></span>      | <span data-ttu-id="ca34e-421">MaxPower</span><span class="sxs-lookup"><span data-stu-id="ca34e-421">MaxPower</span></span>            | <span data-ttu-id="ca34e-422">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-422">1</span></span>    | <span data-ttu-id="ca34e-423">Hareketli</span><span class="sxs-lookup"><span data-stu-id="ca34e-423">mA</span></span>       | <span data-ttu-id="ca34e-424">Cihaz tam olarak çalışırken bu belirli yapılandırmadaki veri yolundan USB cihazının maksimum güç tüketimi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-424">Maximum power consumption of USB device from the bus in this specific configuration when the device is fully operational.</span></span><br /><span data-ttu-id="ca34e-425">2 mA biriminde ifade edilir (örneğin, 50 = 100 mA).</span><span class="sxs-lookup"><span data-stu-id="ca34e-425">Expressed in 2 mA units (e.g., 50 = 100 mA).</span></span><br /><span data-ttu-id="ca34e-426">Note: bir cihaz yapılandırması, yapılandırmanın veri yolundan veya şirket içinde açık olup olmadığını bildiriyor.</span><span class="sxs-lookup"><span data-stu-id="ca34e-426">Note: A device configuration reports whether the configuration is bus-powered or self-powered.</span></span><br /><span data-ttu-id="ca34e-427">Cihaz durumu, cihazın Şu anda kendi kendine açık olup olmadığını bildiriyor.</span><span class="sxs-lookup"><span data-stu-id="ca34e-427">Device status reports whether the device is currently self-powered.</span></span> <span data-ttu-id="ca34e-428">Bir cihazın dış güç kaynağıyla bağlantısı kesilirse, cihazın artık kendi kendine açık olmadığını belirtmek için cihaz durumunu güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-428">If a device is disconnected from its external power source, it updates device status to indicate that it is no longer self-powered.</span></span> |

<span data-ttu-id="ca34e-429">USBX, bir USB yapılandırma tanımlayıcısını aşağıdaki şekilde tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-429">USBX defines a USB configuration descriptor as follows.</span></span>

```c
typedef struct UX_CONFIGURATION_DESCRIPTOR_STRUCT
{
    UINT bLength;
    UINT bDescriptorType;
    USHORT wTotalLength;
    UINT bNumInterfaces;
    UINT bConfigurationValue;
    UINT iConfiguration;
    UINT bmAttributes;
    UINT MaxPower;
} UX_CONFIGURATION_DESCRIPTOR;
```

<span data-ttu-id="ca34e-430">USB yapılandırma tanımlayıcısı aşağıda gösterildiği gibi açıklanan bir yapılandırma kapsayıcısının bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-430">The USB configuration descriptor is part of a configuration container described as shown below.</span></span>

```c
typedef struct UX_CONFIGURATION_STRUCT
{
    ULONG ux_configuration_handle;
    ULONG ux_configuration_state;
    struct UX_CONFIGURATION_DESCRIPTOR_STRUCT ux_configuration_descriptor;
    struct UX_INTERFACE_STRUCT *ux_configuration_first_interface;
    struct UX_CONFIGURATION_STRUCT *ux_configuration_next_configuration;
    struct UX_DEVICE_STRUCT *ux_configuration_device;
} UX_CONFIGURATION;
```

- <span data-ttu-id="ca34e-431">**ux_configuration_handle**: yapılandırmanın tanıtıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-431">**ux_configuration_handle**: Handle of the configuration.</span></span> <span data-ttu-id="ca34e-432">Bu, genellikle yapılandırma için bu yapının örneğinin adresidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-432">This is typically the address of the instance of this structure for the configuration.</span></span>
- <span data-ttu-id="ca34e-433">**ux_configuration_state**: yapılandırmanın durumu.</span><span class="sxs-lookup"><span data-stu-id="ca34e-433">**ux_configuration_state**: State of the configuration.</span></span>
- <span data-ttu-id="ca34e-434">**ux_configuration_descriptor**: USB cihaz tanımlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-434">**ux_configuration_descriptor**: USB device descriptor.</span></span>
- <span data-ttu-id="ca34e-435">**ux_configuration_first_interface**: Bu yapılandırma için ilk arabirime yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-435">**ux_configuration_first_interface**: Pointer to the first interface for this configuration.</span></span>
- <span data-ttu-id="ca34e-436">**ux_configuration_next_configuration**: aynı cihaz için bir sonraki yapılandırmaya yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-436">**ux_configuration_next_configuration**: Pointer to the next configuration for the same device.</span></span>
- <span data-ttu-id="ca34e-437">**ux_configuration_device**: Bu yapılandırmanın cihaz sahibine yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-437">**ux_configuration_device**: Pointer to the device owner of this configuration.</span></span>

### <a name="interface-descriptors"></a><span data-ttu-id="ca34e-438">Arabirim tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-438">Interface Descriptors</span></span>

<span data-ttu-id="ca34e-439">Arabirim tanımlayıcısı, bir yapılandırma içindeki belirli bir arabirimi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-439">The interface descriptor describes a specific interface within a configuration.</span></span> <span data-ttu-id="ca34e-440">Arabirim, USB cihazındaki mantıksal bir işlevdir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-440">An interface is a logical function within a USB device.</span></span> <span data-ttu-id="ca34e-441">Yapılandırma, yapılandırma içindeki benzersiz bir uç nokta kümesini açıklayan bir veya daha fazla uç nokta tanımlayıcısı olan bir veya daha fazla arabirim sağlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-441">A configuration provides one or more interfaces, each with zero or more endpoint descriptors describing a unique set of endpoints within the configuration.</span></span> <span data-ttu-id="ca34e-442">Bir yapılandırma birden fazla arabirimi desteklediğinde, belirli bir arabirim için uç nokta tanımlayıcıları, belirtilen yapılandırma için **GET_DESCRIPTOR** isteği tarafından döndürülen verilerdeki arabirim tanımlayıcısını izler.</span><span class="sxs-lookup"><span data-stu-id="ca34e-442">When a configuration supports more than one interface, the endpoint descriptors for a particular interface follow the interface descriptor in the data returned by the **GET_DESCRIPTOR** request for the specified configuration.</span></span>

<span data-ttu-id="ca34e-443">Bir arabirim tanımlayıcısı her zaman bir yapılandırma tanımlayıcısının parçası olarak döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ca34e-443">An interface descriptor is always returned as part of a configuration descriptor.</span></span> <span data-ttu-id="ca34e-444">Arabirim tanımlayıcısı bir GET_DESCRIPTOR isteği tarafından doğrudan erişilemez.</span><span class="sxs-lookup"><span data-stu-id="ca34e-444">An interface descriptor cannot be directly access by a GET_DESCRIPTOR request.</span></span>

<span data-ttu-id="ca34e-445">Bir arabirim, uç noktaların ve/veya özelliklerinin cihaz yapılandırıldıktan sonra bulunmasına izin veren alternatif ayarlar içerebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-445">An interface may include alternate settings that allow the endpoints and/or their characteristics to be varied after the device has been configured.</span></span> <span data-ttu-id="ca34e-446">Bir arabirim için varsayılan ayar her zaman sıfır ayarı olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-446">The default setting for an interface is always alternate setting zero.</span></span> <span data-ttu-id="ca34e-447">Bir sınıf, arabirim davranışını ve ilişkili uç noktaların özelliklerini değiştirmek için geçerli alternatif ayarı değiştirmeyi seçebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-447">A class can select to change the current alternate setting to change the interface behavior and the characteristics of the associated endpoints.</span></span> <span data-ttu-id="ca34e-448">SET_INTERFACE isteği, alternatif bir ayar seçmek veya varsayılan ayara dönmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-448">The SET_INTERFACE request is used to select an alternate setting or to return to the default setting.</span></span>

<span data-ttu-id="ca34e-449">Alternatif ayarlar, diğer arabirimler işlem sırasında kaldığı sürece cihaz yapılandırmasının bir kısmının değiştirilebilir olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-449">Alternate settings allow a portion of the device configuration to be varied while other interfaces remain in operation.</span></span> <span data-ttu-id="ca34e-450">Bir yapılandırmanın bir veya daha fazla arabirimi için alternatif ayarları varsa, her ayara ayrı bir arabirim tanımlayıcısı ve ilişkili uç noktaları dahildir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-450">If a configuration has alternate settings for one or more of its interfaces, a separate interface descriptor and its associated endpoints are included for each setting.</span></span>

<span data-ttu-id="ca34e-451">Bir cihaz yapılandırmasında iki alternatif ayar içeren tek bir arabirim varsa, yapılandırma için GET_DESCRIPTOR isteği yapılandırma tanımlayıcısını döndürür, ardından **Bfacenumber** ve **balternatesetting** alanları sıfır olarak ayarlanmış arabirim tanımlayıcısı, bu ayar için uç nokta tanımlayıcılarını ve ardından başka bir arabirim tanımlayıcısı ve ilgili uç nokta tanımlayıcılarını izler.</span><span class="sxs-lookup"><span data-stu-id="ca34e-451">If a device configuration contains a single interface with two alternate settings, the GET_DESCRIPTOR request for the configuration would return the configuration descriptor, then the interface descriptor with the **bInterfaceNumber** and **bAlternateSetting** fields set to zero and then the endpoint descriptors for that setting, followed by another interface descriptor and its associated endpoint descriptors.</span></span> <span data-ttu-id="ca34e-452">İkinci arabirim tanımlayıcısının **Bınterfacenumber** alanı da sıfır olarak ayarlanır, ancak ikinci arabirim tanımlayıcısının **balternatesetting** alanı, bu alternatif ayarın ilk arabirime ait olduğunu gösteren 1 olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-452">The second interface descriptor's **bInterfaceNumber** field would also be set to zero, but the **bAlternateSetting** field of the second interface descriptor would be set to 1 indicating that this alternate setting belongs to the first interface.</span></span>

<span data-ttu-id="ca34e-453">Bir arabirimin kendisiyle ilişkili uç noktası olamaz, bu durumda yalnızca varsayılan denetim uç noktası bu arabirim için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-453">An interface may not have any endpoints associated with it, in which case only the default control endpoint is valid for that interface.</span></span>

<span data-ttu-id="ca34e-454">Diğer ayarlar temel olarak arabirimle ilişkili düzenli uç noktalar için istenen bant genişliğini değiştirmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-454">Alternate settings are used mainly to change the requested bandwidth for periodic endpoints associated with the interface.</span></span> <span data-ttu-id="ca34e-455">Örneğin, bir USB konuşmacı akış arabirimi, zaman aralıklı uç noktasında 0 bant genişliği talebi olan ilk alternatif ayara sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-455">For example, a USB speaker streaming interface should have the first alternate setting with a 0 bandwidth demand on its isochronous endpoint.</span></span> <span data-ttu-id="ca34e-456">Diğer alternatif ayarlar, ses akış sıklığına bağlı olarak farklı bant genişliği gereksinimleri seçebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-456">Other alternate settings may select different bandwidth requirements depending on the audio streaming frequency.</span></span>

<span data-ttu-id="ca34e-457">Arabirimin USB tanımlayıcısı aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="ca34e-457">The USB descriptor for the interface is as follows:</span></span>

| <span data-ttu-id="ca34e-458">Uzaklık</span><span class="sxs-lookup"><span data-stu-id="ca34e-458">Offset</span></span> | <span data-ttu-id="ca34e-459">Alan</span><span class="sxs-lookup"><span data-stu-id="ca34e-459">Field</span></span>              | <span data-ttu-id="ca34e-460">Boyut</span><span class="sxs-lookup"><span data-stu-id="ca34e-460">Size</span></span> | <span data-ttu-id="ca34e-461">Değer</span><span class="sxs-lookup"><span data-stu-id="ca34e-461">Value</span></span>     | <span data-ttu-id="ca34e-462">CI</span><span class="sxs-lookup"><span data-stu-id="ca34e-462">Descriptor</span></span>                              |
| ------ | ------------------ | ---- | --------- | --------------------------------------- |
| <span data-ttu-id="ca34e-463">0</span><span class="sxs-lookup"><span data-stu-id="ca34e-463">0</span></span>      | <span data-ttu-id="ca34e-464">bLength</span><span class="sxs-lookup"><span data-stu-id="ca34e-464">bLength</span></span>            | <span data-ttu-id="ca34e-465">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-465">1</span></span>    | <span data-ttu-id="ca34e-466">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-466">Number</span></span>    | <span data-ttu-id="ca34e-467">Bu tanımlayıcının bayt cinsinden boyutu.</span><span class="sxs-lookup"><span data-stu-id="ca34e-467">Size of this descriptor in bytes.</span></span>       |
| <span data-ttu-id="ca34e-468">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-468">1</span></span>      | <span data-ttu-id="ca34e-469">bDescriptorType</span><span class="sxs-lookup"><span data-stu-id="ca34e-469">bDescriptorType</span></span>    | <span data-ttu-id="ca34e-470">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-470">1</span></span>    | <span data-ttu-id="ca34e-471">Sabit</span><span class="sxs-lookup"><span data-stu-id="ca34e-471">Constant</span></span>  | <span data-ttu-id="ca34e-472">ARABIRIM tanımlayıcı türü</span><span class="sxs-lookup"><span data-stu-id="ca34e-472">INTERFACE Descriptor Type</span></span>               |
| <span data-ttu-id="ca34e-473">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-473">2</span></span>      | <span data-ttu-id="ca34e-474">Bfacenumber</span><span class="sxs-lookup"><span data-stu-id="ca34e-474">bInterfaceNumber</span></span>   | <span data-ttu-id="ca34e-475">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-475">1</span></span>    | <span data-ttu-id="ca34e-476">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-476">Number</span></span>    | <span data-ttu-id="ca34e-477">Arabirim sayısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-477">Number of interface.</span></span> <span data-ttu-id="ca34e-478">Bu yapılandırma tarafından desteklenen eşzamanlı arabirimlerin dizisindeki dizini tanımlayan sıfır tabanlı değer.</span><span class="sxs-lookup"><span data-stu-id="ca34e-478">Zero-based value identifying the index in the array of concurrent interfaces supported by this configuration.</span></span> |
| <span data-ttu-id="ca34e-479">3</span><span class="sxs-lookup"><span data-stu-id="ca34e-479">3</span></span>      | <span data-ttu-id="ca34e-480">bAltenateSetting</span><span class="sxs-lookup"><span data-stu-id="ca34e-480">bAltenateSetting</span></span>   | <span data-ttu-id="ca34e-481">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-481">1</span></span>    | <span data-ttu-id="ca34e-482">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-482">Number</span></span>    | <span data-ttu-id="ca34e-483">Önceki alanda tanımlanan arabirim için alternatif ayarı seçmek için kullanılan değer.</span><span class="sxs-lookup"><span data-stu-id="ca34e-483">Value used to select alternate setting for the interface identified in the prior field.</span></span> |
| <span data-ttu-id="ca34e-484">4</span><span class="sxs-lookup"><span data-stu-id="ca34e-484">4</span></span>      | <span data-ttu-id="ca34e-485">bNumEndpoints</span><span class="sxs-lookup"><span data-stu-id="ca34e-485">bNumEndpoints</span></span>      | <span data-ttu-id="ca34e-486">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-486">1</span></span>    | <span data-ttu-id="ca34e-487">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-487">Number</span></span>    | <span data-ttu-id="ca34e-488">Bu arabirim tarafından kullanılan uç nokta sayısı (uç nokta sıfır hariç).</span><span class="sxs-lookup"><span data-stu-id="ca34e-488">Number of endpoints used by this interface (excluding endpoint zero).</span></span> <span data-ttu-id="ca34e-489">Bu değer 0 ise, bu arabirim yalnızca bir uç nokta sıfır kullanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-489">If this value is 0, this interface only uses endpoint zero.</span></span> |
| <span data-ttu-id="ca34e-490">5</span><span class="sxs-lookup"><span data-stu-id="ca34e-490">5</span></span>      | <span data-ttu-id="ca34e-491">bInterfaceClass</span><span class="sxs-lookup"><span data-stu-id="ca34e-491">bInterfaceClass</span></span>    | <span data-ttu-id="ca34e-492">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-492">1</span></span>    | <span data-ttu-id="ca34e-493">Sınıf</span><span class="sxs-lookup"><span data-stu-id="ca34e-493">Class</span></span>     | <span data-ttu-id="ca34e-494">Sınıf kodu (USB tarafından atanan)</span><span class="sxs-lookup"><span data-stu-id="ca34e-494">Class code (assigned by USB)</span></span><br /><span data-ttu-id="ca34e-495">Bu alan 0 olarak sıfırlandığında arabirim, USB tarafından belirtilen herhangi bir cihaz sınıfına ait değildir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-495">If this field is reset to 0, the interface does not belong to any USB specified device class.</span></span><br /><span data-ttu-id="ca34e-496">Bu alan 0xFF olarak ayarlanırsa, arabirim sınıfı satıcıya özeldir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-496">If this field is set to 0xFF, the interface class is vendor specific.</span></span><br /><span data-ttu-id="ca34e-497">Diğer tüm değerler USB tarafından atanmak üzere ayrılmıştır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-497">All other values are reserved for assignment by USB.</span></span> |
| <span data-ttu-id="ca34e-498">6</span><span class="sxs-lookup"><span data-stu-id="ca34e-498">6</span></span>      | <span data-ttu-id="ca34e-499">Bınterfacesubclass</span><span class="sxs-lookup"><span data-stu-id="ca34e-499">bInterfaceSubClass</span></span> | <span data-ttu-id="ca34e-500">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-500">1</span></span>    | <span data-ttu-id="ca34e-501">Sınıf</span><span class="sxs-lookup"><span data-stu-id="ca34e-501">SubClass</span></span>  | <span data-ttu-id="ca34e-502">Alt sınıf kodu (USB tarafından atanır).</span><span class="sxs-lookup"><span data-stu-id="ca34e-502">Subclass code (assigned by USB).</span></span><br /><span data-ttu-id="ca34e-503">Bu kodlar bInterfaceClass alanının değeri ile nitelenir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-503">These codes are qualified by the value of the bInterfaceClass field.</span></span> <span data-ttu-id="ca34e-504">BInterfaceClass alanı 0 olarak sıfırlandığında, bu alan de 0 olarak sıfırlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-504">If the bInterfaceClass field is reset to 0, this field must also be reset to 0.</span></span> <span data-ttu-id="ca34e-505">BInterfaceClass alanı 0xFF olarak ayarlanmamışsa, tüm değerler USB tarafından atanmak üzere ayrılmıştır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-505">If the bInterfaceClass field is not set to 0xFF, all values are reserved for assignment by USB.</span></span> |
| <span data-ttu-id="ca34e-506">7</span><span class="sxs-lookup"><span data-stu-id="ca34e-506">7</span></span>      | <span data-ttu-id="ca34e-507">Bınterfaceprotocol</span><span class="sxs-lookup"><span data-stu-id="ca34e-507">bInterfaceProtocol</span></span> | <span data-ttu-id="ca34e-508">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-508">1</span></span>    | <span data-ttu-id="ca34e-509">Protokol</span><span class="sxs-lookup"><span data-stu-id="ca34e-509">Protocol</span></span>  | <span data-ttu-id="ca34e-510">Protokol kodu (USB tarafından atanır).</span><span class="sxs-lookup"><span data-stu-id="ca34e-510">Protocol code (assigned by USB).</span></span> <span data-ttu-id="ca34e-511">Bu kodlar bInterfaceClass ve Bınterfacesubclass alanlarının değeri ile nitelenir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-511">These codes are qualified by the value of the bInterfaceClass and the bInterfaceSubClass fields.</span></span> <span data-ttu-id="ca34e-512">Bir arabirim sınıfa özgü istekleri destekliyorsa, bu kod, cihazın cihaz sınıfının belirtimine göre tanımlandığı şekilde kullandığı protokolleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-512">If an interface supports class-specific requests, this code identifies the protocols that the device uses as defined by the specification of the device class.</span></span><br /><span data-ttu-id="ca34e-513">Bu alan 0 olarak sıfırlandığında, cihaz bu arabirim üzerinde sınıfa özgü bir protokol kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="ca34e-513">If this field is reset to 0, the device does not use a class specific protocol on this interface.</span></span> <span data-ttu-id="ca34e-514">Bu alan 0xFF olarak ayarlandıysa, cihaz bu arabirim için satıcıya özgü bir protokol kullanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-514">If this field is set to 0xFF, the device uses a vendor specific protocol for this interface.</span></span> |
| <span data-ttu-id="ca34e-515">8</span><span class="sxs-lookup"><span data-stu-id="ca34e-515">8</span></span>      | <span data-ttu-id="ca34e-516">IInterface</span><span class="sxs-lookup"><span data-stu-id="ca34e-516">iInterface</span></span>         | <span data-ttu-id="ca34e-517">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-517">1</span></span>    | <span data-ttu-id="ca34e-518">Dizin oluşturma</span><span class="sxs-lookup"><span data-stu-id="ca34e-518">Index</span></span>     | <span data-ttu-id="ca34e-519">Bu arabirimi açıklayan dize tanımlayıcısının dizini.</span><span class="sxs-lookup"><span data-stu-id="ca34e-519">Index of string descriptor describing this interface.</span></span> |

<span data-ttu-id="ca34e-520">USBX, bir USB arabirim tanımlayıcısını aşağıdaki şekilde tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-520">USBX defines a USB interface descriptor as follows.</span></span>

```c
typedef struct UX_INTERFACE_DESCRIPTOR_STRUCT
{
    UINT bLength;
    UINT bDescriptorType;
    UINT bInterfaceNumber;
    UINT bAlternateSetting;
    UINT bNumEndpoints;
    UINT bInterfaceClass
    UINT bInterfaceSubClass;
    UINT bInterfaceProtocol;
    UINT iInterface;
} UX_INTERFACE_DESCRIPTOR;
```

<span data-ttu-id="ca34e-521">USB arabirim tanımlayıcısı, aşağıdaki gibi açıklanan arabirim kapsayıcısının bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-521">The USB interface descriptor is part of an interface container described as follows.</span></span>

```c
typedef struct UX_INTERFACE_STRUCT
{
    ULONG ux_interface_handle;
    ULONG ux_interface_state;
    ULONG ux_interface_current_alternate_setting;
    struct UX_INTERFACE_DESCRIPTOR_STRUCT ux_interface_descriptor;
    struct UX_HOST_CLASS_STRUCT    *ux_interface_class;
    VOID    *ux_interface_class_instance;
    struct UX_ENDPOINT_STRUCT    *ux_interface_first_endpoint;
    struct UX_INTERFACE_STRUCT    *ux_interface_next_interface;
    struct UX_CONFIGURATION_STRUCT    *ux_interface_configuration;
} UX_INTERFACE;
```

- <span data-ttu-id="ca34e-522">**ux_interface_handle**: arabirimin tanıtıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-522">**ux_interface_handle**: Handle of the interface.</span></span> <span data-ttu-id="ca34e-523">Bu, genellikle arabirim için bu yapının örneğinin adresidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-523">This is typically the address of the instance of this structure for the interface.</span></span>
- <span data-ttu-id="ca34e-524">**ux_interface_state**: arabirimin durumu.</span><span class="sxs-lookup"><span data-stu-id="ca34e-524">**ux_interface_state**: State of the interface.</span></span>
- <span data-ttu-id="ca34e-525">**ux_interface_descriptor**: USB arabirim tanımlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-525">**ux_interface_descriptor**: USB interface descriptor.</span></span>
- <span data-ttu-id="ca34e-526">**ux_interface_class**: Bu arabirime sahip olan sınıf türüne yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-526">**ux_interface_class**: Pointer to the class type that owns this interface.</span></span>
- <span data-ttu-id="ca34e-527">**ux_interface_class_instance**: Bu arabirime sahip olan sınıfın örneğine yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-527">**ux_interface_class_instance**: Pointer to the instance of the class that owns this interface.</span></span>
- <span data-ttu-id="ca34e-528">**ux_interface_first_endpoint**: bu arabirimle kaydedilen ilk uç noktaya işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-528">**ux_interface_first_endpoint**: Pointer to the first endpoint registered with this interface.</span></span>
- <span data-ttu-id="ca34e-529">**ux_interface_next_interface**: yapılandırmayla ilişkili bir sonraki arabirime yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-529">**ux_interface_next_interface**: Pointer to the next interface associated with the configuration.</span></span>
- <span data-ttu-id="ca34e-530">**ux_interface_configuration**: Bu arabirimin yapılandırma sahibine yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-530">**ux_interface_configuration**: Pointer to the configuration owner of this interface.</span></span>

### <a name="endpoint-descriptors"></a><span data-ttu-id="ca34e-531">Uç nokta tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-531">Endpoint Descriptors</span></span>

<span data-ttu-id="ca34e-532">Bir arabirimle ilişkilendirilen her uç noktanın kendi uç nokta tanımlayıcısı vardır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-532">Each endpoint associated with an interface has its own endpoint descriptor.</span></span> <span data-ttu-id="ca34e-533">Bu tanımlayıcı, her uç noktanın bant genişliği gereksinimlerini, uç noktayla ilişkili en fazla yükü, dönemsellik ve yönünü belirlemede konak yığınının gerektirdiği bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-533">This descriptor contains the information required by the host stack to determine the bandwidth requirements of each endpoint, the maximum payload associated with the endpoint, its periodicity, and its direction.</span></span> <span data-ttu-id="ca34e-534">Bir uç nokta tanımlayıcısı her zaman yapılandırma için bir GET_DESCRIPTOR komutu tarafından döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ca34e-534">An endpoint descriptor is always returned by a GET_DESCRIPTOR command for the configuration.</span></span>

<span data-ttu-id="ca34e-535">Cihaz tanımlayıcısıyla ilişkili varsayılan denetim uç noktası, arabirimle ilişkili uç noktalarının parçası olarak sayılmaz ve bu nedenle bu tanımlayıcıda döndürülmedi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-535">The default control endpoint associated with the device descriptor is not counted as part of the endpoint(s) associated with the interface and therefore not returned in this descriptor.</span></span>

<span data-ttu-id="ca34e-536">Konak yazılımı bir arabirim için alternatif ayarı istediğinde, tüm ilişkili uç noktalar ve USB kaynakları yeni alternatif ayara göre değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-536">When the host software requests a change of the alternate setting for an interface, all the associated endpoints and their USB resources are modified according to the new alternate setting.</span></span>

<span data-ttu-id="ca34e-537">Varsayılan denetim uç noktaları hariç, uç noktalar arabirimler arasında paylaşılamıyor.</span><span class="sxs-lookup"><span data-stu-id="ca34e-537">Except for the default control endpoints, endpoints cannot be share between interfaces.</span></span>

| <span data-ttu-id="ca34e-538">Uzaklık</span><span class="sxs-lookup"><span data-stu-id="ca34e-538">Offset</span></span> | <span data-ttu-id="ca34e-539">Alan</span><span class="sxs-lookup"><span data-stu-id="ca34e-539">Field</span></span>            | <span data-ttu-id="ca34e-540">Boyut</span><span class="sxs-lookup"><span data-stu-id="ca34e-540">Size</span></span> | <span data-ttu-id="ca34e-541">Değer</span><span class="sxs-lookup"><span data-stu-id="ca34e-541">Value</span></span>    | <span data-ttu-id="ca34e-542">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ca34e-542">Description</span></span>                       |
| ------ | ---------------- | ---- | -------- | --------------------------------- |
| <span data-ttu-id="ca34e-543">0</span><span class="sxs-lookup"><span data-stu-id="ca34e-543">0</span></span>      | <span data-ttu-id="ca34e-544">bLength</span><span class="sxs-lookup"><span data-stu-id="ca34e-544">bLength</span></span>          | <span data-ttu-id="ca34e-545">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-545">1</span></span>    | <span data-ttu-id="ca34e-546">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-546">Number</span></span>   | <span data-ttu-id="ca34e-547">Bu tanımlayıcının bayt cinsinden boyutu.</span><span class="sxs-lookup"><span data-stu-id="ca34e-547">Size of this descriptor in bytes.</span></span> |
| <span data-ttu-id="ca34e-548">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-548">1</span></span>      | <span data-ttu-id="ca34e-549">bDescriptorType</span><span class="sxs-lookup"><span data-stu-id="ca34e-549">bDescriptorType</span></span>  | <span data-ttu-id="ca34e-550">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-550">1</span></span>    | <span data-ttu-id="ca34e-551">Sabit</span><span class="sxs-lookup"><span data-stu-id="ca34e-551">Constant</span></span> | <span data-ttu-id="ca34e-552">UÇ nokta tanımlayıcı türü.</span><span class="sxs-lookup"><span data-stu-id="ca34e-552">ENDPOINT Descriptor Type.</span></span> |
| <span data-ttu-id="ca34e-553">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-553">2</span></span>      | <span data-ttu-id="ca34e-554">bEndpointAddress</span><span class="sxs-lookup"><span data-stu-id="ca34e-554">bEndpointAddress</span></span> | <span data-ttu-id="ca34e-555">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-555">1</span></span>    | <span data-ttu-id="ca34e-556">Uç Nokta</span><span class="sxs-lookup"><span data-stu-id="ca34e-556">Endpoint</span></span> | <span data-ttu-id="ca34e-557">USB cihazında bu tanımlayıcı tarafından tanımlanan bitiş noktasının adresi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-557">The address of the endpoint on the USB device described by this descriptor.</span></span> <span data-ttu-id="ca34e-558">Adres şu şekilde kodlanır:</span><span class="sxs-lookup"><span data-stu-id="ca34e-558">The address is encoded as follows:</span></span><br /><span data-ttu-id="ca34e-559">Bit 3... 0: uç nokta numarası</span><span class="sxs-lookup"><span data-stu-id="ca34e-559">Bit 3...0: The endpoint number</span></span><br /><span data-ttu-id="ca34e-560">Bit 6... 4: ayrılmış, sıfıra Sıfırla</span><span class="sxs-lookup"><span data-stu-id="ca34e-560">Bit 6...4: Reserved, reset to zero</span></span><br /><span data-ttu-id="ca34e-561">Bit 7: Yön, denetim uç noktaları için yoksayıldı</span><span class="sxs-lookup"><span data-stu-id="ca34e-561">Bit 7: Direction, ignored for control endpoints</span></span><br /><span data-ttu-id="ca34e-562">0 = çıkış uç noktası</span><span class="sxs-lookup"><span data-stu-id="ca34e-562">0 = OUT endpoint</span></span><br /><span data-ttu-id="ca34e-563">1 = uç noktada</span><span class="sxs-lookup"><span data-stu-id="ca34e-563">1 = IN endpoint</span></span> |
| <span data-ttu-id="ca34e-564">3</span><span class="sxs-lookup"><span data-stu-id="ca34e-564">3</span></span>      | <span data-ttu-id="ca34e-565">bmAttributes</span><span class="sxs-lookup"><span data-stu-id="ca34e-565">bmAttributes</span></span>     | <span data-ttu-id="ca34e-566">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-566">1</span></span>    | <span data-ttu-id="ca34e-567">Biteş</span><span class="sxs-lookup"><span data-stu-id="ca34e-567">Bitmap</span></span>   | <span data-ttu-id="ca34e-568">Bu alan, **Bconfigurationvalue** alanı kullanılarak yapılandırıldığında bitiş noktasının özniteliklerini açıklar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-568">This field describes the endpoint's attributes when it is configured using the **bConfigurationValue** field.</span></span> <span data-ttu-id="ca34e-569">Bit 1.. 0: aktarım türü</span><span class="sxs-lookup"><span data-stu-id="ca34e-569">Bits 1..0: Transfer Type</span></span><br /><span data-ttu-id="ca34e-570">00 = denetim</span><span class="sxs-lookup"><span data-stu-id="ca34e-570">00 = Control</span></span><br /><span data-ttu-id="ca34e-571">01 = zaman aralıklı</span><span class="sxs-lookup"><span data-stu-id="ca34e-571">01 = Isochronous</span></span><br /><span data-ttu-id="ca34e-572">10 = toplu</span><span class="sxs-lookup"><span data-stu-id="ca34e-572">10 = Bulk</span></span><br /><span data-ttu-id="ca34e-573">11 = kesme</span><span class="sxs-lookup"><span data-stu-id="ca34e-573">11 = Interrupt</span></span><br /><span data-ttu-id="ca34e-574">Zaman aralıklı bir uç nokta değilse, bit 5.. 2 ayrılmıştır ve sıfıra ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-574">If not an isochronous endpoint, bits 5..2 are reserved and must be set to zero.</span></span> <span data-ttu-id="ca34e-575">Zaman aralıklı ise, bunlar aşağıdaki gibi tanımlanır:</span><span class="sxs-lookup"><span data-stu-id="ca34e-575">If isochronous, they are defined as follows:</span></span><br /><span data-ttu-id="ca34e-576">Bit 3.. 2: eşitleme türü</span><span class="sxs-lookup"><span data-stu-id="ca34e-576">Bits 3..2: Synchronization Type</span></span><br /><span data-ttu-id="ca34e-577">00 = eşitleme yok</span><span class="sxs-lookup"><span data-stu-id="ca34e-577">00 = No Synchronization</span></span><br /><span data-ttu-id="ca34e-578">01 = zaman uyumsuz</span><span class="sxs-lookup"><span data-stu-id="ca34e-578">01 = Asynchronous</span></span><br /><span data-ttu-id="ca34e-579">10 = Uyarlamalı</span><span class="sxs-lookup"><span data-stu-id="ca34e-579">10 = Adaptive</span></span><br /><span data-ttu-id="ca34e-580">11 = zaman uyumlu</span><span class="sxs-lookup"><span data-stu-id="ca34e-580">11 = Synchronous</span></span><br /><span data-ttu-id="ca34e-581">Bit 5.. 4: kullanım türü</span><span class="sxs-lookup"><span data-stu-id="ca34e-581">Bits 5..4: Usage Type</span></span><br /><span data-ttu-id="ca34e-582">00 = veri uç noktası</span><span class="sxs-lookup"><span data-stu-id="ca34e-582">00 = Data endpoint</span></span><br /><span data-ttu-id="ca34e-583">01 = geri bildirim uç noktası</span><span class="sxs-lookup"><span data-stu-id="ca34e-583">01 = Feedback endpoint</span></span><br /><span data-ttu-id="ca34e-584">10 = örtük geri bildirim verileri uç noktası</span><span class="sxs-lookup"><span data-stu-id="ca34e-584">10 = Implicit feedback data endpoint</span></span><br /><span data-ttu-id="ca34e-585">11 = ayrılmış</span><span class="sxs-lookup"><span data-stu-id="ca34e-585">11 = Reserved</span></span> |
| <span data-ttu-id="ca34e-586">4</span><span class="sxs-lookup"><span data-stu-id="ca34e-586">4</span></span>      | <span data-ttu-id="ca34e-587">wMaxPacketSize</span><span class="sxs-lookup"><span data-stu-id="ca34e-587">wMaxPacketSize</span></span>   | <span data-ttu-id="ca34e-588">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-588">2</span></span>    | <span data-ttu-id="ca34e-589">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-589">Number</span></span>   | <span data-ttu-id="ca34e-590">En fazla paket boyutu bu uç nokta, bu yapılandırma seçildiğinde gönderme veya alma özelliğine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-590">Maximum packet size this endpoint is capable of sending or receiving when this configuration is selected.</span></span><br /><span data-ttu-id="ca34e-591">Zaman aralıklı uç noktalar için bu değer, (mikro) çerçeve veri yükleri için gereken zamanlamaya göre veri yolu ayırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-591">For isochronous endpoints, this value is used to reserve the bus time in the schedule, required for the per-(micro)frame data payloads.</span></span> <span data-ttu-id="ca34e-592">Kanal, sürekli olarak, ayrılmış olandan daha az bant genişliği kullanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-592">The pipe may, on an ongoing basis, actually use less bandwidth than that reserved.</span></span> <span data-ttu-id="ca34e-593">Cihaz, gerekirse, normal, USB olmayan tanımlı mekanizmalar aracılığıyla kullanılan gerçek bant genişliğini raporlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-593">The device reports, if necessary, the actual bandwidth used via its normal, non-USB defined mechanisms.</span></span><br /><span data-ttu-id="ca34e-594">Tüm uç noktalar için bit 10.. 0, en fazla paket boyutunu (bayt olarak) belirtir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-594">For all endpoints, bits 10..0 specify the maximum packet size (in bytes).</span></span><br /><span data-ttu-id="ca34e-595">Yüksek hızlı zaman aralıklı ve kesme uç noktaları için:</span><span class="sxs-lookup"><span data-stu-id="ca34e-595">For high-speed isochronous and interrupt endpoints:</span></span><br /><span data-ttu-id="ca34e-596">BITS 12.. 11 mikro çerçeve başına ek işlem fırsatları sayısını belirtin: 00 = yok (mikro çerçeve başına 1 işlem)</span><span class="sxs-lookup"><span data-stu-id="ca34e-596">Bits 12..11 specify the number of additional transaction opportunities per microframe: 00 = None (1 transaction per microframe)</span></span><br /><span data-ttu-id="ca34e-597">01 = 1 ek (mikro çerçeve başına 2)</span><span class="sxs-lookup"><span data-stu-id="ca34e-597">01 = 1 additional (2 per microframe)</span></span><br /><span data-ttu-id="ca34e-598">10 = 2 ek (mikro çerçeve başına 3)</span><span class="sxs-lookup"><span data-stu-id="ca34e-598">10 = 2 additional (3 per microframe)</span></span><br /><span data-ttu-id="ca34e-599">11 = ayrılmış</span><span class="sxs-lookup"><span data-stu-id="ca34e-599">11 = Reserved</span></span><br /><span data-ttu-id="ca34e-600">Bit 15.. 13 ayrılmıştır ve sıfıra ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-600">Bits 15..13 are reserved and must be set to zero.</span></span> |
| <span data-ttu-id="ca34e-601">6</span><span class="sxs-lookup"><span data-stu-id="ca34e-601">6</span></span>      | <span data-ttu-id="ca34e-602">Bınterval</span><span class="sxs-lookup"><span data-stu-id="ca34e-602">bInterval</span></span>        | <span data-ttu-id="ca34e-603">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-603">1</span></span>     | <span data-ttu-id="ca34e-604">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-604">Number</span></span>   | <span data-ttu-id="ca34e-605">Veri aktarımları için yoklama uç noktası için sayı aralığı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-605">Number interval for polling endpoint for data transfers.</span></span><br /><span data-ttu-id="ca34e-606">Cihaz işletim hızına (yani, 1 milisaniyelik veya 125 μs birimi) bağlı olarak çerçeveler veya mikro çerçeveler olarak ifade edilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-606">Expressed in frames or microframes depending on the device operating speed (i.e., either 1 millisecond or 125 µs units).</span></span><br /><span data-ttu-id="ca34e-607">Tam/üst aralıklı zaman aralıklı uç noktalar için bu değer 1 ile 16 arasında olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-607">For full-/high-speed isochronous endpoints, this value must be in the range from 1 to 16.</span></span> <span data-ttu-id="ca34e-608">**Bınterval** , 2bınterval-1 değerinin üs değeri olarak kullanılır; Örneğin, bir **Bınterval** 4, 8 (24-1) süresini gösterir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-608">The **bInterval** is used as the exponent for a 2bInterval-1 value; e.g., a **bInterval** 4 means a period of 8 (24-1).</span></span><br /><span data-ttu-id="ca34e-609">Tam/Low-Speed kesme uç noktaları için bu alanın değeri 1 ile 255 arasında olabilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-609">For full-/low-speed interrupt endpoints, the value of this field may be from 1 to 255.</span></span><br /><span data-ttu-id="ca34e-610">Yüksek hızlı kesme uç noktaları için **Bınterval** , bir 2bınterval-1 değeri için üs olarak kullanılır; Örneğin, bir **Bınterval** 4, 8 (24-1) süresini gösterir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-610">For high-speed interrupt endpoints, the **bInterval** is used as the exponent for a 2bInterval-1 value; e.g., a **bInterval** 4 means a period of 8 (24-1).</span></span> <span data-ttu-id="ca34e-611">Bu değer 1 ile 16 arasında olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-611">This value must be from 1 to 16.</span></span><br /><span data-ttu-id="ca34e-612">Yüksek hızda toplu/denetim noktaları için **Bınterval** , uç noktanın en fazla nak oranını belirtir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-612">For high-speed bulk/control OUT endpoints, the **bInterval** specify the maximum NAK rate of the endpoint.</span></span> <span data-ttu-id="ca34e-613">0 değeri, uç noktayı hiçbir şekilde gösterir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-613">A value of 0 indicates the endpoint never NAKs.</span></span> <span data-ttu-id="ca34e-614">Diğer değerler, her bir **bin** mikro kare için en fazla bir nak gösterir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-614">Other values indicate at most one NAK each **bInterval** of microframes.</span></span><br /><span data-ttu-id="ca34e-615">Bu değer 0 ile 255 arasında olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-615">This value must be in the range from 0 to 255.</span></span> |

<span data-ttu-id="ca34e-616">USBX, bir USB uç nokta tanımlayıcısını aşağıdaki şekilde tanımlar:</span><span class="sxs-lookup"><span data-stu-id="ca34e-616">USBX defines a USB endpoint descriptor as follows:</span></span>

```c
typedef struct UX_ENDPOINT_DESCRIPTOR_STRUCT
{
    UINT bLength;
    UINT bDescriptorType;
    UINT bEndpointAddress;
    UINT bmAttributes;
    USHORT wMaxPacketSize;
    UINT bInterval;
} UX_ENDPOINT_DESCRIPTOR;
```

<span data-ttu-id="ca34e-617">USB uç nokta tanımlayıcısı, aşağıdaki gibi açıklanan bir uç nokta kapsayıcısının parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-617">The USB endpoint descriptor is part of an endpoint container, which is described as follows.</span></span>

```c
typedef struct UX_ENDPOINT_STRUCT {
    ULONG    ux_endpoint_handle;
    ULONG    ux_endpoint_state;
    VOID    *ux_endpoint_ed;
    struct UX_ENDPOINT_DESCRIPTOR_STRUCT    ux_endpoint_descriptor;
    struct UX_ENDPOINT_STRUCT    *ux_endpoint_next_endpoint;
    struct UX_INTERFACE_STRUCT    *ux_endpoint_interface;
    struct UX_DEVICE_STRUCT    *ux_endpoint_device;
    struct UX_TRANSFER REQUEST_STRUCT    ux_endpoint_transfer request;
} UX_ENDPOINT;

```

- <span data-ttu-id="ca34e-618">**ux_endpoint_handle**: uç noktanın tanıtıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-618">**ux_endpoint_handle**: Handle of the endpoint.</span></span> <span data-ttu-id="ca34e-619">Bu, genellikle uç nokta için bu yapının örneğinin adresidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-619">This is typically the address of the instance of this structure for the endpoint.</span></span>
- <span data-ttu-id="ca34e-620">**ux_endpoint_state**: uç noktanın durumu.</span><span class="sxs-lookup"><span data-stu-id="ca34e-620">**ux_endpoint_state**: State of the endpoint.</span></span>
- <span data-ttu-id="ca34e-621">**ux_endpoint_ed**: konak denetleyicisi katmanında fiziksel uç noktaya işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-621">**ux_endpoint_ed**: Pointer to the physical endpoint at the host controller layer.</span></span>
- <span data-ttu-id="ca34e-622">**ux_endpoint_descriptor**: USB uç nokta tanımlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ca34e-622">**ux_endpoint_descriptor**: USB endpoint descriptor.</span></span>
- <span data-ttu-id="ca34e-623">**ux_endpoint_next_endpoint**: aynı arabirime ait olan bir sonraki uç noktaya işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-623">**ux_endpoint_next_endpoint**: Pointer to the next endpoint that belongs to the same interface.</span></span>
- <span data-ttu-id="ca34e-624">**ux_endpoint_interface**: Bu uç nokta arabirimine sahip olan arabirime yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-624">**ux_endpoint_interface**: Pointer to the interface that owns this endpoint interface.</span></span>
- <span data-ttu-id="ca34e-625">**ux_endpoint_device**: ana cihaz kapsayıcısının işaretçisi.</span><span class="sxs-lookup"><span data-stu-id="ca34e-625">**ux_endpoint_device**: Pointer to the parent device container.</span></span>
- <span data-ttu-id="ca34e-626">**ux_endpoint_transfer isteği**: cihazdan/cihazdan veri göndermek/almak için kullanılan USB aktarım isteği.</span><span class="sxs-lookup"><span data-stu-id="ca34e-626">**ux_endpoint_transfer request**: USB transfer request used to send/receive data from to/from the device.</span></span>

### <a name="string-descriptors"></a><span data-ttu-id="ca34e-627">Dize tanımlayıcıları</span><span class="sxs-lookup"><span data-stu-id="ca34e-627">String descriptors</span></span>

<span data-ttu-id="ca34e-628">Dize tanımlayıcıları isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-628">String descriptors are optional.</span></span> <span data-ttu-id="ca34e-629">Bir cihaz dize tanımlayıcılarını desteklemiyorsa, cihaz, yapılandırma ve arabirim tanımlayıcılarının içindeki dize tanımlayıcılarının tüm başvuruları sıfıra sıfırlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-629">If a device does not support string descriptors, all references to string descriptors within device, configuration, and interface descriptors must be reset to zero.</span></span>

<span data-ttu-id="ca34e-630">Dize tanımlayıcıları UNICODE kodlaması kullanır ve bu sayede birkaç karakter kümesi desteğine izin verir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-630">String descriptors use UNICODE encoding, thus allowing the support for several character sets.</span></span> <span data-ttu-id="ca34e-631">Bir USB cihazdaki dizeler birden çok dili destekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-631">The strings in a USB device may support multiple languages.</span></span> <span data-ttu-id="ca34e-632">Bir dize tanımlayıcısı istenirken, istek sahibi istenen dili USB-IF tarafından tanımlanan bir dil KIMLIĞI kullanarak belirtir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-632">When requesting a string descriptor, the requester specifies the desired language using a language ID defined by the USB-IF.</span></span> <span data-ttu-id="ca34e-633">Şu anda tanımlı USB LangID listesi, USBX ekinde bulunabilir??.</span><span class="sxs-lookup"><span data-stu-id="ca34e-633">The list of currently defined USB LANGIDs can be found in the USBX appendix ??.</span></span>
<span data-ttu-id="ca34e-634">Tüm diller için dize dizini sıfır, cihaz tarafından desteklenen iki baytlık bir GID kodlarından oluşan bir diziyi içeren bir dize tanımlayıcısı döndürür.</span><span class="sxs-lookup"><span data-stu-id="ca34e-634">String index zero for all languages returns a string descriptor that contains an array of two-byte LANGID codes supported by the device.</span></span> <span data-ttu-id="ca34e-635">UNICODE dizesinin 0 sonlandırılmadığından not edilmelidir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-635">It should be noted that the UNICODE string is not 0 terminated.</span></span> <span data-ttu-id="ca34e-636">Bunun yerine, dize dizisinin boyutu, tanımlayıcının ilk baytında bulunan dizinin boyutundan iki çıkartılacak şekilde hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-636">Instead, the size of the string array is computed by subtracting two from the size of the array contained in the first byte of the descriptor.</span></span>

<span data-ttu-id="ca34e-637">USB dize tanımlayıcısı 0, aşağıdaki gibi kodlanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-637">The USB string descriptor 0 is encoded as follows.</span></span>

| <span data-ttu-id="ca34e-638">Uzaklık</span><span class="sxs-lookup"><span data-stu-id="ca34e-638">Offset</span></span> | <span data-ttu-id="ca34e-639">Alan</span><span class="sxs-lookup"><span data-stu-id="ca34e-639">Field</span></span>           | <span data-ttu-id="ca34e-640">Boyut</span><span class="sxs-lookup"><span data-stu-id="ca34e-640">Size</span></span> | <span data-ttu-id="ca34e-641">Değer</span><span class="sxs-lookup"><span data-stu-id="ca34e-641">Value</span></span>    | <span data-ttu-id="ca34e-642">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ca34e-642">Description</span></span>                      |
| ------ | --------------- | ---- | -------- | -------------------------------- |
| <span data-ttu-id="ca34e-643">0</span><span class="sxs-lookup"><span data-stu-id="ca34e-643">0</span></span>      | <span data-ttu-id="ca34e-644">bLength</span><span class="sxs-lookup"><span data-stu-id="ca34e-644">bLength</span></span>         | <span data-ttu-id="ca34e-645">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-645">1</span></span>    | <span data-ttu-id="ca34e-646">N + 2</span><span class="sxs-lookup"><span data-stu-id="ca34e-646">N+2</span></span>      | <span data-ttu-id="ca34e-647">Bu tanımlayıcının bayt cinsinden boyutu</span><span class="sxs-lookup"><span data-stu-id="ca34e-647">Size of this descriptor in bytes</span></span> |
| <span data-ttu-id="ca34e-648">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-648">1</span></span>      | <span data-ttu-id="ca34e-649">bDescriptorType</span><span class="sxs-lookup"><span data-stu-id="ca34e-649">bDescriptorType</span></span> | <span data-ttu-id="ca34e-650">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-650">1</span></span>    | <span data-ttu-id="ca34e-651">Sabit</span><span class="sxs-lookup"><span data-stu-id="ca34e-651">Constant</span></span> | <span data-ttu-id="ca34e-652">DIZE tanımlayıcı türü</span><span class="sxs-lookup"><span data-stu-id="ca34e-652">STRING Descriptor Type</span></span>           |
| <span data-ttu-id="ca34e-653">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-653">2</span></span>      | <span data-ttu-id="ca34e-654">wLANGID [0]</span><span class="sxs-lookup"><span data-stu-id="ca34e-654">wLANGID[0]</span></span>      | <span data-ttu-id="ca34e-655">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-655">2</span></span>    | <span data-ttu-id="ca34e-656">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-656">Number</span></span>   | <span data-ttu-id="ca34e-657">LANGıD kodu 0</span><span class="sxs-lookup"><span data-stu-id="ca34e-657">LANGID code 0</span></span>                    |
| <span data-ttu-id="ca34e-658">...</span><span class="sxs-lookup"><span data-stu-id="ca34e-658">...</span></span>    | <span data-ttu-id="ca34e-659">...]</span><span class="sxs-lookup"><span data-stu-id="ca34e-659">...]</span></span>            | <span data-ttu-id="ca34e-660">...</span><span class="sxs-lookup"><span data-stu-id="ca34e-660">...</span></span>  | <span data-ttu-id="ca34e-661">...</span><span class="sxs-lookup"><span data-stu-id="ca34e-661">...</span></span>      | <span data-ttu-id="ca34e-662">...</span><span class="sxs-lookup"><span data-stu-id="ca34e-662">...</span></span>                              |
| <span data-ttu-id="ca34e-663">N</span><span class="sxs-lookup"><span data-stu-id="ca34e-663">N</span></span>      | <span data-ttu-id="ca34e-664">wLANGID [n]</span><span class="sxs-lookup"><span data-stu-id="ca34e-664">wLANGID[n]</span></span>      | <span data-ttu-id="ca34e-665">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-665">2</span></span>    | <span data-ttu-id="ca34e-666">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-666">Number</span></span>   | <span data-ttu-id="ca34e-667">LANGıD kodu n</span><span class="sxs-lookup"><span data-stu-id="ca34e-667">LANGID code n</span></span>                    |

<span data-ttu-id="ca34e-668">Diğer USB dize tanımlayıcıları aşağıdaki şekilde kodlanır.</span><span class="sxs-lookup"><span data-stu-id="ca34e-668">Other USB string descriptors are encoded as follows.</span></span>

| <span data-ttu-id="ca34e-669">Uzaklık</span><span class="sxs-lookup"><span data-stu-id="ca34e-669">Offset</span></span> | <span data-ttu-id="ca34e-670">Alan</span><span class="sxs-lookup"><span data-stu-id="ca34e-670">Field</span></span>           | <span data-ttu-id="ca34e-671">Boyut</span><span class="sxs-lookup"><span data-stu-id="ca34e-671">Size</span></span> | <span data-ttu-id="ca34e-672">Değer</span><span class="sxs-lookup"><span data-stu-id="ca34e-672">Value</span></span>    | <span data-ttu-id="ca34e-673">Açıklama</span><span class="sxs-lookup"><span data-stu-id="ca34e-673">Description</span></span>                      |
| ------ | --------------- | ---- | -------- | -------------------------------- |
| <span data-ttu-id="ca34e-674">0</span><span class="sxs-lookup"><span data-stu-id="ca34e-674">0</span></span>      | <span data-ttu-id="ca34e-675">bLength</span><span class="sxs-lookup"><span data-stu-id="ca34e-675">bLength</span></span>         | <span data-ttu-id="ca34e-676">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-676">1</span></span>    | <span data-ttu-id="ca34e-677">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-677">Number</span></span>   | <span data-ttu-id="ca34e-678">Bu tanımlayıcının bayt cinsinden boyutu</span><span class="sxs-lookup"><span data-stu-id="ca34e-678">Size of this descriptor in bytes</span></span> |
| <span data-ttu-id="ca34e-679">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-679">1</span></span>      | <span data-ttu-id="ca34e-680">bDescriptorType</span><span class="sxs-lookup"><span data-stu-id="ca34e-680">bDescriptorType</span></span> | <span data-ttu-id="ca34e-681">1</span><span class="sxs-lookup"><span data-stu-id="ca34e-681">1</span></span>    | <span data-ttu-id="ca34e-682">Sabit</span><span class="sxs-lookup"><span data-stu-id="ca34e-682">Constant</span></span> | <span data-ttu-id="ca34e-683">DIZE tanımlayıcı türü</span><span class="sxs-lookup"><span data-stu-id="ca34e-683">STRING Descriptor Type</span></span>           |
| <span data-ttu-id="ca34e-684">2</span><span class="sxs-lookup"><span data-stu-id="ca34e-684">2</span></span>      | <span data-ttu-id="ca34e-685">bString</span><span class="sxs-lookup"><span data-stu-id="ca34e-685">bString</span></span>         | <span data-ttu-id="ca34e-686">n</span><span class="sxs-lookup"><span data-stu-id="ca34e-686">n</span></span>    | <span data-ttu-id="ca34e-687">Sayı</span><span class="sxs-lookup"><span data-stu-id="ca34e-687">Number</span></span>   | <span data-ttu-id="ca34e-688">UNICODE kodlamalı dize</span><span class="sxs-lookup"><span data-stu-id="ca34e-688">UNICODE encoded string</span></span>           |

<span data-ttu-id="ca34e-689">USBX, sıfır olmayan uzunlukta bir USB dize tanımlayıcısını aşağıdaki şekilde tanımlar:</span><span class="sxs-lookup"><span data-stu-id="ca34e-689">USBX defines a non-zero length USB string descriptor as follows:</span></span>

```c
typedef struct UX_STRING_DESCRIPTOR_STRUCT
{
    UINT bLength;
    UINT bDescriptorType;
    USHORT bString[1];
} UX_STRING_DESCRIPTOR;
```

### <a name="functional-descriptors"></a><span data-ttu-id="ca34e-690">İşlevsel tanımlayıcılar</span><span class="sxs-lookup"><span data-stu-id="ca34e-690">Functional Descriptors</span></span>

<span data-ttu-id="ca34e-691">İşlevsel tanımlayıcılar, sınıfa özgü tanımlayıcılar olarak da bilinir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-691">Functional descriptors are also known as class-specific descriptors.</span></span> <span data-ttu-id="ca34e-692">Normalde genel tanımlayıcılarla aynı temel yapıları kullanır ve ek bilgilerin sınıf tarafından kullanılabilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-692">They normally use the same basic structures as generic descriptors and allow for additional information to be available to the class.</span></span> <span data-ttu-id="ca34e-693">Örneğin, USB ses hoparlörü söz konusu olduğunda, sınıfa özgü tanımlayıcılar, desteklenen ses frekansı türünün her alternatif ayarı için ses sınıfının almasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-693">For example, in the case of the USB audio speaker, class specific descriptors allow the audio class to retrieve for each alternate setting the type of audio frequency supported.</span></span>

### <a name="usbx-device-descriptor-framework-in-memory"></a><span data-ttu-id="ca34e-694">Bellek içinde USBX cihaz tanımlayıcısı çerçevesi</span><span class="sxs-lookup"><span data-stu-id="ca34e-694">USBX Device Descriptor Framework in Memory</span></span>

<span data-ttu-id="ca34e-695">USBX, bellek ve işlev tanımlayıcıları hariç tüm tanımlayıcılara sahip olan tüm cihaz tanımlayıcılarını tutar.</span><span class="sxs-lookup"><span data-stu-id="ca34e-695">USBX maintains most device descriptors in memory, that is, all descriptors except the string and functional descriptors.</span></span> <span data-ttu-id="ca34e-696">Aşağıdaki diyagramda bu tanımlayıcılarının nasıl depolandığı ve ilişkili olduğu gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="ca34e-696">The following diagram shows how these descriptors are stored and related.</span></span>

![Bellek içinde USBX cihaz tanımlayıcısı çerçevesi](./media/usbx-host-stack/usbx-device-descriptor-framework.png)
