---
title: Bölüm 1-Azure RTOS NetX Duo DHCPv6 sunucusuna giriş
description: Bu belgede NetX Duo DHCPv6 sunucusunun, DHCPv6 Istemcilerine IPv6 adresleri nasıl atayacağı ayrıntılı olarak açıklanmaktadır.
author: philmea
ms.author: philmea
ms.date: 06/08/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 6cf7baa91b1804876b97b1d75d1872d1120ad028
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826044"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo-dhcpv6-server"></a><span data-ttu-id="42e35-103">Bölüm 1-Azure RTOS NetX Duo DHCPv6 sunucusuna giriş</span><span class="sxs-lookup"><span data-stu-id="42e35-103">Chapter 1 - Introduction to Azure RTOS NetX Duo DHCPv6 server</span></span>

<span data-ttu-id="42e35-104">IPv6 ağlarında, DHCPv6is Istemcilerinin IPv6 adreslerini alması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-104">In IPv6 networks, DHCPv6is required for Clients to obtain IPv6 addresses.</span></span> <span data-ttu-id="42e35-105">IPv4 adresi sunmadığından, IPv4in ile sınırlı olan DHCP 'yi değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="42e35-105">It does not replace DHCP which is limited to IPv4in that it does not offer IPv4 addresses.</span></span> <span data-ttu-id="42e35-106">DHCPv6, DHCP ve birçok geliştirmelere benzer özelliklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="42e35-106">DHCPv6 has similar features to DHCP as well as many enhancements.</span></span> <span data-ttu-id="42e35-107">IPv6 durum bilgisi olmayan adres otomatik yapılandırması olmayan veya kullanmayan bir Istemci, DHCPv6 sunucusundan benzersiz bir genel IPv6 adresi atamak için DHCPv6 kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-107">A Client who does not or cannot use IPv6 stateless address auto-configuration can use DHCPv6 to be assigned a unique global IPv6 address from a DHCPv6 Server.</span></span>

<span data-ttu-id="42e35-108">NetX Duo, IPv6 ağ tabanlı uygulamaları ve DHCPv6 gibi ağ protokollerini destekleyecek şekilde geliştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="42e35-108">NetX Duo was developed to support IPv6 network based applications and network protocols such as DHCPv6.</span></span> <span data-ttu-id="42e35-109">Bu belgede NetX Duo DHCPv6 sunucusunun, DHCPv6 Istemcilerine IPv6 adresleri nasıl atayacağı ayrıntılı olarak açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="42e35-109">This document will explain in detail how the NetX Duo DHCPv6 Server assigns IPv6 addresses to DHCPv6 Clients.</span></span>

## <a name="dhcpv6-communication"></a><span data-ttu-id="42e35-110">DHCPv6 Iletişimi</span><span class="sxs-lookup"><span data-stu-id="42e35-110">DHCPv6 Communication</span></span>

<span data-ttu-id="42e35-111">**DHCPv6 Ileti yapısı**</span><span class="sxs-lookup"><span data-stu-id="42e35-111">**DHCPv6 Message structure**</span></span>

<span data-ttu-id="42e35-112">İleti içeriği temelde bir ileti üst bilgisi ve ardından bir veya daha fazla (genellikle daha fazla) seçenek bloğu gelir.</span><span class="sxs-lookup"><span data-stu-id="42e35-112">Message content is basically a message header followed by one or more (usually more) option blocks.</span></span> <span data-ttu-id="42e35-113">Aşağıda, her bloğun bir baytı temsil ettiği temel yapı yer verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="42e35-113">Below is the basic structure where each block represents one byte:</span></span>

![DHCPv6 iletisini ve seçenek blok yapısını gösteren diyagram.](media/image2.jpg)

<span data-ttu-id="42e35-115">**Şekil 1. DHCPv6 iletisi ve seçenek blok yapısı**</span><span class="sxs-lookup"><span data-stu-id="42e35-115">**Figure 1. DHCPv6 message and option block structure**</span></span>

<span data-ttu-id="42e35-116">1 baytlık Msg-Type alanı, DHCPv6 iletisi türünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="42e35-116">The 1-byte Msg-Type field indicates the type of DHCPv6 message.</span></span> <span data-ttu-id="42e35-117">3 baytlık Işlem KIMLIĞI alanı Istemci tarafından ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="42e35-117">The 3-byte Transaction-ID field is set by the Client.</span></span> <span data-ttu-id="42e35-118">Herhangi bir karakter dizisi olabilir, ancak sunucuya her Istemci iletisi için benzersiz olmalıdır (Istemci tarafından gönderilen yinelenen iletiler arasında sunulur).</span><span class="sxs-lookup"><span data-stu-id="42e35-118">It can by any sequence of characters but must be unique for each Client message to the Server (conserved across duplicate messages sent by the Client).</span></span> <span data-ttu-id="42e35-119">Sunucu, istemcinin geciktirilen veya ağda bırakılan paketlerin durumunda sunucu iletilerini eşleşmesini sağlamak için Istemciye her bir yanıt için bu Işlem KIMLIĞINI kullanır.</span><span class="sxs-lookup"><span data-stu-id="42e35-119">The Server uses that Transaction-ID for each response to the Client to enable the Client to match up Server messages in the event of packets that are delayed or dropped on the network.</span></span> <span data-ttu-id="42e35-120">Işlem KIMLIĞI alanını takip eden bir veya daha fazla DHCPv6 seçeneği, Istemcinin ne istediğini göstermek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="42e35-120">Following the Transaction-ID field, are one or more DHCPv6 options used to indicate what the Client is requesting.</span></span>

<span data-ttu-id="42e35-121">DHCPv6 seçenek yapısı, bir seçenek kodundan oluşur, uzunluk veya kod alanlarını içermeyen bir seçenek uzunluğu alanıdır ve son olarak, Istemcinin istediği veriler için bir veya daha fazla 2 baytlık seçenek kodu alanı olan seçenek verileri.</span><span class="sxs-lookup"><span data-stu-id="42e35-121">The DHCPv6 option structure is composed of an option code, an option length field, which does not include the length or code fields, and finally the option data itself which is one or more 2 byte option code fields for the data the Client is requesting.</span></span>

<span data-ttu-id="42e35-122">Bazı seçenek blokları iç içe seçeneklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="42e35-122">Some option blocks have nested options.</span></span> <span data-ttu-id="42e35-123">Örneğin, *geçici olmayan adres (IANA) seçeneği için bir kimlik ilişkilendirmesi* , IPv6 adresleri istemek için bir veya daha fazla *KIMLIK ilişkilendirmesi (IA)* seçeneği içerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-123">For example, an *Identity Association for Non Temporary Address (IANA)* option contains one or more *Identity Association (IA)* options to request IPv6 addresses.</span></span> <span data-ttu-id="42e35-124">Sunucu yanıt iletisinde döndürülen *IANA* seçeneği, sunucu tarafından verilen IPv6 adresi ve kira süreleriyle aynı *IA* seçeneğini ve istemci adresi isteğinde bir hata olup olmadığını belirten bir *durum* seçeneğini içerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-124">The *IANA* option returned in the Server Reply message contains the same *IA* option(s) with the IPv6 address and lease times granted by the Server, as well as a *Status* option indicating if there is an error with the Client address request.</span></span>

<span data-ttu-id="42e35-125">Tüm seçenek bloklarının listesi ve açıklamaları **Ek A**' da verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="42e35-125">A list of all option blocks and their description is provided in **Appendix A**.</span></span>

<span data-ttu-id="42e35-126">**DHCPv6 Ileti türleri**</span><span class="sxs-lookup"><span data-stu-id="42e35-126">**DHCPv6 Message Types**</span></span>

<span data-ttu-id="42e35-127">DHCPv6, DHCP işlevlerini önemli ölçüde iyileştirse de DHCP ile aynı sayıda ileti kullanır ve DHCP ile aynı satıcı seçeneklerini destekler.</span><span class="sxs-lookup"><span data-stu-id="42e35-127">Although DHCPv6 greatly enhances the functionality of DHCP, it uses the same number of messages as DHCP and supports the same vendor options as DHCP.</span></span> <span data-ttu-id="42e35-128">DHCPv6 iletilerinin listesi aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="42e35-128">The list of DHCPv6 messages are as follows:</span></span>

- <span data-ttu-id="42e35-129">ISTEME (1) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-129">SOLICT (1) (sent by Client)</span></span>
- <span data-ttu-id="42e35-130">TANıTMA (2) (sunucu tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-130">ADVERTISE (2) (sent by Server)</span></span>
- <span data-ttu-id="42e35-131">Istek (3) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-131">REQUEST (3) (sent by Client)</span></span>
- <span data-ttu-id="42e35-132">Yanıt (7) (sunucu tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-132">REPLY (7) (sent by Server)</span></span>
- <span data-ttu-id="42e35-133">Onayla (4) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-133">CONFIRM (4) (sent by Client)</span></span>
- <span data-ttu-id="42e35-134">YENILE (5) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-134">RENEW (5) (sent by Client)</span></span>
- <span data-ttu-id="42e35-135">Yeniden bağlama (6) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-135">REBIND (6) (sent by Client)</span></span>
- <span data-ttu-id="42e35-136">Yayın (8) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-136">RELEASE (8) (sent by Client)</span></span>
- <span data-ttu-id="42e35-137">Reddet (9) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-137">DECLINE (9) (sent by Client)</span></span>
- <span data-ttu-id="42e35-138">INFORM_REQUEST (11) (Istemci tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-138">INFORM_REQUEST (11) (sent by Client)</span></span>
- <span data-ttu-id="42e35-139">YENIDEN YAPıLANDıR \* (10) (sunucu tarafından gönderilen)</span><span class="sxs-lookup"><span data-stu-id="42e35-139">RECONFIGURE\* (10) (sent by Server)</span></span>

<span data-ttu-id="42e35-140">\* YENIDEN yapılandırın NetX Duo DHCPv6 sunucusu tarafından desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="42e35-140">\*RECONFIGURE is not supported by the NetX Duo DHCPv6 Server.</span></span>

<span data-ttu-id="42e35-141">Parantez içinde eşdeğer DHCPv4 ileti türü ile temel DHCPv6 istek sırası aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="42e35-141">The basic DHCPv6 request sequence, with the equivalent DHCPv4 message type in parenthesis, is as follows:</span></span>

<span data-ttu-id="42e35-142">İstemci \***istem** _ (_Discovery *) sunucu **tanıtımı** (* teklif *) istemci **isteği** (* istek *) sunucu **yanıtı** (* DHCPACK \*)</span><span class="sxs-lookup"><span data-stu-id="42e35-142">Client ***Solicit** _ (_Discovery *) Server **Advertisement** (* Offer *) Client **Request** (* Request *) Server **Reply** (* DHCPAck*)</span></span>

<span data-ttu-id="42e35-143">İstemci **yenileme**(aynı) sunucu **yanıtı** (*DHCPACK*)</span><span class="sxs-lookup"><span data-stu-id="42e35-143">Client **Renew**(same) Server **Reply** (*DHCPAck*)</span></span>

## <a name="dhcpv6-message-validation"></a><span data-ttu-id="42e35-144">DHCPv6 Ileti doğrulaması</span><span class="sxs-lookup"><span data-stu-id="42e35-144">DHCPv6 Message Validation</span></span>

<span data-ttu-id="42e35-145">İşlem KIMLIĞI: Istemci, sunucusuna gönderdiği her ileti için bir işlem KIMLIĞI üretmelidir.</span><span class="sxs-lookup"><span data-stu-id="42e35-145">Transaction ID: The Client must generate a transaction ID for each message it sends to the Server.</span></span> <span data-ttu-id="42e35-146">DHCPv6 sunucusu, bu işlem KIMLIĞIYLE eşleşmeyen Istemciden gelen tüm iletileri reddeder.</span><span class="sxs-lookup"><span data-stu-id="42e35-146">The DHCPv6 Server will reject any message from the Client not matching this transaction ID.</span></span> <span data-ttu-id="42e35-147">Sırasıyla sunucu, yanıtlarındaki aynı işlem KIMLIĞINI Istemciye geri kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-147">The Server in turn must use the same transaction ID in its responses back to the Client.</span></span>

<span data-ttu-id="42e35-148">**DHCPv6 benzersiz tanımlayıcıları (Duıds)**</span><span class="sxs-lookup"><span data-stu-id="42e35-148">**DHCPv6 unique Identifiers (DUIDs)**</span></span>

<span data-ttu-id="42e35-149">Tüm sunucu iletileri Ayrıca her iletiye DHCPv6 benzersiz tanımlayıcısını (DUıD) içermelidir veya DHCPv6 Istemcisinin iletiyi kabul etmemelidir.</span><span class="sxs-lookup"><span data-stu-id="42e35-149">All Server messages must also include a DHCPv6 unique Identifier (DUID) in each message or the DHCPv6 Client should not accept the message.</span></span> <span data-ttu-id="42e35-150">Bağlantı Katmanı (LL) DUıD, istemci MAC adresini, donanım türünü ve DUıD türünü içeren bir denetim bloğudur.</span><span class="sxs-lookup"><span data-stu-id="42e35-150">A Link Layer (LL) DUID is a control block containing client MAC address, hardware type, and DUID type.</span></span> <span data-ttu-id="42e35-151">Bir bağlantı katmanı saati (LLT) DUıD ek olarak, DUıD 'nin konak ağı üzerinde benzersiz olmaması ihtimalini azaltan bir zaman alanı içerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-151">A Link Layer Time (LLT) DUID additionally contains a time field which decreases the chances the DUID will not be unique on the host network.</span></span> <span data-ttu-id="42e35-152">Bu nedenle, RFC 3315, LL Duıds üzerinden LLT Duıds önerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-152">For that reason RFC 3315 recommends LLT DUIDs over LL DUIDs.</span></span> <span data-ttu-id="42e35-153">Ana bilgisayar uygulaması kendi benzersiz zaman değerini oluşturmadıysanız NetX Duo DHCPv6 varsayılan bir değer sağlar.</span><span class="sxs-lookup"><span data-stu-id="42e35-153">If the host application does not create its own unique time value, NetX Duo DHCPv6 will provide a default one.</span></span> <span data-ttu-id="42e35-154">Üçüncü DUıD türü, kayıtlı bir kurumsal KIMLIĞI (ıANA ile kayıtlı olduğu gibi) ve tür ve uzunluktadır olan özel verileri (örneğin, bellek boyutu, diğer donanım yapılandırması işletim sistemi türü) içeren bir kurumsal (satıcı tarafından atanan) DUıD türüdür.</span><span class="sxs-lookup"><span data-stu-id="42e35-154">The third type of DUID is the Enterprise (Vendor assigned) DUID which contains a registered Enterprise ID (as in registered with IANA) and private data that is variable in type and length e.g. based on memory size, operating system type of other hardware configuration.</span></span> <span data-ttu-id="42e35-155">Sunucu satıcısı atanmış ve özel KIMLIK değerlerini ayarlamak için bu belgede başka bir yerde yapılandırma seçenekleri listesine bakın.</span><span class="sxs-lookup"><span data-stu-id="42e35-155">See the list of Configuration Options elsewhere in this document for setting up the Server vendor assigned and private ID values.</span></span>

<span data-ttu-id="42e35-156">Istemci Ayrıca, INFORM_REQUEST hariç olmak üzere, içindeki DUıD 'sini sunucusuna da dahil etmelidir, aksi durumda sunucu bunları reddeder.</span><span class="sxs-lookup"><span data-stu-id="42e35-156">The Client must also include its DUID in its messages to the Server except for INFORM_REQUEST, or the Server will reject them.</span></span>

<span data-ttu-id="42e35-157">**DHCPv6 Istemci sunucusu oturumları**</span><span class="sxs-lookup"><span data-stu-id="42e35-157">**DHCPv6 Client Server Sessions**</span></span>

<span data-ttu-id="42e35-158">DHCPv6 Istemcileri ve sunucuları UDP üzerinden iletiler değiş tokuş.</span><span class="sxs-lookup"><span data-stu-id="42e35-158">DHCPv6 Clients and Servers exchange messages over UDP.</span></span> <span data-ttu-id="42e35-159">Istemci, DHCPv6 iletilerini göndermek ve almak için 546 bağlantı noktasını kullanır ve sunucu 547 bağlantı noktasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="42e35-159">The Client uses port 546 to send and receive DHCPv6 messages and the Server uses port 547.</span></span> <span data-ttu-id="42e35-160">Istemci başlangıçta, DHCPv6 iletilerini iletmek ve almak için bağlantı yerel adresini kullanır.</span><span class="sxs-lookup"><span data-stu-id="42e35-160">The Client initially uses its link-local address for transmitting and receiving DHCPv6 messages.</span></span> <span data-ttu-id="42e35-161">*All_DHCP_Relay_Agents_and_Servers* çok noktaya yayın adresi *(FF02:: 01:02)* olarak bilinen ayrılmış, bağlantı kapsamlı çok noktaya yayın adresini kullanarak tüm iletileri DHCPv6 sunucusuna gönderir.</span><span class="sxs-lookup"><span data-stu-id="42e35-161">It sends all messages to DHCPv6 servers using a reserved, link-scoped multicast address known as the *All_DHCP_Relay_Agents_and_Servers* multicast address *(FF02::01:02)*.</span></span>

<span data-ttu-id="42e35-162">ForIPv6 adres atama istekleri, DHCPv6 sunucusu *All_DHCP_Relay_Agents_and_Servers* adresine gönderilen *istem* iletilerini dinler.</span><span class="sxs-lookup"><span data-stu-id="42e35-162">ForIPv6 address assignment requests, the DHCPv6 Server listens for *Solicit* messages sent to the *All_DHCP_Relay_Agents_and_Servers* address.</span></span> <span data-ttu-id="42e35-163">*İstek Isteğinde istemci* , belirli bir IPv6 adresi atamasını Isteyebilir veya sunucunun bir tane seçmesini sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-163">In the *Solicit* request, the Client can request the assignment of specific IPv6 address or let the Server choose one.</span></span> <span data-ttu-id="42e35-164">Ayrıca, sunucudan diğer ağ yapılandırma bilgilerini de isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-164">It can also request other network configuration information from the Server.</span></span>

<span data-ttu-id="42e35-165">DHCPv6Server geçerli bir *istem* iletisini ayıklar ve Istemciye bir IPv6 adresi atayabiliyorsanız, Istemciye vereceğiniz IPv6 adresini, IPv6 adresi kiralama süresini ve istemci tarafından istenen ek bilgileri Içeren bir *tanıtım* iletisi ile yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="42e35-165">If the DHCPv6Server extracts a valid *Solicit* message and can assign an IPv6 address to the Client, it responds with an *Advertise* message containing the IPv6 address it will grant to the Client, the IPv6 address lease time and any additional information requested by the Client.</span></span> <span data-ttu-id="42e35-166">Istemci sunucuyu kabul ederse, sunucunun IPv6 adresini kabul edeceğini bildiren bir *istek* iletisiyle yanıt vermesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="42e35-166">If the Client accepts the Server offer it responds with a *Request* message letting the Server know it will accept the IPv6 address.</span></span> <span data-ttu-id="42e35-167">Sunucu, Istemcinin bir *Yanıt* iletisiyle IPv6 adresine bağlandığını onaylar.</span><span class="sxs-lookup"><span data-stu-id="42e35-167">The Server confirms the Client is bound to the IPv6 address with a *Reply* message.</span></span>

<span data-ttu-id="42e35-168">Istemci DHCPv6 iletisi geçersizse, sunucu iletiyi sessizce atar.</span><span class="sxs-lookup"><span data-stu-id="42e35-168">If the Client DHCPv6 message is invalid, the Server will discard the message silently.</span></span> <span data-ttu-id="42e35-169">Sunucu isteği vermezse, IP adresi ıANA seçeneğinin durum alanındaki sorunu belirten bir *Yanıt* iletisi gönderir.</span><span class="sxs-lookup"><span data-stu-id="42e35-169">If the Server is unable to grant the request it will send a *Reply* message with an indication of the problem in the status field of the IP address IANA option.</span></span> <span data-ttu-id="42e35-170">Yinelenen Istemci istekleri alınmışsa, sunucu önceki DHCPv6 yanıtını yeniden sonlandırır ve Istemcinin yalnızca paketi almadığını kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="42e35-170">If duplicate Client requests are received the Server resends its previous DHCPv6 response, assuming the Client simply did not receive the packet.</span></span>

<span data-ttu-id="42e35-171">Yinelenen adres algılama gibi çeşitli IPv6 protokollerini kullanarak, sunucudan atanan IPv6 adresinin, sistemdeki başka bir konağa atanmadığını doğrulamak Istemciye bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-171">It is up to the Client to verify that its assigned IPv6 address from the Server is not assigned to another host on the system by using various IPv6 protocols such as Duplicate Address Detection.</span></span> <span data-ttu-id="42e35-172">Adres benzersiz değilse, Istemci sunucuya bir *Red* iletisi gönderir.</span><span class="sxs-lookup"><span data-stu-id="42e35-172">If the address is not unique, the Client will send the Server a *Decline* message.</span></span> <span data-ttu-id="42e35-173">Sunucu, IP Kiralama tablosunu bu bilgilerle güncelleştirir, bu, adresin zaten atandığı kayda kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-173">The Server updates its IP lease table with this information, recording that the address is already assigned.</span></span> <span data-ttu-id="42e35-174">Istemcinin DHCPv6 istek işlemini başka bir *istem* iletisiyle yeniden başlatması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-174">Meanwhile the Client must restart the DHCPv6 request process with another *Solicit* message.</span></span>

<span data-ttu-id="42e35-175">Bir IPv6 adresine ek olarak, bir Istemcinin DNS sunucusunu ve ağ etki alanı adı gibi diğer ağ bilgilerini de bilmeleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-175">In addition to an IPv6 address, a Client will likely also need to know the DNS server and possibly other network information such as the network domain name.</span></span> <span data-ttu-id="42e35-176">DHCPv6, bu bilgileri istek ve *istek* *Iletilerinde bulunan seçenek* Isteklerinin kullanımını veya *bilgi isteği* iletilerinde ayrı olarak kullanmayı istemek için bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="42e35-176">DHCPv6 provides the means to request this information using either the use of Option Requests in the *Solicit* and *Request* messages, or separately in *Information Request* messages.</span></span> <span data-ttu-id="42e35-177">DHCPv6 seçenekleri bu bölümün ilerleyen kısımlarında açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="42e35-177">DHCPv6 options are explained later in this chapter.</span></span>

<span data-ttu-id="42e35-178">**IPv6 kira süresi**</span><span class="sxs-lookup"><span data-stu-id="42e35-178">**IPv6 Lease Duration**</span></span>

<span data-ttu-id="42e35-179">Sunucu bir Istemciye bir IPv6 adresi verdiğinde, Istemci, *yenileme* ve yeniden *bağlanma* iletilerini kullanarak (T1) veya yeniden bağlama (T2) ile ilgili IPv6 adresini yenilemeye başlamasını ÖNERDIĞINDEN, için IANA seçeneğine (ömür) kira süresini de atar.</span><span class="sxs-lookup"><span data-stu-id="42e35-179">When the Server grants an IPv6 address to a Client, it also assigns the lease duration (lifetime)in the IANA option for when it recommends the Client to start renewing (T1) or rebinding (T2) its IPv6 address using *Renew* and *Rebind* messages.</span></span> <span data-ttu-id="42e35-180">İki arasındaki fark, Istemci, *yenileme Isteğine sunucu* DUID ekleyerek *yenileme* iletisini sunucusuna yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="42e35-180">The difference between the two is the Client directs the *Renew* message to the Server by including the Server DUID in the *Renew* request.</span></span> <span data-ttu-id="42e35-181">Ancak, herhangi bir sunucu belirtmez ve bu nedenle, *All_DHCP_Relay_Agents_and_Servers* adresine yeniden *bağlama* iletisinde bir sunucu DUID içermez.</span><span class="sxs-lookup"><span data-stu-id="42e35-181">However, it does not specify any server, and hence does not include a Server DUID, in the *Rebind* message to the *All_DHCP_Relay_Agents_and_Servers* address.</span></span> <span data-ttu-id="42e35-182">Sunucunun verdiği gerçek IPv6 adresini içeren IA seçeneği, Ayrıca, kiralanan IPv6 adresi sırasıyla kullanım dışı veya eski (geçersiz) duruma geldiğinde, Istemcinin tercih edilen ve geçerli yaşam sürelerini de içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-182">The IA option which contains the actual IPv6 address the Server grants the Client also contains the preferred and valid lifetimes when the leased IPv6 address becomes deprecated or obsolete (invalid), respectively.</span></span>

<span data-ttu-id="42e35-183">NetX Duo DHCPv6 sunucusu, Istemci iletileri arasındaki süreyi izlemek için her Istemci için bir oturum zaman aşımı süresi tutar.</span><span class="sxs-lookup"><span data-stu-id="42e35-183">The NetX Duo DHCPv6 Server maintains a session timeout for each Client to track the time between Client messages.</span></span> <span data-ttu-id="42e35-184">Bu, bağlantıyı kaybetmekte olan bir Istemci Konağı durumunda gereklidir.</span><span class="sxs-lookup"><span data-stu-id="42e35-184">This is necessary in the event of a Client host losing connectivity or the network doing down.</span></span> <span data-ttu-id="42e35-185">Oturum zaman aşımı süresi dolduğunda, Istemcinin artık ilgilenmiyor veya sunucu için DHCPv6 isteklerini yapabilmemesi varsayılır.</span><span class="sxs-lookup"><span data-stu-id="42e35-185">When the session timeout expires, it is assumed the Client is either no longer interested or able to make DHCPv6 requests of the Server.</span></span> <span data-ttu-id="42e35-186">Sunucu, Istemci kaydını siler ve kullanılabilir havuza herhangi bir kesin olmayan şekilde atanan IPv6 adresini geri döndürür.</span><span class="sxs-lookup"><span data-stu-id="42e35-186">The Server deletes the Client record and returns any tentatively assigned IPv6 address back to the available pool.</span></span> <span data-ttu-id="42e35-187">Oturum zaman aşımı süresi, Kullanıcı tarafından yapılandırılabilir bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="42e35-187">The session timeout wait is a user configurable option.</span></span>

<span data-ttu-id="42e35-188">Istemci, IPv6 adresini serbest bırakabilir veya DHCPv6 sunucusu tarafından kendisine atanan IPv6 adresinin zaten kullanımda olduğunu belirlerse, sırasıyla bir *yayın* veya *reddetme* iletisi gönderir.</span><span class="sxs-lookup"><span data-stu-id="42e35-188">If the Client wishes to release its IPv6 address, or discovers that the IPv6 address assigned to it by the DHCPv6 Server is already in use, it send a *Release* or *Decline* message respectively.</span></span> <span data-ttu-id="42e35-189">Bir *Sürüm* Iletisinde, sunucu IPv6 adres durumunu kullanılabilir havuza geri döndürür.</span><span class="sxs-lookup"><span data-stu-id="42e35-189">In the case of a *Release* message, the Server returns that IPv6 address status back to the available pool.</span></span> <span data-ttu-id="42e35-190">*Reddetme* iletisinde, bu IPv6 adresinin kullanılabilir olmadığını BELIRTMEK için IP Kiralama tablosunu güncelleştirir (ağ üzerinde başka bir varlık tarafından sahiplenilir).</span><span class="sxs-lookup"><span data-stu-id="42e35-190">In the case of the *Decline* message, it updates its IP lease table to indicate this IPv6 address is not available (owned by another entity elsewhere on the network).</span></span>

<span data-ttu-id="42e35-191">**IPv6 kiralama ve Istemci kaydı verileri**</span><span class="sxs-lookup"><span data-stu-id="42e35-191">**IPv6 Lease and Client Record Data**</span></span>

<span data-ttu-id="42e35-192">DHCPv6 sunucusu Istemci isteklerini kabul etmeye başladığında, IPv6 adresi isteyen veya atanmış etkin Istemcilerin bir listesini tutar.</span><span class="sxs-lookup"><span data-stu-id="42e35-192">When the DHCPv6 Server starts accepting Client requests it maintains a list of active Clients who are requesting or have been assigned IPv6 addresses.</span></span> <span data-ttu-id="42e35-193">Sunucu, Istemci kira süresini düzenli olarak güncelleştiren bir kira süreölçeri aracılığıyla IP kira süre sonunu denetler.</span><span class="sxs-lookup"><span data-stu-id="42e35-193">The Server checks for IP lease expiration by means of a lease timer that periodically updates the Client lease duration.</span></span> <span data-ttu-id="42e35-194">Süre geçerli yaşam süresini aştığında sunucu, Istemci kaydını siler ve IPv6 adresini kullanılabilir havuza geri döndürür.</span><span class="sxs-lookup"><span data-stu-id="42e35-194">When the duration exceeds the valid lifetime, the Server clears the Client record and returns its IPv6 address back to the available pool.</span></span> <span data-ttu-id="42e35-195">Bu işlem yapılmadan önce yenileme/yeniden bağlama işlemini başlatmak Istemciye kadar olur!</span><span class="sxs-lookup"><span data-stu-id="42e35-195">It is up to the Client to start the renewal/rebinding process before this happens!</span></span>

<span data-ttu-id="42e35-196">NetX Duo DHCPv6 sunucusu istemci kaydı tablosu, Istemcileri tanımlamak için bilgiler ve DHCPv6 Istemci isteklerini doğrulamak ve IPv6 adreslerini atamak veya yeniden atamak için ' durum ' bilgilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-196">The NetX Duo DHCPv6 Server client record table contains information to identify Clients, and ‘state’ information for validating DHCPv6 Client requests and assigning or re-assigning IPv6 addresses.</span></span> <span data-ttu-id="42e35-197">Bu tür bilgiler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="42e35-197">Such information includes:</span></span>

- <span data-ttu-id="42e35-198">Bir ağ üzerinde her bir Istemci konağını benzersiz bir şekilde tanımlayan Istemci DHCPv6 benzersiz tanımlayıcısı (DUıD).</span><span class="sxs-lookup"><span data-stu-id="42e35-198">The Client DHCPv6 Unique Identifier (DUID) which uniquely defines each Client host on a network.</span></span> <span data-ttu-id="42e35-199">Istemci her zaman aynı DUıD 'yi tüm DHCPv6 iletileri için kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-199">The Client must always use this same DUID for all its DHCPv6 messages.</span></span>

- <span data-ttu-id="42e35-200">Geçici olmayan adresler (ıANA) ve kimlik Ilişkilendirmesi IPv6 adresi (IA) için Istemci kimliği Ilişkilendirmesi, Istemci IPv6 adresi atama parametrelerini tanımlayan bir üst üste.</span><span class="sxs-lookup"><span data-stu-id="42e35-200">The Client Identity Association for Non Temporary Addresses (IANA) and Identity Association IPv6 address (IA) cumulatively which define the Client IPv6 address assignment parameters.</span></span>

- <span data-ttu-id="42e35-201">İstemci seçeneği istekleri (DNS sunucusu, etki alanı adı vb.).</span><span class="sxs-lookup"><span data-stu-id="42e35-201">Client option requests (DNS server, domain name, etc).</span></span>

- <span data-ttu-id="42e35-202">En son DHCPv6 isteğinin Istemci IPv6 kaynak adresi (ayarlandıysa) ve hedef adresi (çok noktaya yayın yoksa).</span><span class="sxs-lookup"><span data-stu-id="42e35-202">The Client IPv6 source address (if set) and destination address (if not multicast) of its most recent DHCPv6 request.</span></span>

- <span data-ttu-id="42e35-203">Istemcinin en son ileti türü ve DHCPv6 ' State '.</span><span class="sxs-lookup"><span data-stu-id="42e35-203">The Client’s most recent message type and DHCPv6 ‘state’.</span></span>

## <a name="netx-duo-dhcpv6-server-requirements-and-constraints"></a><span data-ttu-id="42e35-204">NetX Duo DHCPv6 sunucu gereksinimleri ve kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="42e35-204">NetX Duo DHCPv6 Server Requirements and Constraints</span></span>

<span data-ttu-id="42e35-205">NetX Duo DHCPv6 sunucu API 'SI, ThreadX 5,1 veya üzeri ve NetX Duo 5,5 veya üstünü gerektirir.</span><span class="sxs-lookup"><span data-stu-id="42e35-205">The NetX Duo DHCPv6 Server API requires ThreadX 5.1 or later, and NetX Duo 5.5 or later.</span></span>

<span data-ttu-id="42e35-206">**Gereksinimler**</span><span class="sxs-lookup"><span data-stu-id="42e35-206">**Requirements**</span></span>

<span data-ttu-id="42e35-207">***IP Iş parçacığı görev kurulumu***</span><span class="sxs-lookup"><span data-stu-id="42e35-207">***IP Thread Task Setup***</span></span>

<span data-ttu-id="42e35-208">NetX Duo DHCPv6 sunucusu, ağ bağlantısı üzerinde DHCPv6 'ye ileti göndermek ve almak için bir IP örneği oluşturulmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="42e35-208">The NetX Duo DHCPv6 Server requires a creation of an IP instance for sending and receiving messages to DHCPv6 on its network link.</span></span> <span data-ttu-id="42e35-209">Bu, *nx_ip_create* hizmeti kullanılarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="42e35-209">This is done using the *nx_ip_create* service.</span></span> <span data-ttu-id="42e35-210">NetX Duo DHCPv6 sunucusunun oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-210">The NetX Duo DHCPv6 Server itself must be created.</span></span> <span data-ttu-id="42e35-211">Bu, *nx_dhcpv6_server_create* hizmeti kullanılarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="42e35-211">This is done using the *nx_dhcpv6_server_create* service.</span></span>

<span data-ttu-id="42e35-212">DHCPv6 NetX Duo, ICMPv6 ve UDP kullanır.</span><span class="sxs-lookup"><span data-stu-id="42e35-212">DHCPv6 utilizes NetX Duo, ICMPv6 and UDP.</span></span> <span data-ttu-id="42e35-213">Bu nedenle, aşağıdaki NetX Duo hizmetlerini çağırarak önce IPv6 'nın DHCPv6 sunucusu kullanılmadan önce etkinleştirilmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="42e35-213">Therefore IPv6 must first be enabled prior to using DHCPv6 Server by calling the following NetX Duo services:</span></span>

- <span data-ttu-id="42e35-214">*nx_udp_enable*</span><span class="sxs-lookup"><span data-stu-id="42e35-214">*nx_udp_enable*</span></span>
- <span data-ttu-id="42e35-215">*nxd_ipv6_enable*</span><span class="sxs-lookup"><span data-stu-id="42e35-215">*nxd_ipv6_enable*</span></span>
- <span data-ttu-id="42e35-216">*nxd_icmp_enable*</span><span class="sxs-lookup"><span data-stu-id="42e35-216">*nxd_icmp_enable*</span></span>

<span data-ttu-id="42e35-217">Daha da, DHCPv6 sunucusu başlatılmadan önce gerçekleştirilecek bir dizi ayarlama görevi vardır:</span><span class="sxs-lookup"><span data-stu-id="42e35-217">Further, before the DHCPv6 Server can be started, it has a number of set up tasks to perform:</span></span>

- <span data-ttu-id="42e35-218">Bağlantı yerel ve IPv6 genel adreslerini oluşturun ve doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="42e35-218">Create and validate its link local and IPv6 global addresses.</span></span> <span data-ttu-id="42e35-219">Adres doğrulama etkinleştirilirse, NetX Duo tarafından otomatik olarak gerçekleştirilir ve yinelenen adres algılama özelliği kullanılır.</span><span class="sxs-lookup"><span data-stu-id="42e35-219">Address validation is performed automatically by NetX Duo using Duplicate Address Detection if it is enabled.</span></span> <span data-ttu-id="42e35-220">Bağlantı yerel ve genel IP adresi doğrulama hakkında ayrıntılı bilgi için bkz. *NETX Duo Kullanıcı el kitabı* .</span><span class="sxs-lookup"><span data-stu-id="42e35-220">See the *NetX Duo User Manual* for details on link local and global IP address validation.</span></span>

- <span data-ttu-id="42e35-221">Ağ arabirimi dizinini, DHCPv6 arabirimi için ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="42e35-221">Set the network interface index for its DHCPv6 interface.</span></span>

- <span data-ttu-id="42e35-222">Atanabilir IPv6 adresleri için bir IP adresi aralığı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="42e35-222">Create an IP address range for assignable IPv6 addresses.</span></span> <span data-ttu-id="42e35-223">Ya da önceki bir sunucu DHCPv6 oturumunda veriler varsa, bu oturumdaki IPv6 Kiralama tablosu ve istemci kayıtları, geçici olmayan bellekten DHCPv6 sunucusuna yüklenmelidir.</span><span class="sxs-lookup"><span data-stu-id="42e35-223">Or, if data exists from a previous Server DHCPv6 session, IPv6 lease table and client records from that session must be uploaded from non volatile memory to the DHCPv6 Server.</span></span> <span data-ttu-id="42e35-224">Bu belgede başka bir yerde küçük örnek sistem, bu gereksinimi karşılamak için DHCPv6 sunucu hizmetlerini gösterir.</span><span class="sxs-lookup"><span data-stu-id="42e35-224">The small example system elsewhere in this document will demonstrate the DHCPv6 Server services for accomplishing this requirement.</span></span>

- <span data-ttu-id="42e35-225">Sunucu DUıD 'sini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="42e35-225">Set the Server DUID.</span></span> <span data-ttu-id="42e35-226">Sunucu, bir önceki oturumda DUıD oluşturmışsa, Istemcilerine iletiler için aynı DUıD 'yi oluşturmak üzere aynı verileri kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-226">If the Server has created its DUID in a previous session it must use the same data to create the same DUID for messages to its Clients.</span></span> <span data-ttu-id="42e35-227">Bu belgede başka bir yerde küçük örnek sistem bu gereksinimin nasıl yapıldığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="42e35-227">The small example system elsewhere in this document will demonstrate how this requirement is accomplished.</span></span>

<span data-ttu-id="42e35-228">Bu noktada, DHCPv6 sunucusu çalıştırılmaya hazırdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-228">At this point the DHCPv6 Server is ready to run.</span></span> <span data-ttu-id="42e35-229">NetX Duo DHCPv6 sunucusu, 547 numaralı bağlantı noktasına bağlanacak bir UDP yuvası oluşturacak ve Istemci isteklerini dinlemeye başlayacaktır.</span><span class="sxs-lookup"><span data-stu-id="42e35-229">Internally the NetX Duo DHCPv6 Server will create a UDP socket bound to port 547, and starts listening for Client requests.</span></span>

<span data-ttu-id="42e35-230">***Paket havuzu gereksinimleri***</span><span class="sxs-lookup"><span data-stu-id="42e35-230">***Packet Pool Requirements***</span></span>

<span data-ttu-id="42e35-231">NetX Duo DHCPv6 sunucusu, DHCPv6 iletilerini göndermek için bir paket havuzu gerektirir.</span><span class="sxs-lookup"><span data-stu-id="42e35-231">NetX Duo DHCPv6 Server requires a packet pool for sending DHCPv6 messages.</span></span> <span data-ttu-id="42e35-232">Paket yükü ve kullanılabilir paket sayısı bakımından paket havuzunun boyutu Kullanıcı tarafından yapılandırılabilir ve bu, ana bilgisayar uygulamasının gönderilmesi için beklenen DHCPv6 iletilerinin ve diğer aktarımların hacmine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-232">The size of the packet pool in terms of packet payload and number of packets available is user configurable, and depends on the anticipated volume of DHCPv6 messages and other transmissions the host application will be sending.</span></span>

<span data-ttu-id="42e35-233">Tipik bir DHCPv6 iletisi, Istemci tarafından istenen ek seçenekler sayısına ve sunucudan kullanılabilir bilgilere bağlı olarak 200-300 bayttır.</span><span class="sxs-lookup"><span data-stu-id="42e35-233">A typical DHCPv6 message is about 200-300 bytes depending on the number of additional options requested by the Client, and information available from the Server.</span></span>

<span data-ttu-id="42e35-234">***DHCPv6 sunucu arabirimini ayarlama***</span><span class="sxs-lookup"><span data-stu-id="42e35-234">***Setting the DHCPv6 Server interface***</span></span>

<span data-ttu-id="42e35-235">DHCPv6 sunucusu, üzerinde Istemci isteklerini kabul edeceği arabirim olarak birincil ağ arabirimini varsayılan olarak belirler.</span><span class="sxs-lookup"><span data-stu-id="42e35-235">The DHCPv6 Server defaults to the primary network interface as the interface it will accept Client requests on.</span></span> <span data-ttu-id="42e35-236">Ancak, ana bilgisayar uygulamasının sunucu genel adresini oluşturmak için kullandığı genel adres dizinini hala ayarlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-236">However, the host application must still set the global address index which it used to create the Server global address.</span></span> <span data-ttu-id="42e35-237">DHCPv6 arabirim dizini ve genel adres dizini *nx_dhcpv6_server_interface_set* hizmeti kullanılarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="42e35-237">The DHCPv6 interface index and global address index are set using the *nx_dhcpv6_server_interface_set* service.</span></span> <span data-ttu-id="42e35-238">Bu belgede "küçük örnek" de gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="42e35-238">This is also demonstrated in the “small example” in this document.</span></span>

<span data-ttu-id="42e35-239">***Sunucu yeniden başlatıldığında DHCPv6 DUıD kaydetme***</span><span class="sxs-lookup"><span data-stu-id="42e35-239">***Saving DHCPv6 DUID across Server Reboots***</span></span>

<span data-ttu-id="42e35-240">DHCPv6 protokolü, sunucunun birden çok yeniden başlatıldığında aynı DUıD kullanmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="42e35-240">The DHCPv6 protocol requires the Server to use the same DUID across multiple reboots.</span></span> <span data-ttu-id="42e35-241">Bu nedenle, DUıD 'yi oluşturmak için kullanılan tüm verilerin bu gereksinim için kalıcı bellekten depolanması ve alınması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-241">Any data used to create the DUID must therefore be stored and retrieved from nonvolatile memory for this requirement.</span></span> <span data-ttu-id="42e35-242">Bağlantı katmanını kullanan konaklar için ve gerçek zamanlı saate erişim gerektiren zaman DUıD.</span><span class="sxs-lookup"><span data-stu-id="42e35-242">For hosts that use the Link Layer Plus Time DUID which requires access to a real time clock.</span></span> <span data-ttu-id="42e35-243">NetX Duo DHCPv6 ana bilgisayar uygulaması, ilk sunucu DUıD oluşturma için bir zaman değeri oluşturmak üzere gerçek zamanlı veri erişimi içermelidir ve bu verileri sonraki sunucu oturumlarında yeniden kullanmak üzere depolar.</span><span class="sxs-lookup"><span data-stu-id="42e35-243">The NetX Duo DHCPv6 host application should include real time data access for generating a time value for the initial Server DUID creation, and store that data for reuse on subsequent Server sessions.</span></span> <span data-ttu-id="42e35-244">*Nx_dhcpv6_set_server_duid* daha sonra, DUID verilerini bağımsız değişken olarak alır, ayrıca DUID türüne bağlı yapılandırma seçenekleri de kendı DUID oluşturmak için (veya yeniden üretmek üzere).</span><span class="sxs-lookup"><span data-stu-id="42e35-244">The *nx_dhcpv6_set_server_duid* then takes DUID data as its arguments, as well as configuration options depending on DUID type, to produce (or reproduce) its own DUID.</span></span>

<span data-ttu-id="42e35-245">***Atanabilir IPv6 adres listesi oluşturma***</span><span class="sxs-lookup"><span data-stu-id="42e35-245">***Assignable IPv6 Address List Creation***</span></span>

<span data-ttu-id="42e35-246">Daha önce depolanan IP adresi listesi verileri yoksa, DHCPv6 sunucusu oluşturulduktan sonra sunucu ana bilgisayar uygulamasının bir atanabilir IPv6 genel adresi aralığı oluşturması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-246">After creation of the DHCPv6 Server, the Server host application must create a range of assignable IPv6 global addresses if there is no previously stored IP address list data.</span></span> <span data-ttu-id="42e35-247">Bu, başlangıç ve bitiş IPv6 adresini giriş olarak alan *nx_dhcpv6_create_ip_address_range* hizmeti kullanılarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="42e35-247">This is done using the *nx_dhcpv6_create_ip_address_range* service which takes as input a starting and ending IPv6 address.</span></span>

<span data-ttu-id="42e35-248">***DHCPv6 atanabilir adresi ve Istemci verileri kaydediliyor***</span><span class="sxs-lookup"><span data-stu-id="42e35-248">***Saving DHCPv6 Assignable Address and Client data***</span></span>

<span data-ttu-id="42e35-249">DHCPv6 protokolü, DHCPv6 sunucusunun Istemci ve IPv6 adres verilerini, sunucuyu yeniden başlatma durumunda kalıcı depolamada kaydetmesini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="42e35-249">The DHCPv6 protocol requires that the DHCPv6 Server save its Client and IPv6 address data in nonvolatile storage in the event of rebooting the server.</span></span> <span data-ttu-id="42e35-250">NetX Duo DHCPv6 sunucusunda, Istemci ve IPv6 adres verilerini, sırasıyla DHCPv6 sunucusuna yüklemek ve indirmek için çeşitli API 'ler vardır:</span><span class="sxs-lookup"><span data-stu-id="42e35-250">The NetX Duo DHCPv6 Server has several API for uploading and downloading Client and IPv6 address data to and from the DHCPv6 Server, respectively:</span></span>

<span data-ttu-id="42e35-251">*nx_dhcpv6_add_client_record*</span><span class="sxs-lookup"><span data-stu-id="42e35-251">*nx_dhcpv6_add_client_record*</span></span>

<span data-ttu-id="42e35-252">*nx_dhcpv6_add_ip_address_lease*</span><span class="sxs-lookup"><span data-stu-id="42e35-252">*nx_dhcpv6_add_ip_address_lease*</span></span>

<span data-ttu-id="42e35-253">*nx_dhcpv6_retrieve_client_record*</span><span class="sxs-lookup"><span data-stu-id="42e35-253">*nx_dhcpv6_retrieve_client_record*</span></span>

<span data-ttu-id="42e35-254">*nx_dhcpv6_retrieve_ip_address_lease*</span><span class="sxs-lookup"><span data-stu-id="42e35-254">*nx_dhcpv6_retrieve_ip_address_lease*</span></span>

<span data-ttu-id="42e35-255">Sunucu yeniden başlatılmadan önce sunucuya verilerin yüklenmesi yapılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-255">Uploading data to the Server must be done before restarting the Server.</span></span> <span data-ttu-id="42e35-256">Verilerin indirilmesi, yalnızca DHCPv6 sunucusu durdurulduktan sonra (veya askıya alındıktan sonra) yapılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-256">Downloading the data should be done only after the DHCPv6 Server is stopped (or suspended).</span></span> <span data-ttu-id="42e35-257">Bunu yapmaya yönelik hizmetler bu belgenin ilerleyen kısımlarında ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="42e35-257">The services for doing so are described in detail later in this document.</span></span> <span data-ttu-id="42e35-258">Ancak NetX Duo DHCPv6, kalıcı depolamaya bir erişim tanımlamaz.</span><span class="sxs-lookup"><span data-stu-id="42e35-258">However, the NetX Duo DHCPv6 provides does not define an access to nonvolatile storage.</span></span> <span data-ttu-id="42e35-259">Bu, ana bilgisayar uygulaması tarafından işlenmelidir.</span><span class="sxs-lookup"><span data-stu-id="42e35-259">This must be handled by the host application.</span></span> <span data-ttu-id="42e35-260">Küçük örnek, ana bilgisayar uygulamasının bunu nasıl kullandığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="42e35-260">The small example demonstrates how the host application does this.</span></span>

<span data-ttu-id="42e35-261">***Sunucu DHCP benzersiz tanımlayıcısı (DUıD)***</span><span class="sxs-lookup"><span data-stu-id="42e35-261">***Server DHCP Unique Identifier (DUID)***</span></span>

<span data-ttu-id="42e35-262">Sunucu DUıD, ağda DHCPv6 sunucu konağını benzersiz şekilde tanımlar.</span><span class="sxs-lookup"><span data-stu-id="42e35-262">The Server DUID uniquely defines the DHCPv6 Server host on the network.</span></span> <span data-ttu-id="42e35-263">Bir sunucu, DUıD 'sini daha önce oluşturmadıysa, *nx_dhcpv6_server_set_duid* oluşturmak için kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-263">If a Server has not previously created its DUID, it can use the *nx_dhcpv6_server_set_duid* to create one.</span></span> <span data-ttu-id="42e35-264">RFC 3315 ' den itibaren, sunucu yeniden başlatıldıktan sonra alabilmesi için DHCPv6 sunucusunun bu DUıD 'yi kalıcı belleğe kaydetmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-264">As per RFC 3315, the DHCPv6 Server must save this DUID to nonvolatile memory to be able to retrieve it after Server reboots.</span></span> <span data-ttu-id="42e35-265">DHCPv6 sunucusu bağlantı katmanını, bağlantı katmanı süresini ve kurumsal (satıcı atanmış) DUıD türlerini destekler.</span><span class="sxs-lookup"><span data-stu-id="42e35-265">The DHCPv6 Server supports the Link Layer, Link Layer Time and Enterprise (Vendor assigned) DUID types.</span></span> <span data-ttu-id="42e35-266">Istemcinin doğrudan DUıD satıcı türünde gönderilmesi gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="42e35-266">Note that the Client must send in the Vendor type DUID directly.</span></span> <span data-ttu-id="42e35-267">Satıcı türü Duıds (17) seçeneği, NetX Duo DHPv6 sunucusu tarafından doğrudan desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="42e35-267">The option for Vendor type DUIDs (17) is not directly supported by the NetX Duo DHPv6 Server.</span></span>

<span data-ttu-id="42e35-268">DHCPv6 sunucusu konak uygulamasının, kira zaman aşımı dahil olmak üzere IPv6 adres ataması için varsayılan değerleri vardır.</span><span class="sxs-lookup"><span data-stu-id="42e35-268">The DHCPv6 Server host application has default values for IPv6 address assignment including lease timeout.</span></span> <span data-ttu-id="42e35-269">Bu seçenekleri nasıl ayarlayabilmek için bu belgede daha sonra yapılandırılabilir seçeneklere bakın.</span><span class="sxs-lookup"><span data-stu-id="42e35-269">See Configurable Options later in this document for how to set these options.</span></span> <span data-ttu-id="42e35-270">:</span><span class="sxs-lookup"><span data-stu-id="42e35-270">:</span></span>

<span data-ttu-id="42e35-271">*IANA* denetim bloğu, T1 ve T2 alanlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-271">The *IANA* control block contains the T1 and T2 fields.</span></span> <span data-ttu-id="42e35-272">*IANA* denetim bloğundaki *IA* bloğu tercih edilen ve geçerli ömür alanlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-272">The *IA* block in the *IANA* control block contains the preferred and valid lifetime fields.</span></span> <span data-ttu-id="42e35-273">Konak uygulama, bu belgenin başka bir yerinde tanımlanmış yapılandırılabilir seçeneklere sahiptir ve bu seçenekleri ayarlar.</span><span class="sxs-lookup"><span data-stu-id="42e35-273">The host application has configurable options defined elsewhere in this document for setting these options.</span></span> <span data-ttu-id="42e35-274">Bunlar tüm Istemci IPv6 adresi isteklerine atanır.</span><span class="sxs-lookup"><span data-stu-id="42e35-274">They are assigned to all Client IPv6 address requests.</span></span>

<span data-ttu-id="42e35-275">Bu DHCPv6 IP Kiralama parametreleri aşağıda tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="42e35-275">These DHCPv6 IP lease parameters are defined below.</span></span>

<span data-ttu-id="42e35-276">T1 – Istemcinin IPv6 adresini kendisine atayan sunucudan yenilemeyi başlatması gereken saniye cinsinden süre.</span><span class="sxs-lookup"><span data-stu-id="42e35-276">T1 – time in seconds when the Client must start renewing its IPv6 address from the Server that assigned it.</span></span>

<span data-ttu-id="42e35-277">T2: yenileme başarısız olursa, Istemcinin bağlantısı üzerindeki herhangi bir sunucuyla IPv6 adresini yeniden bağlamayı başlatması gereken saniye cinsinden süre.</span><span class="sxs-lookup"><span data-stu-id="42e35-277">T2 – time in seconds when the Client must start rebinding the IPv6 address, if renewal failed, with any Server on its link.</span></span>

<span data-ttu-id="42e35-278">Tercih edilen ömür: Istemci yenilenmez veya yeniden bağlanmazsa Istemci adresinin kullanım dışı hale geldiği saniye cinsinden süre.</span><span class="sxs-lookup"><span data-stu-id="42e35-278">Preferred lifetime – time in seconds when the Client address becomes deprecated if the Client has not renewed or rebound it.</span></span> <span data-ttu-id="42e35-279">Istemci bu adresi kullanmaya devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-279">The Client can still use this address.</span></span>

<span data-ttu-id="42e35-280">Geçerli ömür: Istemci IP adresinin süresi dolduğunda ve ağ iletimlerinin bu adresi kullanması gereken süre (saniye cinsinden).</span><span class="sxs-lookup"><span data-stu-id="42e35-280">Valid lifetime – time in seconds when the Client IP address is expired and MUST not use this address in its network transmissions.</span></span>

<span data-ttu-id="42e35-281">RFC, Istemci *IANA* seçeneğinde tercih edilen yaşam süresi sırasıyla 0,5 ve 0,8 olan T1 ve T2 sürelerini önerir.</span><span class="sxs-lookup"><span data-stu-id="42e35-281">The RFC recommends T1 and T2 times that are 0.5 and 0.8, respectively, of the preferred lifetime in the Client *IANA* option.</span></span> <span data-ttu-id="42e35-282">Sunucuda tercih yoksa, bu zamanları sıfıra ayarlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="42e35-282">If the Server has no preference, it should set these times to zero.</span></span> <span data-ttu-id="42e35-283">Bir sunucu yanıtı, T1 ve T2 zamanları içeriyorsa, Istemcinin kendi T1 ve T2 sürelerini belirlemesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="42e35-283">If a Server reply contains T1 and T2 times set to zero, it is letting the Client set its own T1 and T2 times.</span></span>

<span data-ttu-id="42e35-284">**Kısıtlamalar**</span><span class="sxs-lookup"><span data-stu-id="42e35-284">**Constraints**</span></span>

<span data-ttu-id="42e35-285">NetX Duo DHCPv6 sunucusu, aşağıdaki DHCPv6 seçeneklerini desteklemez:</span><span class="sxs-lookup"><span data-stu-id="42e35-285">NetX Duo DHCPv6 Server does not support the following DHCPv6 options:</span></span>

  - <span data-ttu-id="42e35-286">Yalnızca Istek ve yanıt iletisi değişimi için DHCPv6 adresi istek işlemini iyileştiren hızlı Işleme seçeneği</span><span class="sxs-lookup"><span data-stu-id="42e35-286">Rapid Commit option which optimizes the DHCPv6 address request process to just the Solicit and Reply message exchange</span></span>

  - <span data-ttu-id="42e35-287">Sunucunun Istemcinin IP adresi durumunda değişiklik başlatabilmesine izin veren seçeneği yeniden yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="42e35-287">Reconfigure option which allows the Server can initiate changes to the Client’s IP address status.</span></span>

  - <span data-ttu-id="42e35-288">Tek noktaya yayın seçeneği; Tüm Istemci iletileri doğrudan DHCPv6 sunucusu yerine *All_DHCP_Relay_Agents_and_Servers* çok noktaya yayın adresine gönderilmelidir.</span><span class="sxs-lookup"><span data-stu-id="42e35-288">Unicast option; all Client messages must be sent to the *All_DHCP_Relay_Agents_and_Servers* multicast address rather than to the DHCPv6 Server directly.</span></span>

  - <span data-ttu-id="42e35-289">Bir Istemciye verilen geçici bir IP adresi olan geçici adresler (IA_TA) seçeneği için kimlik Ilişkilendirmesi.</span><span class="sxs-lookup"><span data-stu-id="42e35-289">Identity Association for the Temporary Addresses(IA_TA)option which is a temporary IP address granted to a Client.</span></span>

  - <span data-ttu-id="42e35-290">Istemci Isteği başına birden çok IA (IPv6 adresi) seçeneği</span><span class="sxs-lookup"><span data-stu-id="42e35-290">Multiple IA (IPv6 addresses) options per Client Request</span></span>

  - <span data-ttu-id="42e35-291">DHCPv6 Istemcisi ile sunucu gibi geçiş ana bilgisayarı, Istemci ve sunucu aynı ağda olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="42e35-291">Relay host between DHCPv6 Client and Server e.g. Client and Server must be on the same network.</span></span>

  - <span data-ttu-id="42e35-292">IPSec ve kimlik doğrulaması, DHCPv6 mesajlaşmada desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="42e35-292">IPSec and Authentication are not supported in DHCPv6 messaging.</span></span> <span data-ttu-id="42e35-293">Ancak, IP örneği kullanımda olan NetX Duo sürümüne bağlı olarak IPSec etkin olabilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-293">However, the IP instance may be IPSec enabled depending on the version of NetX Duo in use.</span></span>

  - <span data-ttu-id="42e35-294">NetX Duo DHCPv6 sunucusu, yalnızca DNS sunucusu seçenek isteğini doğrudan destekler.</span><span class="sxs-lookup"><span data-stu-id="42e35-294">The NetX Duo DHCPv6 Server directly supports only the DNS server option request.</span></span> <span data-ttu-id="42e35-295">Bu, gelecek sürümlerde değişebilir.</span><span class="sxs-lookup"><span data-stu-id="42e35-295">This may change in future releases.</span></span>

  - <span data-ttu-id="42e35-296">Ön ek temsili seçeneği desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="42e35-296">The Prefix Delegation option is not supported.</span></span>

  - <span data-ttu-id="42e35-297">Temel alınan NetX Duo ortamında IPSec etkinleştiribilse de DHCPv6 iletilerinin kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="42e35-297">Authentication of DHCPv6 messages although IPSec can be enabled in the underlying NetX Duo environment.</span></span> <span data-ttu-id="42e35-298">Her ikisi de NetX Duo DHCPv6 sunucusu Istemcilere geçiş bağlantılarını desteklemez.</span><span class="sxs-lookup"><span data-stu-id="42e35-298">Neither does the NetX Duo DHCPv6 Server support relay connections to the Clients.</span></span> <span data-ttu-id="42e35-299">Tüm Istemci isteklerinin sunucu ağındaki konaklardan kaynaklanan varsayılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="42e35-299">It is assumed all Client requests originate from hosts on the Server network.</span></span>

## <a name="netx-duo-dhcpv6-server-callback-functions"></a><span data-ttu-id="42e35-300">NetX Duo DHCPv6 sunucusu geri çağırma Işlevleri</span><span class="sxs-lookup"><span data-stu-id="42e35-300">NetX Duo DHCPv6 Server Callback Functions</span></span>

<span data-ttu-id="42e35-301">*nx_dhcpv6_IP_address_declined_handler*</span><span class="sxs-lookup"><span data-stu-id="42e35-301">*nx_dhcpv6_IP_address_declined_handler*</span></span>

<span data-ttu-id="42e35-302">DHCPv6 Istemcisi bir reddetme iletisi gönderdiğinde, NetX Duo DHCPv6 sunucusu adresi IPv6 adres tablolarında kullanılamıyor olarak işaretler.</span><span class="sxs-lookup"><span data-stu-id="42e35-302">When the DHCPv6 Client sends a Decline message, the NetX Duo DHCPv6 Server marks the address as not available in its IPv6 address tables.</span></span> <span data-ttu-id="42e35-303">Bu iletinin sunucu işlemesini özelleştirmek için *nx_dhcpv6_IP_address_declined_handler* sağlanır *.*</span><span class="sxs-lookup"><span data-stu-id="42e35-303">To have the ability to customize the Server handling of this message, the *nx_dhcpv6_IP_address_declined_handler* is provided *.*</span></span> <span data-ttu-id="42e35-304">Ancak, bu geri arama şu anda uygulanmadı.</span><span class="sxs-lookup"><span data-stu-id="42e35-304">However, this callback is not currently implemented.</span></span>

<span data-ttu-id="42e35-305">*nx_dhcpv6_server_option_request_handler*</span><span class="sxs-lookup"><span data-stu-id="42e35-305">*nx_dhcpv6_server_option_request_handler*</span></span>

<span data-ttu-id="42e35-306">DHCPv6 Istemci iletisi seçenek isteği verileri içerdiğinde, NetX Duo DHCPv6 sunucusu her bir seçenek isteği seçenek kodunu, tanımlanmışsa bu kullanıcı geri çağırması için iletir.</span><span class="sxs-lookup"><span data-stu-id="42e35-306">When the DHCPv6 Client message contains option request data, the NetX Duo DHCPv6 Server forwards each option request option code to this user callback, if defined.</span></span> <span data-ttu-id="42e35-307">Bu, NetX Duo sunucusuna, Kullanıcı tanımlı geri aramanın verileri doldurmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="42e35-307">This gives the NetX Duo Server the capability to let the user defined callback fill in the data.</span></span> <span data-ttu-id="42e35-308">Ancak bu işlev şu anda uygulanmıyor.</span><span class="sxs-lookup"><span data-stu-id="42e35-308">However this functionality is not currently implemented.</span></span>

## <a name="supported-dhcpv6-rfcs"></a><span data-ttu-id="42e35-309">Desteklenen DHCPv6 RFC 'Leri</span><span class="sxs-lookup"><span data-stu-id="42e35-309">Supported DHCPv6 RFCs</span></span>

<span data-ttu-id="42e35-310">NetX Duo DHCPv6, RFC3315, RFC3646 ve ilgili RFC 'lerle uyumludur.</span><span class="sxs-lookup"><span data-stu-id="42e35-310">NetX Duo DHCPv6 is compliant with RFC3315, RFC3646, and related RFCs.</span></span>