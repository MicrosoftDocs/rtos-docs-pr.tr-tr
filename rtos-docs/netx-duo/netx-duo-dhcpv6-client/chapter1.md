---
title: Bölüm 1-Azure RTOS NetX Duo DHCPv6 Istemcisine giriş
description: IPv6 ağlarında, DHCPv6 bir DHCPv6 sunucusundan dinamik genel IP adresi ataması için DHCP 'yi değiştirir ve birçok geliştirmede de aynı özelliklerin çoğunu sağlar.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 3bf3b52c53bb26e2c9c2c736ae35817eb967f609
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826098"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo-dhcpv6-client"></a><span data-ttu-id="341dd-103">Bölüm 1-Azure RTOS NetX Duo DHCPv6 Istemcisine giriş</span><span class="sxs-lookup"><span data-stu-id="341dd-103">Chapter 1 - Introduction to Azure RTOS NetX Duo DHCPv6 Client</span></span>

<span data-ttu-id="341dd-104">IPv6 ağlarında, DHCPv6 bir DHCPv6 sunucusundan dinamik genel IP adresi ataması için DHCP 'yi değiştirir ve birçok geliştirmede de aynı özelliklerin çoğunu sağlar.</span><span class="sxs-lookup"><span data-stu-id="341dd-104">In IPv6 networks, DHCPv6 replaces DHCP for dynamic global IP address assignment from a DHCPv6 Server, and offers most of the same features as well as many enhancements.</span></span> <span data-ttu-id="341dd-105">Bu belgede, Azure RTOS NetX Duo DHCPv6 Istemci API 'sinin IPv6 adreslerini almak için nasıl kullanıldığı ayrıntılı olarak açıklanacaktır.</span><span class="sxs-lookup"><span data-stu-id="341dd-105">This document will explain in detail how the Azure RTOS NetX Duo DHCPv6 Client API is used to obtain IPv6 addresses.</span></span>

## <a name="dhcpv6-communication"></a><span data-ttu-id="341dd-106">DHCPv6 Iletişimi</span><span class="sxs-lookup"><span data-stu-id="341dd-106">DHCPv6 Communication</span></span>

<span data-ttu-id="341dd-107">DHCPv6 Protokolü UDP kullanır.</span><span class="sxs-lookup"><span data-stu-id="341dd-107">The DHCPv6 protocol uses UDP.</span></span> <span data-ttu-id="341dd-108">Istemci, 546 bağlantı noktasını ve sunucu, DHCPv6 iletilerini değiş tokuş etmek için 547 numaralı bağlantı noktasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="341dd-108">The Client uses port 546 and the Server uses port 547 to exchange DHCPv6 messages.</span></span> <span data-ttu-id="341dd-109">Istemci, kullanılabilir DHCPv6 sunucusuna DHCPv6 isteklerini başlatmak üzere bir kaynak adresi için bağlantı yerel adresini kullanır.</span><span class="sxs-lookup"><span data-stu-id="341dd-109">The Client uses its link local address for a source address to initiate the DHCPv6 requests to the DHCPv6 server(s) available.</span></span> <span data-ttu-id="341dd-110">Istemci ağdaki tüm DHCPv6 sunucularına yönelik iletileri gönderdiğinde, *FF02:: 01:02* çok noktaya yayın adresi *All_DHCP_Relay_Agents_and_Servers* kullanır.</span><span class="sxs-lookup"><span data-stu-id="341dd-110">When the Client sends messages intended for all DHCPv6 servers on the network it uses the *All_DHCP_Relay_Agents_and_Servers* multicast address *FF02::01:02*.</span></span> <span data-ttu-id="341dd-111">Bu, ayrılmış, bağlantı kapsamlı çok noktaya yayın adresidir.</span><span class="sxs-lookup"><span data-stu-id="341dd-111">This is a reserved, link-scoped multicast address.</span></span>

## <a name="dhcpv6-process-of-requesting-an-ipv6-address"></a><span data-ttu-id="341dd-112">IPv6 adresi ısteyen DHCPv6 Işlemi</span><span class="sxs-lookup"><span data-stu-id="341dd-112">DHCPv6 Process of Requesting an IPv6 Address</span></span>

<span data-ttu-id="341dd-113">Genel bir IPv6 adresi ataması isteme işlemini başlatmak için, Istemci önce *nx_dhcpv6_send_solicit* hizmetini kullanarak bir istem iletisi gönderir:</span><span class="sxs-lookup"><span data-stu-id="341dd-113">To begin the process of requesting a global IPv6 address assignment, a Client first sends a SOLICIT message using the *nx_dhcpv6_send_solicit* service:</span></span>

<span data-ttu-id="341dd-114">**UINT nx_dhcpv6_request_solicit (NX_DHCPV6 \* dhcpv6_ptr)**</span><span class="sxs-lookup"><span data-stu-id="341dd-114">**UINT nx_dhcpv6_request_solicit(NX_DHCPV6 \*dhcpv6_ptr)**</span></span>

<span data-ttu-id="341dd-115">Bu ileti, *All_DHCP_Relay_Agents_and_Servers* adresi kullanılarak tüm sunuculara gönderilir.</span><span class="sxs-lookup"><span data-stu-id="341dd-115">This message is sent to all servers using the *All_DHCP_Relay_Agents_and_Servers* address.</span></span> <span data-ttu-id="341dd-116">İstek isteğinde Istemci, belirli IPv6 adreslerinin sunucuya bir ipucu olarak atanmasını isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="341dd-116">In the SOLICIT request, the Client may request the assignment of specific IPv6 address(es) as a hint to the Server.</span></span> <span data-ttu-id="341dd-117">Ayrıca, DNS sunucusu, NTP sunucusu gibi sunucudan diğer ağ yapılandırma bilgilerini ve Istem iletisindeki seçenek Isteğindeki diğer seçenekleri de isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="341dd-117">It can also request other network configuration information from the Server such as DNS server, NTP server and other options in the Option Request in the SOLICIT message.</span></span>

<span data-ttu-id="341dd-118">Istemci isteğine hizmet veren bir DHCPv6 sunucusu, istemciye atayabileceği IPv6 adreslerini, IPv6 adresi kiralama süresini ve Istemci tarafından istenen ek bilgileri içeren bir TANıTıM iletisiyle yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="341dd-118">A DHCPv6 Server that can service a Client request responds with an ADVERTISE message containing the IPv6 address(es) it can assign to the Client, the IPv6 address lease time and any additional information requested by the Client.</span></span> <span data-ttu-id="341dd-119">DHCPv6 Istemci protokolü, Istemcinin ağdaki tüm DHCPv6 sunucularından TANıTıM iletileri alması için bir süre beklemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="341dd-119">The DHCPv6 Client protocol requires the Client to wait for a period of time to receive ADVERTISE messages from all DHCPv6 Servers on the network.</span></span> <span data-ttu-id="341dd-120">Her TANıTıM iletisini geçerli bir ileti olacak şekilde önceden işler ve çeşitli DHCPv6 parametreleri için seçenek verilerini tarar.</span><span class="sxs-lookup"><span data-stu-id="341dd-120">It pre-processes each ADVERTISE message to be a valid message, and scans the option data for various DHCPv6 parameters.</span></span> <span data-ttu-id="341dd-121">Ayrıca, sunucu tarafından sağlandıysa tercih seçeneğinde tercih değeri de kontrol eder.</span><span class="sxs-lookup"><span data-stu-id="341dd-121">It also checks the Preference value in the Preference Option, if supplied by the Server.</span></span> <span data-ttu-id="341dd-122">Birden fazla TANıTıM iletisi alınmışsa NetX DHCPv6 Istemcisi, bekleme döneminin sonuna kadar en yüksek tercih değeri alınan sunucuyu seçer.</span><span class="sxs-lookup"><span data-stu-id="341dd-122">If more than one ADVERTISE message is received, the NetX DHCPv6 Client chooses the Server with the highest preference value received by the end of the wait period.</span></span>

<span data-ttu-id="341dd-123">Istemci, tercih değeri 255 olan bir TANıTıM iletisi alırsa özel durum olur.</span><span class="sxs-lookup"><span data-stu-id="341dd-123">The exception is if the Client receives an ADVERTISE message with a preference value of 255.</span></span> <span data-ttu-id="341dd-124">Bu iletiyi hemen kabul eder ve sonraki TANıTıM iletilerini atar.</span><span class="sxs-lookup"><span data-stu-id="341dd-124">It accepts that message immediately and discards all subsequent ADVERTISE messages.</span></span>

<span data-ttu-id="341dd-125">Bekleme süresi, DHCPv6 Istemcisinin herhangi bir sunucudan yanıt almamışsa başka bir Istem iletisi göndermeden önce bekleyeceği yeniden iletim süresi olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="341dd-125">The wait period is defined as the retransmission period that the DHCPv6 Client waits before sending another SOLICIT message if it has not received a response from any Server.</span></span> <span data-ttu-id="341dd-126">Istem durumundaki ilk yeniden iletim zaman aşımı tarafından, RFC 3315 ' de açıklanan DHCPv6 protokolüne 1 saniye olarak tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="341dd-126">The initial retransmission timeout in the SOLICIT state is defined by to the DHCPv6 protocol described in RFC 3315 to be 1 second.</span></span> <span data-ttu-id="341dd-127">Sonraki yeniden iletim aralıkları, DHCPv6 Istemcisi geçerli bir sunucu yanıtı alamıyorsa, en fazla 120 saniyeye kadar katına çıkar.</span><span class="sxs-lookup"><span data-stu-id="341dd-127">Subsequent retransmission intervals, if the DHCPv6 Client fails to receive a valid Server response, are doubled up to a maximum of 120 seconds.</span></span>

<span data-ttu-id="341dd-128">Sunucu seçildiğinde, Istemci verileri TANıTıM iletisinden ayıklar ve atanan adres bilgilerini ve kira sürelerini kabul etmek için sunucuya bir Istek iletisi gönderir.</span><span class="sxs-lookup"><span data-stu-id="341dd-128">Having chosen the Server, the Client extracts data from the ADVERTISE message and sends a REQUEST message back to the Server to accept the assigned address information and lease times.</span></span> <span data-ttu-id="341dd-129">Sunucu, istemci IPv6 adreslerini doğrulamak için bir yanıt iletisiyle yanıt verir ve istemciye atanan sunucu ile birlikte kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="341dd-129">The Server responds with a REPLY message to confirm the Client IPv6 address(es) are registered with the Server as assigned to the Client.</span></span>

<span data-ttu-id="341dd-130">DHCPv6 Istemcisi atanan IPv6 adreslerini IP örneğiyle (örn. NetX Duo) kaydeder.</span><span class="sxs-lookup"><span data-stu-id="341dd-130">The DHCPv6 Client registers the assigned IPv6 address(es) with the IP instance (e.g NetX Duo).</span></span> <span data-ttu-id="341dd-131">Yinelenen adres algılama (BABACıĞıM) protokolü için yapılandırıldıysa (varsayılan olarak etkindir), NetX Duo, atanan adresleri ağda benzersiz olduğunu doğrulamak için otomatik olarak komşu Istek iletileri gönderir.</span><span class="sxs-lookup"><span data-stu-id="341dd-131">If configured for the Duplicate Address Detection (DAD) protocol (enabled by default), NetX Duo will automatically send Neighbor Solicit messages to verify the assigned address(es) are unique on the network.</span></span> <span data-ttu-id="341dd-132">Bu durumda, atanan her adres belırsız ' den GEÇERLI ' a yükseltildiğinde DHCPv6 Istemcisine bildirir.</span><span class="sxs-lookup"><span data-stu-id="341dd-132">If so, it notifies the DHCPv6 Client when the each assigned address has been promoted from TENTATIVE to VALID.</span></span> <span data-ttu-id="341dd-133">DHCPv6 Istemcisi, bağlantılı duruma yükseltilir ve cihaz, ileti göndermek ve iletmek için bu IPv6 adresini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="341dd-133">The DHCPv6 Client is promoted to the BOUND state and the device may use that IPv6 address to send and transmit messages.</span></span> <span data-ttu-id="341dd-134">BABACıĞıM Protokolü başarısız olursa NetX Duo, DHCPv6 Istemcisine bildirir ve DHCPv6 Istemcisi sunucuya geri atanan IPv6 adresleri için bir reddetme iletisi gönderir ve DHCPv6 Istemci durumunu ıNIT durumuna sıfırlar.</span><span class="sxs-lookup"><span data-stu-id="341dd-134">If the DAD protocol fails, NetX Duo notifies the DHCPv6 Client and the DHCPv6 Client sends a DECLINE message for the IPv6 address(es) assigned back to the Server and resets the DHCPv6 Client state to the INIT state.</span></span>

### <a name="notification-of-successful-address-assignment-and-validation"></a><span data-ttu-id="341dd-135">Başarılı adres atama ve doğrulama bildirimi</span><span class="sxs-lookup"><span data-stu-id="341dd-135">Notification of Successful Address Assignment and Validation</span></span>

<span data-ttu-id="341dd-136">Uygulama, DHCPv6 Istemcisi *nx_dhcpv6_client_create* hizmetinde durum değişikliği geri çağırması ile yapılandırılmışsa durum değişikliklerinden DHCPv6 istemci adresi bağlantısı 'nın sonucunu belirleyebilir.</span><span class="sxs-lookup"><span data-stu-id="341dd-136">The application can determine the result of the DHCPv6 Client address solicitation from the state changes if the DHCPv6 Client is configured with the state change callback in the *nx_dhcpv6_client_create* service.</span></span> <span data-ttu-id="341dd-137">Sunucudan yanıt alırsa, gözlemlenen durum değişikliği gözlemden ıNIT 'e kadar olur.</span><span class="sxs-lookup"><span data-stu-id="341dd-137">If it receives no response from the Server the state change observed is from SOLICIT to INIT.</span></span> <span data-ttu-id="341dd-138">Sunucudan bir yanıt aldıysa, ancak sunucu adresi atayamadığında, uygulama DHCPv6 Istemci sunucusu hata geri çağırması ile yapılandırılmışsa ( *nx_dhcpv6_client_create de) bildirilir.*</span><span class="sxs-lookup"><span data-stu-id="341dd-138">If it received a response from the Server but the Server is unable to assign the address, the application will be notified by the DHCPv6 Client server error callback if configured with one (also in *nx_dhcpv6_client_create).*</span></span> <span data-ttu-id="341dd-139">Istemci, bağlantılı duruma ulaşıldığı halde, BABACıĞıM denetiminde başarısız olursa, bir durum değişikliğini ıNIT 'e göre görür.</span><span class="sxs-lookup"><span data-stu-id="341dd-139">If the Client achieved the BOUND state but then failed the DAD check, it will see a state change from BOUND to INIT.</span></span> <span data-ttu-id="341dd-140">BABACıĞıM için etkinleştirilen bir uygulamanın, istek işlemini başlattıktan sonra baba denetimi zamanına izin vermelidir.</span><span class="sxs-lookup"><span data-stu-id="341dd-140">Note that an application that is enabled for DAD must allow time for the DAD check after starting the request process.</span></span> <span data-ttu-id="341dd-141">Genellikle bu yaklaşık 400-500 onay işareti (çoğu durumda 4-5 saniyedir).</span><span class="sxs-lookup"><span data-stu-id="341dd-141">Typically this is about 400-500 ticks (4-5 seconds in most cases).</span></span>

### <a name="relinquishing-an-ipv6-address"></a><span data-ttu-id="341dd-142">Bir IPv6 adresini yeniden barındırma</span><span class="sxs-lookup"><span data-stu-id="341dd-142">Relinquishing an IPv6 Address</span></span>

<span data-ttu-id="341dd-143">Istemcinin atanan bir IPv6 adresini serbest bırakması gerekiyorsa, *nx_dhcpv6_request_release* hizmetini çağırarak DHCPv6 sunucusuna bildirir:</span><span class="sxs-lookup"><span data-stu-id="341dd-143">If and when the Client needs to release an assigned IPv6 address, it informs the DHCPv6 server by calling the *nx_dhcpv6_request_release* service:</span></span>

### <a name="uint-nx_dhcpv6_request_releasenx_dhcpv6-dhcpv6_ptr"></a><span data-ttu-id="341dd-144">UINT nx_dhcpv6_request_release (NX_DHCPV6 \* dhcpv6_ptr)</span><span class="sxs-lookup"><span data-stu-id="341dd-144">UINT nx_dhcpv6_request_release(NX_DHCPV6 \*dhcpv6_ptr)</span></span>

<span data-ttu-id="341dd-145">DHCPv6 Istemcisi, adresi atayan sunucuya atanan adresleri içeren bir tek noktaya yayın yayın iletisi gönderir ve sunucunun iletiyi aldığını onaylayan bir yanıt bekler.</span><span class="sxs-lookup"><span data-stu-id="341dd-145">The DHCPv6 Client sends a unicast RELEASE message containing the assigned addresses to the Server who assigned the address and waits for a REPLY confirming the Server received the message.</span></span>

<span data-ttu-id="341dd-146">Note: Istemci için başka bir işlem var, ancak yeniden başlatma sırasında atanan IPv6 adreslerini kullanmaya devam etmeyi planlıyor.</span><span class="sxs-lookup"><span data-stu-id="341dd-146">Note: There is a different process for the Client that is powering down but plans to continue using the assigned IPv6 addresses on reboot.</span></span> <span data-ttu-id="341dd-147">Power Up üzerinde yeni bir adres istemeyi planlayana kadar, yayın iletisini güçlendirin.</span><span class="sxs-lookup"><span data-stu-id="341dd-147">It does not send the RELEASE message on powering down unless it plans to request a new address on power up.</span></span> <span data-ttu-id="341dd-148">Bu durumun açıklaması için "geçici olmayan bellek gereksinimleri" bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="341dd-148">See “Non Volatile Memory Requirements” for explanation of this situation.</span></span>

### <a name="dhcpv6-lease-timeouts"></a><span data-ttu-id="341dd-149">DHCPv6 kira zaman aşımları</span><span class="sxs-lookup"><span data-stu-id="341dd-149">DHCPv6 Lease Timeouts</span></span>

<span data-ttu-id="341dd-150">Sunucu tarafından atanan IPv6 kirası, her kimlik Ilişkilendirmesi: geçici olmayan adresler (ıANA) bloğunda iki zaman aşımı parametresi, T1 ve T2 içerir.</span><span class="sxs-lookup"><span data-stu-id="341dd-150">The IPv6 lease assigned by the Server contains two timeout parameters, T1 and T2 in each Identity Association – Non Temporary Addresses (IANA) block.</span></span> <span data-ttu-id="341dd-151">Bir ıANA, bu kullanıcı kılavuzunun başka bir yerinde açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="341dd-151">An IANA is described in elsewhere in this User Guide.</span></span> <span data-ttu-id="341dd-152">DHCPv6 Istemcisinin atanan IPv6 adresine eşit olması durumunda geçen süre, bir yenıleme iletisi göndererek, DHCPv6 Istemcisi otomatik olarak IPv6 adresini yenilemeyi başlatır.</span><span class="sxs-lookup"><span data-stu-id="341dd-152">If the elapsed time from when the DHCPv6 Client was bound to the assigned IPv6 address equals T1, the DHCPv6 Client automatically starts renewing the IPv6 address by sending a RENEW message.</span></span> <span data-ttu-id="341dd-153">Geçen süre T2 'ya eşitse, DHCPv6 Istemcisi yenıleme isteklerine yanıt almamışsa otomatik olarak bir yeniden bağlama iletisi gönderir.</span><span class="sxs-lookup"><span data-stu-id="341dd-153">If the elapsed time equals T2, DHCPv6 Client automatically sends a REBIND message if it received no responses to its RENEW requests.</span></span>

<span data-ttu-id="341dd-154">IANA bloğunda bulunan her bir kimlik Ilişkilendirmesi (IA) bloğu ile, tercih edilen ve geçerli ömür dışında iki diğer IPv6 kira parametresi atanır.</span><span class="sxs-lookup"><span data-stu-id="341dd-154">Two other IPv6 lease parameters, preferred and valid lifetime, are assigned with each Identity Association (IA) block contained in the IANA block.</span></span> <span data-ttu-id="341dd-155">Tercih edilen ve geçerli yaşam süreleri, atanan IPv6 adresinin sırasıyla kullanım dışı veya geçersiz olduğu durumlarda kullanılır.</span><span class="sxs-lookup"><span data-stu-id="341dd-155">The preferred and valid lifetimes are when the assigned IPv6 address is deprecated or invalid, respectively.</span></span> <span data-ttu-id="341dd-156">T1, tercih edilen yaşam süresinden daha az olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="341dd-156">T1 must be less than the preferred lifetime.</span></span> <span data-ttu-id="341dd-157">T2, geçerli yaşam süresinden az olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="341dd-157">T2 must be less than the valid lifetime.</span></span>

### <a name="ip-thread-task-requirements"></a><span data-ttu-id="341dd-158">IP Iş parçacığı görev gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="341dd-158">IP Thread Task Requirements</span></span>

<span data-ttu-id="341dd-159">NetX Duo DHCPv6 Istemcisi, DHCPv6 istemci hizmetlerini kullanmak için DHCPv6 Istemcisini oluşturmadan önce bir NetX Duo IP örneği oluşturulmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="341dd-159">The NetX Duo DHCPv6 Client requires creation of a NetX Duo IP instance previous to creating the DHCPv6 Client to use DHCPv6 Client services.</span></span>

<span data-ttu-id="341dd-160">UDP, IPv6 ve ICMPv6, IP örneğinde, using DHCPv6 Istemcisinden önce etkinleştirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="341dd-160">UDP, IPv6, and ICMPv6 must be enabled on the IP instance prior to the using DHCPv6 Client.</span></span>

  - <span data-ttu-id="341dd-161">*nx_udp_enable*</span><span class="sxs-lookup"><span data-stu-id="341dd-161">*nx_udp_enable*</span></span>

  - <span data-ttu-id="341dd-162">*nxd_ipv6_enable*</span><span class="sxs-lookup"><span data-stu-id="341dd-162">*nxd_ipv6_enable*</span></span>

  - <span data-ttu-id="341dd-163">*nxd_icmp_enable*</span><span class="sxs-lookup"><span data-stu-id="341dd-163">*nxd_icmp_enable*</span></span>

### <a name="packet-pool-requirements"></a><span data-ttu-id="341dd-164">Paket havuzu gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="341dd-164">Packet Pool Requirements</span></span>

<span data-ttu-id="341dd-165">NetX Duo DHCPv6 Istemcisi oluşturma, DHCPv6 iletilerini göndermek için önceden oluşturulmuş bir paket havuzu gerektirir.</span><span class="sxs-lookup"><span data-stu-id="341dd-165">NetX Duo DHCPv6 Client creation requires a previously created packet pool for sending DHCPv6 messages.</span></span> <span data-ttu-id="341dd-166">Paket yükü ve kullanılabilir paket sayısı açısından paket havuzunun boyutu Kullanıcı tarafından yapılandırılabilir ve uygulamanın gönderilecek DHCPv6 iletilerinin ve diğer aktarımların hacmine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="341dd-166">The size of the packet pool in terms of packet payload and number of packets available is user configurable, and depends on the anticipated volume of DHCPv6 messages and other transmissions the application will be sending.</span></span>

<span data-ttu-id="341dd-167">Tipik bir DHCPv6 iletisi, Istemci tarafından istenen IA adreslerinin ve DHCPv6 seçeneklerinin sayısına bağlı olarak 200 bayttır.</span><span class="sxs-lookup"><span data-stu-id="341dd-167">A typical DHCPv6 message is about 200 bytes depending on the number of IA addresses and DHCPv6 options requested by the Client.</span></span>

### <a name="network-requirements"></a><span data-ttu-id="341dd-168">Ağ Gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="341dd-168">Network Requirements</span></span>

<span data-ttu-id="341dd-169">NetX Duo DHCPv6 Istemcisi, 546 numaralı bağlantı noktasına yönelik UDP yuvası oluşturulmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="341dd-169">The NetX Duo DHCPv6 Client requires the creation of UDP socket bound to port 546.</span></span> <span data-ttu-id="341dd-170">Yuva, DHCPv6 Istemci görevi oluşturulduğunda oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="341dd-170">The socket is created when the DHCPv6 Client task is created.</span></span>

### <a name="non-volatile-memory-requirements"></a><span data-ttu-id="341dd-171">Geçici olmayan bellek gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="341dd-171">Non Volatile Memory Requirements</span></span>

<span data-ttu-id="341dd-172">Bir DHCPv6 Istemcisi, kapatılırken DHCPv6 sunucusuyla birlikte IPv6 kiralamasını serbest bırakır ve yeniden başlatma sırasında yeni IPv6 adresleri isterse, geçici olmayan bellek depolaması gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="341dd-172">If a DHCPv6 Client releases its IPv6 lease with the DHCPv6 Server when powering down, and requests new IPv6 address(es) on reboot, then non volatile memory storage is not required.</span></span> <span data-ttu-id="341dd-173">Bir Istemci, atanmış kiralamasını kullanmaya devam etmek isterse, yeniden başlatmalar arasında geçici olmayan bellek için DHCPv6 Istemcisiyle ilgili bazı bilgileri depolaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="341dd-173">If a Client wishes to continue using its assigned lease, it must store certain information about the DHCPv6 Client to non volatile memory across reboots.</span></span>

<span data-ttu-id="341dd-174">Geçici olmayan bellek gereksinimleri ve DHCPv6 Istemci API 'SI, Bölüm 2 ' de **NetX Duo DHCPv6 Istemcisini kullanarak** daha ayrıntılı bir şekilde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="341dd-174">Non volatile memory requirements and the DHCPv6 Client API are discussed further in **Using the NetX Duo DHCPv6 Client** in Chapter Two.</span></span>

### <a name="netx-duo-dhcpv6-client-limitations"></a><span data-ttu-id="341dd-175">NetX Duo DHCPv6 Istemci sınırlamaları</span><span class="sxs-lookup"><span data-stu-id="341dd-175">NetX Duo DHCPv6 Client Limitations</span></span>

<span data-ttu-id="341dd-176">NetX Duo DHCPv6 Istemcisinin geçerli sürümü aşağıdaki sınırlamalara sahiptir:</span><span class="sxs-lookup"><span data-stu-id="341dd-176">The current release of the NetX Duo DHCPv6 Client has the following limitations:</span></span>

  - <span data-ttu-id="341dd-177">NetX Duo DHCPv6 Istemcisi, sunucu buna izin verildiğini belirtse bile DHCPv6 sunucusuna tek noktaya yayın DHCPv6 iletileri göndermek için sunucu tek noktaya yayın seçeneğini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="341dd-177">NetX Duo DHCPv6 Client does not support the Server Unicast option for sending unicast DHCPv6 messages to the DHCPv6 Server even if the Server indicates this is permitted.</span></span>

  - <span data-ttu-id="341dd-178">NetX Duo DHCPv6 Istemcisi, bir sunucunun ağdaki Istemcilerde IPv6 adres değişikliklerini başlattığı yeniden yapılandırma isteğini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="341dd-178">NetX Duo DHCPv6 Client does not support the Reconfigure request in which a Server initiates IPv6 address changes to the Clients on the network.</span></span>

  - <span data-ttu-id="341dd-179">NetX Duo DHCPv6 Istemcisi, DHCPv6 benzersiz tanımlayıcı denetim bloğunun kurumsal biçimini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="341dd-179">NetX Duo DHCPv6 Client does not support the Enterprise format for the DHCPv6 Unique Identifier control block.</span></span> <span data-ttu-id="341dd-180">Yalnızca bağlantı katmanını ve bağlantı katmanını ve zaman biçimini destekler.</span><span class="sxs-lookup"><span data-stu-id="341dd-180">It only supports Link Layer and Link Layer Plus Time format.</span></span>

  - <span data-ttu-id="341dd-181">NetX Duo DHCPv6 Istemcisi geçici Ilişkilendirme (TA) adres isteklerini desteklemez, ancak geçici olmayan (ıANA) seçenek isteklerini destekler.</span><span class="sxs-lookup"><span data-stu-id="341dd-181">NetX Duo DHCPv6 Client does not support Temporary Association (TA) address requests, but does support Non Temporary (IANA) option requests.</span></span>

## <a name="multihome-and-multiple-address-support"></a><span data-ttu-id="341dd-182">Çoklu giriş ve çoklu adres desteği</span><span class="sxs-lookup"><span data-stu-id="341dd-182">Multihome and Multiple Address Support</span></span>

<span data-ttu-id="341dd-183">DHCPv6 Istemcisi, arabirim başına birden çok arabirimi ve birden çok adresi destekler.</span><span class="sxs-lookup"><span data-stu-id="341dd-183">The DHCPv6 Client supports multiple interfaces and multiple addresses per interface.</span></span> <span data-ttu-id="341dd-184">DHCPv6 Istemci hizmeti, *Nx_dhcpv6_client_set_interface* istemci uygulamanın, uygulamanın DHCPv6 sunucusuyla iletişim kuramadığı ağ arabirimini ayarlanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="341dd-184">The DHCPv6 Client service, *nx_dhcpv6_client_set_interface* enables the Client application to set the network interface on which the application will be communicating with the DHCPv6 Server.</span></span> <span data-ttu-id="341dd-185">DHCPv6 Istemcisi birincil arabirime (Dizin sıfır) göre varsayılan değer.</span><span class="sxs-lookup"><span data-stu-id="341dd-185">The DHCPv6 Client defaults to the primary interface (index zero).</span></span>

<span data-ttu-id="341dd-186">Her arabirim için birden çok adres için, DHCPv6 Istemcisi 0 dizininden başlayan bir iç adres listesini tutar.</span><span class="sxs-lookup"><span data-stu-id="341dd-186">For multiple addresses per interface, the DHCPv6 Client keeps an internal list of addresses starting at index 0.</span></span> <span data-ttu-id="341dd-187">DHCPv6 Istemcisiyle aynı adresin, arabirim adresleri IP tablosundaki aynı dizinde konumlandırılabilir olabileceğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="341dd-187">Note that the same address registered with the DHCPv6 Client may not necessarily be located at the same index in the IP table of interface addresses.</span></span>

<span data-ttu-id="341dd-188">Istemci IPv6 adresi kirası hakkında bilgi alan DHCPv6 Istemci Hizmetleri için bazıları için bir adres dizininin belirtilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="341dd-188">For DHCPv6 Client services that retrieve information about the Client IPv6 address lease, some require an address index to be specified.</span></span> <span data-ttu-id="341dd-189">Tercih edilen ve geçerli yaşam sürelerini elde etmenin bir örneği aşağıda gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="341dd-189">An example for obtaining the preferred and valid lifetimes is shown below:</span></span>

```C
UINT nx_dhcpv6_get_valid_ip_address_lease_time(NX_DHCPV6 *dhcpv6_ptr, 
                                              UINT address_index, 
                                              NXD_ADDRESS *ip_address,
                                              ULONG preferred_lifetime, 
                                              ULONG *valid_lifetime)
```

<span data-ttu-id="341dd-190">Istemci uygulaması, *nx_dhcpv6_get_valid_ip_address_count* hizmetinden atanan geçerli IPv6 adreslerinin sayısını da alabilir:</span><span class="sxs-lookup"><span data-stu-id="341dd-190">The Client application can also retrieve the number of valid IPv6 addresses assigned from the *nx_dhcpv6_get_valid_ip_address_count* service:</span></span>

```C
UINT nx_dhcpv6_get_valid_ip_address_count(NX_DHCPV6 *dhcpv6_ptr, 
                                          UINT *address_count)
```

<span data-ttu-id="341dd-191">NetX Duo 'da birden çok adres desteklenmadan önce oluşturulan eski DHCPv6 Istemci Hizmetleri bir adres dizini almaz.</span><span class="sxs-lookup"><span data-stu-id="341dd-191">Legacy DHCPv6 Client services which were created before multiple addresses were supported in NetX Duo do not take an address index.</span></span> <span data-ttu-id="341dd-192">Bu nedenle, bu hizmetlerle, Istemciye kaç tane IA adresinin atandığına bakılmaksızın, istenen veriler birincil Global IA adresinden alınır.</span><span class="sxs-lookup"><span data-stu-id="341dd-192">Therefore, with these services, the data requested is taken from the primary global IA address, regardless how many IA addresses are assigned to the Client.</span></span> <span data-ttu-id="341dd-193">Aşağıda bir örnek gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="341dd-193">An example is shown below:</span></span>

```C
UINT nx_dhcpv6_get_IP_address(NX_DHCPV6 *dhcpv6_ptr, 
                              NXD_ADDRESS *ip_address)
```

## <a name="netx-duo-dhcpv6-client-callback-functions"></a><span data-ttu-id="341dd-194">NetX Duo DHCPv6 Istemci geri çağırma Işlevleri</span><span class="sxs-lookup"><span data-stu-id="341dd-194">NetX Duo DHCPv6 Client Callback Functions</span></span>

<span data-ttu-id="341dd-195">*nx_dhcpv6_state_change_callback*</span><span class="sxs-lookup"><span data-stu-id="341dd-195">*nx_dhcpv6_state_change_callback*</span></span>

<span data-ttu-id="341dd-196">DHCPv6 Istemcisi, DHCPv6 isteğini işlemenin sonucu olarak yeni bir DHCPv6 durumuna değiştirdiğinde, uygulamaya bu geri arama işlevini bildirir.</span><span class="sxs-lookup"><span data-stu-id="341dd-196">When the DHCPv6 Client changes to a new DHCPv6 state as a result of processing a DHCPv6 request, it notifies the application with this callback function.</span></span>

<span data-ttu-id="341dd-197">*nx_dhcpv6_server_error_handler*</span><span class="sxs-lookup"><span data-stu-id="341dd-197">*nx_dhcpv6_server_error_handler*</span></span>

<span data-ttu-id="341dd-198">DHCPv6 Istemcisi sıfır olmayan (başarılı olmayan *) bir durum seçeneği içeren* bir sunucu yanıtı aldığında, bu geri çağırma Ile, sunucu hata durum kodunu Içeren bir sunucu yanıtı alır.</span><span class="sxs-lookup"><span data-stu-id="341dd-198">When the DHCPv6 Client receives a Server reply containing a *Status* option with a non-zero (non successful) status, it notifies the application with this callback which includes the Server error status code.</span></span>

<span data-ttu-id="341dd-199">Not: Bu geri çağırma işlevleri DHCPv6 Istemci iş parçacığı görevinden çağrıldığı için, Istemci uygulaması, *nx_dhcpv6_start, nx_dhcpv6_stop* ve iletileri doğrudan geri aramadan gönderen API 'lerden herhangi biri olan (örn. *Nx_dhcpv6_request_release*) bir NETX Duo DHCPv6 istemci hizmetini çağırmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="341dd-199">Note: Since these callback functions are called from the DHCPv6 Client thread task, the Client application must NOT call any NetX Duo DHCPv6 Client services that require mutex control of the DHCPv6 Client such as *nx_dhcpv6_start, nx_dhcpv6_stop,* and any of the API that send messages directly from the callback e.g. *nx_dhcpv6_request_release*.</span></span>

## <a name="dhcpv6-rfcs"></a><span data-ttu-id="341dd-200">DHCPv6 RFC 'Leri</span><span class="sxs-lookup"><span data-stu-id="341dd-200">DHCPv6 RFCs</span></span>

<span data-ttu-id="341dd-201">NetX Duo DHCP, RFC3315, RFC3646 ve ilgili RFC 'lerle uyumludur.</span><span class="sxs-lookup"><span data-stu-id="341dd-201">NetX Duo DHCP is compliant with RFC3315, RFC3646, and related RFCs.</span></span>