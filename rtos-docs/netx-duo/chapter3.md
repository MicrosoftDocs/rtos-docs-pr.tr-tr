---
title: Bölüm 3-Azure RTOS NetX Duo 'un Işlevsel bileşenleri
description: Bu bölümde, işlevsel bir perspektiften yüksek performanslı Azure RTOS NetX Duo TCP/IP yığınının bir açıklaması yer almaktadır.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 31900c7b822c88079e4b9fe28a8a388d20f819aa
ms.sourcegitcommit: 60ad844b58639d88830f2660ab0c4ff86b92c10f
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/07/2021
ms.locfileid: "106549853"
---
# <a name="chapter-3---functional-components-of-azure-rtos-netx-duo"></a><span data-ttu-id="0fb2f-103">Bölüm 3-Azure RTOS NetX Duo 'un Işlevsel bileşenleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-103">Chapter 3 - Functional Components of Azure RTOS NetX Duo</span></span>

<span data-ttu-id="0fb2f-104">Bu bölümde, işlevsel bir perspektiften yüksek performanslı Azure RTOS NetX Duo TCP/IP yığınının bir açıklaması yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-104">This chapter contains a description of the high- performance Azure RTOS NetX Duo TCP/IP stack from a functional perspective.</span></span> 

## <a name="execution-overview"></a><span data-ttu-id="0fb2f-105">Yürütmeye genel bakış</span><span class="sxs-lookup"><span data-stu-id="0fb2f-105">Execution Overview</span></span>

<span data-ttu-id="0fb2f-106">NetX Duo uygulaması içinde beş tür program yürütme vardır: başlatma, uygulama arabirimi çağrıları, iç IP iş parçacığı, IP dönemsel zamanlayıcılar ve ağ sürücüsü.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-106">There are five types of program execution within a NetX Duo application: initialization, application interface calls, internal IP thread, IP periodic timers, and the network driver.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-107">*NetX Duo, ThreadX 'in varlığını varsayar ve iş parçacığı yürütülmesine, askıya alma, düzenli zamanlayıcılar ve karşılıklı dışlama tesislarına bağlıdır.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-107">*NetX Duo assumes the existence of ThreadX and depends on its thread execution, suspension, periodic timers, and mutual exclusion facilities.*</span></span>

### <a name="initialization"></a><span data-ttu-id="0fb2f-108">Başlatma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-108">Initialization</span></span>

<span data-ttu-id="0fb2f-109">Diğer bir NetX Duo hizmeti çağrılmadan önce, \***nx_system_initialize** _ hizmeti çağrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-109">The service \***nx_system_initialize** _ must be called before any other NetX Duo service is called.</span></span> <span data-ttu-id="0fb2f-110">Sistem başlatması, ThreadX _ *_tx_application_define_*\* işlevinden ya da uygulama iş parçacıklarından çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-110">System initialization can be called either from the ThreadX _ *_tx_application_define_*\* function or from application threads.</span></span>

<span data-ttu-id="0fb2f-111">\***Nx_system_initialize** _ döndüğünde, sistem paket HAVUZLARı ve IP örnekleri oluşturmaya hazırdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-111">After \***nx_system_initialize** _ returns, the system is ready to create packet pools and IP instances.</span></span> <span data-ttu-id="0fb2f-112">Bir IP örneği oluşturmak için varsayılan bir paket havuzu gerektiğinden, bir IP örneği oluşturulmadan önce en az bir NetX Duo paket havuzu bulunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-112">Because creating an IP instance requires a default packet pool, at least one NetX Duo packet pool must exist prior to creating an IP instance.</span></span> <span data-ttu-id="0fb2f-113">ThreadX başlatma işlevi _ *_tx_application_define_*\* ve uygulama iş parçacıklarında paket HAVUZLARı ve IP örnekleri oluşturulmasına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-113">Creating packet pools and IP instances are allowed from the ThreadX initialization function _ *_tx_application_define_*\* and from application threads.</span></span>

<span data-ttu-id="0fb2f-114">Dahili olarak, bir IP örneği oluşturma iki bölümden oluşur: ilk bölüm, ***tx_application_define*** veya bir uygulama iş parçacığının bağlamının bağlamı içinde yapılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-114">Internally, creating an IP instance is accomplished in two parts: The first part is done within the context of the caller, either from ***tx_application_define*** or from an application thread's context.</span></span> <span data-ttu-id="0fb2f-115">Bu, IP veri yapısını ayarlamayı ve iç IP iş parçacığı dahil çeşitli IP kaynakları oluşturmayı içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-115">This includes setting up the IP data structure and creating various IP resources, including the internal IP thread.</span></span> <span data-ttu-id="0fb2f-116">İkinci bölüm, iç IP iş parçacığından ilk yürütme sırasında gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-116">The second part is performed during the initial execution from the internal IP thread.</span></span> <span data-ttu-id="0fb2f-117">Bu, IP oluşturma 'nın ilk bölümü sırasında sağlanan ağ sürücüsünün ilk kez çağrıldığı yerdir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-117">This is where the network driver, supplied during the first part of IP creation, is first called.</span></span> <span data-ttu-id="0fb2f-118">Ağ sürücüsünü iç IP iş parçacığından çağırmak, sürücünün başlatma işlemi sırasında g/ç ve askıya alma işlemlerini gerçekleştirmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-118">Calling the network driver from the internal IP thread enables the driver to perform I/O and suspend during its initialization processing.</span></span>

<span data-ttu-id="0fb2f-119">Ağ sürücüsü başlatma işleminden döndüğünde, IP oluşturma tamamlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-119">When the network driver returns from its initialization processing, the IP creation is complete.</span></span>

<span data-ttu-id="0fb2f-120">NetX Duo 'da IPv6 başlatması için bazı ek NetX Duo Hizmetleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-120">Initialization of IPv6 in NetX Duo requires a few additional NetX Duo services.</span></span> <span data-ttu-id="0fb2f-121">Bunlar, bu bölümün ilerleyen kısımlarında [NetX Duo 'Daki IPv6](#ipv6-in-netx-duo) bölümünde daha ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-121">These are described in greater detail in the section [IPv6 in NetX Duo](#ipv6-in-netx-duo) later in this chapter.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-122">*NetX Duo hizmeti **nx_ip_status_check** , IP örneği ve birincil arabirim durumu hakkında bilgi almak için kullanılabilir. Bu tür durum bilgileri bağlantının başlatılıp başlatılmayacağını, etkin ve IP adresinin çözümlenip çözümlenmediğini içerir. Bu bilgiler, yeni oluşturulan bir IP örneğini kullanması gereken uygulama iş parçacıklarını eşleştirmek için kullanılır. Çoklu giriş sistemleri için bkz. [çok kaynaklı destek](#multihome-support). **nx_ip_interface_status_check** , belirtilen arabirim üzerinde 3ınformation elde etmek için kullanılabilir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-122">*The NetX Duo service **nx_ip_status_check** is available to obtain information on the IP instance and its primary interface status. Such status information includes whether or not the link is initialized, enabled and IP address is resolved. This information is used to synchronize application threads needing to use a newly created IP instance. For multihome systems, see [Multihome Support](#multihome-support). **nx_ip_interface_status_check** is available to obtain 3information on the specified interface.*</span></span>

### <a name="application-interface-calls"></a><span data-ttu-id="0fb2f-123">Uygulama arabirimi çağrıları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-123">Application Interface Calls</span></span>

<span data-ttu-id="0fb2f-124">Uygulamadan yapılan çağrılar, büyük ölçüde ThreadX RTOS altında çalışan uygulama iş parçacıklarından yapılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-124">Calls from the application are largely made from application threads running under the ThreadX RTOS.</span></span> <span data-ttu-id="0fb2f-125">Ancak, bazı başlatma, oluşturma ve etkinleştirme Hizmetleri ***tx_application_define*** adresinden çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-125">However, some initialization, create, and enable services may be called from ***tx_application_define***.</span></span> <span data-ttu-id="0fb2f-126">Bölüm 4 ' te "Izin verilen" bölümler [-Azure RTOS NetX Duo hizmetlerinin açıklaması](chapter4.md) her bir NETX Duo hizmetinin çağrılabilecek olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-126">The "Allowed From" sections in [Chapter 4 - Description of Azure RTOS NetX Duo Services](chapter4.md) indicate from which each NetX Duo service can be called.</span></span>

<span data-ttu-id="0fb2f-127">Genellikle, diğer iş parçacıklarının IP örneğine erişimini engellemeden, bilgi işlem sağlama işlemleri gibi yoğun etkinliklerin işlenmesi, çağıran iş parçacığının bağlamı içinde yapılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-127">For the most part, processing intensive activities such as computing checksums is done within the calling thread's context—without blocking access of other threads to the IP instance.</span></span> <span data-ttu-id="0fb2f-128">Örneğin, iletim sırasında UDP sağlama toplamı hesaplaması, temel alınan IP gönderme işlevi çağrılmadan önce \***nx_udp_socket_send** _ hizmeti içinde gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-128">For example, on transmission, the UDP checksum calculation is performed inside the \***nx_udp_socket_send** _ service, prior to calling the underlying IP send function.</span></span> <span data-ttu-id="0fb2f-129">Alınan bir pakette, UDP sağlama toplamı, uygulama iş parçacığında yürütülen _ *_nx_udp_socket_receive_*\* hizmetinde hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-129">On a received packet, the UDP checksum is calculated in the _ *_nx_udp_socket_receive_*\* service, executed in the  of the application thread.</span></span> <span data-ttu-id="0fb2f-130">Bu, düşük öncelikli iş parçacıklarında yoğun sağlama toplamı hesaplamayı işlerken daha yüksek öncelikli iş parçacıklarının ağ isteklerini önlemeye yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-130">This helps prevent stalling network requests of higher-priority threads because of processing intensive checksum computation in lower-priority threads.</span></span>

<span data-ttu-id="0fb2f-131">IP adresleri ve bağlantı noktası numaraları gibi değerler, ana bilgisayar bayt düzeninde API 'lere geçirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-131">Values, such as IP addresses and port numbers, are passed to APIs in host byte order.</span></span> <span data-ttu-id="0fb2f-132">Bu değerler dahili olarak ana bilgisayar bayt düzeninde de depolanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-132">Internally these values are stored in host byte order as well.</span></span> <span data-ttu-id="0fb2f-133">Bu, geliştiricilerin bir hata ayıklayıcı aracılığıyla değerleri kolayca görüntülemesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-133">This allows developers to easily view the values via a debugger.</span></span> <span data-ttu-id="0fb2f-134">Bu değerler, iletim için bir çerçevede programlandıklarında, ağ bayt sırasına dönüştürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-134">When these values are programmed into a frame for transmission, they are converted to network byte order.</span></span>

### <a name="internal-ip-thread"></a><span data-ttu-id="0fb2f-135">İç IP Iş parçacığı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-135">Internal IP Thread</span></span>

<span data-ttu-id="0fb2f-136">Belirtildiği gibi, NetX Duo 'daki her IP örneğinin kendi iş parçacığı vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-136">As mentioned, each IP instance in NetX Duo has its own thread.</span></span> <span data-ttu-id="0fb2f-137">İç IP iş parçacığının öncelik ve yığın boyutu ***nx_ip_create*** hizmetinde tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-137">The priority and stack size of the internal IP thread is defined in the ***nx_ip_create*** service.</span></span> <span data-ttu-id="0fb2f-138">İç IP iş parçacığı, bir yürütme modunda oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-138">The internal IP thread is created in a ready-to-execute mode.</span></span> <span data-ttu-id="0fb2f-139">IP iş parçacığının, çağıran iş parçacığından daha yüksek bir önceliği varsa, önalım IP oluşturma çağrısı içinde meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-139">If the IP thread has a higher priority than the calling thread, preemption may occur inside the IP create call.</span></span>

<span data-ttu-id="0fb2f-140">İç IP iş parçacığının giriş noktası _ ***nx_ip_thread_entry*** iç işlevidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-140">The entry point of the internal IP thread is at the internal function _ ***nx_ip_thread_entry***.</span></span> <span data-ttu-id="0fb2f-141">Başlatıldığında, iç IP iş parçacığı ilk olarak uygulamaya özgü ağ sürücüsüne üç çağrı yapmaktan oluşan ağ sürücüsü başlatma işlemini tamamlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-141">When started, the internal IP thread first completes network driver initialization, which consists of making three calls to the application-specific network driver.</span></span> <span data-ttu-id="0fb2f-142">İlk çağrı, ağ sürücüsünü IP örneğine eklemek ve ardından, ağ sürücüsünün başlatma işleminden geçmesine izin veren bir başlatma çağrısı olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-142">The first call is to attach the network driver to the IP instance, followed by an initialization call, which allows the network driver to go through the initialization process.</span></span> <span data-ttu-id="0fb2f-143">Ağ sürücüsü başlatma işleminden sonra (donanımın düzgün ayarlanması beklenirken askıda kalabilir), iç IP iş parçacığı bağlantıyı etkinleştirmek için ağ sürücüsünü yeniden çağırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-143">After the network driver returns from initialization (it may suspend while waiting for the hardware to be properly set up), the internal IP thread calls the network driver again to enable the link.</span></span> <span data-ttu-id="0fb2f-144">Ağ sürücüsü bağlantı etkinleştirme çağrısından döndüğünde, iç IP iş parçacığı bu IP örneği için işleme ihtiyacı olan çeşitli olaylar için süresiz bir döngü denetimi girer.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-144">After the network driver returns from the link enable call, the internal IP thread enters a forever loop checking for various events that need processing for this IP instance.</span></span> <span data-ttu-id="0fb2f-145">Bu döngüde işlenen olaylar ertelenmiş IP paket alımı, IP paket parçası derlemesi, ıCMP ping işlemi, ıGMP işleme, TCP paket kuyruğu işleme, TCP düzenli işleme, IP parçası derleme zaman aşımları ve ıGMP düzenli işleme işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-145">Events processed in this loop include deferred IP packet reception, IP packet fragment assembly, ICMP ping processing, IGMP processing, TCP packet queue processing, TCP periodic processing, IP fragment assembly timeouts, and IGMP periodic processing.</span></span> <span data-ttu-id="0fb2f-146">Olaylar ayrıca adres çözümleme etkinliklerini içerir; IPv6 'da ARP paket işleme ve ARP düzenli işleme, IPv4, yinelenen adres algılama, yönlendirici ISTEME ve IPv6 'da komşu bulma.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-146">Events also include address resolution activities; ARP packet processing and ARP periodic processing in IPv4, Duplicate Address Detection, Router Solicitation, and Neighbor Discovery in IPv6.</span></span>

> [!CAUTION]
> <span data-ttu-id="0fb2f-147">*Dinleme ve bağlantı kesme geri çağırmaları dahil NetX Duo geri çağırma işlevleri, özgün çağıran iş parçacığı değil, iç IP iş parçacığından çağırılır. Uygulamanın herhangi bir NetX Duo geri çağırma işlevi içinde askıya alınması gerekli değildir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-147">*The NetX Duo callback functions, including listen and disconnect callbacks, are called from the internal IP thread—not the original calling thread. The application must take care not to suspend inside any NetX Duo callback function.*</span></span>

### <a name="ip-periodic-timers"></a><span data-ttu-id="0fb2f-148">IP dönemsel zamanlayıcılar</span><span class="sxs-lookup"><span data-stu-id="0fb2f-148">IP Periodic Timers</span></span>

<span data-ttu-id="0fb2f-149">Her IP örneği için kullanılan iki ThreadX dönemsel Zamanlayıcı vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-149">There are two ThreadX periodic timers used for each IP instance.</span></span> <span data-ttu-id="0fb2f-150">İlki ARP, ıGMP, TCP zaman aşımı için tek saniyelik bir zamanlayıcıya sahiptir ve ayrıca IP parçası yeniden atama işlemini de yürütür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-150">The first one is a one-second timer for ARP, IGMP, TCP timeout, and it also drives IP fragment reassemble processing.</span></span> <span data-ttu-id="0fb2f-151">İkinci süreölçer, TCP yeniden iletim zaman aşımını ve IPv6 ile ilgili işlemleri sağlamak için bir 100ms Zamanlayıcı olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-151">The second timer is a 100ms timer to drive the TCP retransmission timeout and IPv6-related operations.</span></span>

### <a name="network-driver"></a><span data-ttu-id="0fb2f-152">Ağ sürücüsü</span><span class="sxs-lookup"><span data-stu-id="0fb2f-152">Network Driver</span></span>

<span data-ttu-id="0fb2f-153">NetX Duo 'daki her IP örneğinin, ***nx_ip_create*** hizmetinde belirtilen cihaz sürücüsü tarafından tanımlanan bir birincil arabirimi vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-153">Each IP instance in NetX Duo has a primary interface, which is identified by its device driver specified in the ***nx_ip_create*** service.</span></span> <span data-ttu-id="0fb2f-154">Ağ sürücüsü paket iletimi, paket alımı ve durum ve denetim istekleri dahil çeşitli NetX Duo isteklerini işlemekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-154">The network driver is responsible for handling various NetX Duo requests, including packet transmission, packet reception, and requests for status and control.</span></span> 

<span data-ttu-id="0fb2f-155">Birden çok ana sistem için, IP örneğinde, her biri ilgili arabirim için bu görevleri gerçekleştiren ilişkili bir ağ sürücüsüne sahip birden çok arabirim vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-155">For a multi-home system, the IP instance has multiple interfaces, each with an associated network driver that performs these tasks for the respective interface.</span></span>

<span data-ttu-id="0fb2f-156">Ağ sürücüsünün Ayrıca medyada gerçekleşen zaman uyumsuz olayları işlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-156">The network driver must also handle asynchronous events occurring on the media.</span></span> <span data-ttu-id="0fb2f-157">Medyadan gelen zaman uyumsuz olaylar, paket alımı, paket iletimi tamamlama ve durum değişiklikleri içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-157">Asynchronous events from the media include packet reception, packet transmission completion, and status changes.</span></span> <span data-ttu-id="0fb2f-158">NetX Duo, çeşitli olayları işlemek için çeşitli erişim işlevleriyle ağ sürücüsüne olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-158">NetX Duo provides the network driver with several access functions to handle various events.</span></span> <span data-ttu-id="0fb2f-159">Bu işlevler, ağ sürücüsünün kesme hizmeti rutin kısmından çağrılabilir şekilde tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-159">These functions are designed to be called from the  interrupt service routine portion of the network driver.</span></span> <span data-ttu-id="0fb2f-160">IPv4 ağları için, ağ sürücüsü ***_nx_arp_packet_deferred_receive*** iç işleve ALıNAN tüm ARP paketlerini iletmelidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-160">For IPv4 networks, the network driver should forward all ARP packets received to the ***_nx_arp_packet_deferred_receive*** internal function.</span></span> <span data-ttu-id="0fb2f-161">Tüm RARP paketlerinin \***_nx_rarp_packet_deferred_receive** _ iç işlevine iletilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-161">All RARP packets should be forwarded to \***_nx_rarp_packet_deferred_receive** _ internal function.</span></span> <span data-ttu-id="0fb2f-162">IP paketlerine yönelik iki seçenek vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-162">There are two options for IP packets.</span></span> <span data-ttu-id="0fb2f-163">IP paketlerinin hızlı gönderimi gerekliyse, anında işlenmek üzere gelen IP paketlerinin _ *_ _nx_ip_packet_receive_* _ ' e iletilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-163">If fast dispatch of IP packets is required, incoming IP packets should be forwarded to _ *_ _nx_ip_packet_receive_* _ for immediate processing.</span></span> <span data-ttu-id="0fb2f-164">Bu, IP paketlerini işlemede NetX Duo performansını önemli ölçüde artırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-164">This greatly improves NetX Duo performance in handling IP packets.</span></span> <span data-ttu-id="0fb2f-165">Aksi takdirde, IP paketlerinin _ *_ _nx_ip_packet_deferred_receive_*\* öğesine iletilmesi yapılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-165">Otherwise, forwarding IP packets to _ *_ _nx_ip_packet_deferred_receive_*\* should be done.</span></span> <span data-ttu-id="0fb2f-166">Bu hizmet, IP paketini ertelenmiş işleme kuyruğuna koyar ve daha sonra iç IP iş parçacığı tarafından işlenir ve bu da en az ıSR işlem süresine neden olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-166">This service places the IP packet in the deferred processing queue where it is then handled by the internal IP thread, which results in the least amount of ISR processing time.</span></span>

<span data-ttu-id="0fb2f-167">Ağ sürücüsü aynı zamanda kesme işlemeyi IP iş parçacığı bağlamında çalışacak şekilde erteleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-167">The network driver can also defer interrupt processing to run out of the context of the IP thread.</span></span> <span data-ttu-id="0fb2f-168">Bu modda, ıSR gerekli bilgileri kaydeder, iç işlev ***_nx_ip_driver_deferred_processing*** çağırır ve kesme denetleyicisini kabul ediyor.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-168">In this mode, the ISR shall save the necessary information, call the internal function ***_nx_ip_driver_deferred_processing***, and acknowledge the interrupt controller.</span></span> <span data-ttu-id="0fb2f-169">Bu hizmet, IP iş parçacığını, kesintiye neden olan olayın işlemini tamamlaması için cihaz sürücüsüne bir geri çağırma zamanlamasını bildirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-169">This service notifies IP thread to schedule a callback to the device driver to complete the process of the event that causes the interrupt.</span></span>

<span data-ttu-id="0fb2f-170">Bazı ağ denetleyicileri, değerli CPU kaynakları oluşturmadan donanımda TCP/IP üst bilgi sağlama toplamı hesaplama ve doğrulama işlemlerini gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-170">Some network controllers are capable of performing TCP/IP header checksum computation and validation in hardware, without taking up valuable CPU resources.</span></span> <span data-ttu-id="0fb2f-171">NetX Duo, donanım özelliği özelliğinden yararlanmak için, derleme zamanında çeşitli yazılım sağlama toplamı hesaplamasını etkinleştirmek veya devre dışı bırakmak için seçenekler sağlar ve cihaz sürücüsü, donanım özellikleri hakkında IP katmanıyla iletişim kurabiliyorsa çalışma zamanında sağlama toplamı hesaplamasını açıp devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-171">To take advantage of the hardware capability feature, NetX Duo provides options to enable or disable various software checksum computation at compilation time, as well as turning on or off checksum computation at run time, if the device driver is able to communicate with the IP layer about is hardware capabilities.</span></span> <span data-ttu-id="0fb2f-172">NetX Duo ağ sürücülerini yazma hakkında daha ayrıntılı bilgi için bkz. [Bölüm 5-Azure RTOS NetX Duo ağ sürücüleri](chapter5.md) .</span><span class="sxs-lookup"><span data-stu-id="0fb2f-172">See [Chapter 5 - Azure RTOS NetX Duo Network Drivers](chapter5.md) for more detailed information on writing NetX Duo network drivers.</span></span>

### <a name="multihome-support"></a><span data-ttu-id="0fb2f-173">Çoklu giriş desteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-173">Multihome Support</span></span>

<span data-ttu-id="0fb2f-174">NetX Duo, tek bir IP örneği kullanılarak birden çok fiziksel cihaza bağlı olan sistemleri destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-174">NetX Duo supports systems connected to multiple physical devices using a single IP instance.</span></span> <span data-ttu-id="0fb2f-175">Her fiziksel arabirim, IP örneğindeki bir arabirim Denetim bloğuna atanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-175">Each physical interface is assigned to an interface control block in the IP instance.</span></span> <span data-ttu-id="0fb2f-176">Çok ana bir sistem kullanmak isteyen uygulamalar, \***NX_MAX_PHSYCIAL_INTERFACES** _ değerini sisteme bağlı fiziksel cihaz sayısına göre tanımlamalıdır ve NETX Duo kitaplığını yeniden derlemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-176">Applications wishing to use a multihome system must define the value for \***NX_MAX_PHSYCIAL_INTERFACES** _ to the number of physical devices attached to the system, and rebuild NetX Duo library.</span></span> <span data-ttu-id="0fb2f-177">Varsayılan olarak _ \*_NX_MAX_PHYSICAL_INTERFACES_\*\*, IP örneğinde bir arabirim denetim bloğu oluşturarak bir tane olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-177">By default _ *_NX_MAX_PHYSICAL_INTERFACES_*\* is set to one, creating one interface control block in the IP instance.</span></span>

<span data-ttu-id="0fb2f-178">NetX Duo uygulaması, \***nx_ip_create** _ hizmeti kullanılarak birincil cihaz için tek bir IP örneği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-178">The NetX Duo application creates a single IP instance for the primary device using the \***nx_ip_create** _ service.</span></span> <span data-ttu-id="0fb2f-179">Uygulama, her ek ağ aygıtı için, _ *_nx_ip_interface_attach_*\* hizmetini kullanarak cihazı IP örneğine iliştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-179">For each additional network devices, the application attaches the device to the IP instance using the _ *_nx_ip_interface_attach_*\* service.</span></span>

<span data-ttu-id="0fb2f-180">Her ağ arabirimi yapısı, IP denetim bloğunda arabirim IPv4 adresi, alt ağ maskesi, IP MTU boyutu ve MAC-katman adresi bilgileri de dahil olmak üzere ağ arabirimi hakkındaki ağ bilgilerinin bir alt kümesini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-180">Each network interface structure contains a subset of network information about the network interface that is contained in the IP control block, including interface IPv4 address, subnet mask, IP MTU size, and MAC-layer address information.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-181">*Multihome desteğiyle NetX Duo, NetX Duo 'un önceki sürümleriyle geriye dönük olarak uyumludur. Birincil ağ cihazına açık arabirim bilgilerini varsayılan olmayan hizmetler.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-181">*NetX Duo with multihome support is backward compatible with earlier versions of NetX Duo. Services that do not take explicit interface information default to the primary network device.*</span></span>

<span data-ttu-id="0fb2f-182">Birincil arabirimde IP örneği listesinde sıfır dizini vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-182">The primary interface has index zero in the IP instance list.</span></span> <span data-ttu-id="0fb2f-183">IP örneğine eklenen her bir sonraki cihaza bir sonraki dizin atanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-183">Each subsequent device attached to the IP instance is assigned the next index.</span></span>

<span data-ttu-id="0fb2f-184">TCP, UDP, ıCMP ve ıGMP dahil olmak üzere IP örneğinin etkinleştirildiği tüm üst katman protokol Hizmetleri, tüm bağlı cihazlar için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-184">All upper layer protocol services for which the IP instance is enabled, including TCP, UDP, ICMP, and IGMP, are available to all the attached devices.</span></span>

<span data-ttu-id="0fb2f-185">Çoğu durumda NetX Duo bir paket aktarırken kullanılacak en iyi kaynak adresini belirleyebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-185">In most cases, NetX Duo can determine the best source address to use when transmitting a packet.</span></span> <span data-ttu-id="0fb2f-186">Kaynak adresi seçimi, hedef adresi temel alır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-186">The source address selection is based on the destination address.</span></span> <span data-ttu-id="0fb2f-187">NetX Duo Hizmetleri, uygulamaların kullanılmak üzere belirli bir kaynak adresi belirtmesini sağlamak için eklenir ve en uygun bir durum hedef adres tarafından belirlenemez.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-187">NetX Duo services are added to allow applications to specify a specific source address to use, in cases where the most suitable one cannot be determined by the destination address.</span></span> <span data-ttu-id="0fb2f-188">Bir örnek, çok ana bir sistemde, bir uygulamanın bir IPv4 yayınına veya çok noktaya yayın hedef adreslerine bir paket gönderebilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-188">An example would be in a multihome system, an application needs to send a packet to an IPv4 broadcast or multicast destination addresses.</span></span>

<span data-ttu-id="0fb2f-189">Özellikle çok ana uygulamalar geliştirmeye yönelik hizmetler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-189">Services specifically for developing multihome applications include the following:</span></span>

- <span data-ttu-id="0fb2f-190">*nx_igmp_multicast_interface_join*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-190">*nx_igmp_multicast_interface_join*</span></span>
- <span data-ttu-id="0fb2f-191">*nx_igmp_multicast_interface_leave*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-191">*nx_igmp_multicast_interface_leave*</span></span>
- <span data-ttu-id="0fb2f-192">*nx_ip_driver_interface_direct_command*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-192">*nx_ip_driver_interface_direct_command*</span></span>
- <span data-ttu-id="0fb2f-193">*nx_ip_interface_address_get*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-193">*nx_ip_interface_address_get*</span></span>
- <span data-ttu-id="0fb2f-194">*nx_ip_interface_address_mapping_configure*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-194">*nx_ip_interface_address_mapping_configure*</span></span>
- <span data-ttu-id="0fb2f-195">*nx_ip_interface_address_set*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-195">*nx_ip_interface_address_set*</span></span>  
- <span data-ttu-id="0fb2f-196">*nx_ip_interface_attach*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-196">*nx_ip_interface_attach*</span></span>
- <span data-ttu-id="0fb2f-197">*nx_ip_interface_capability_get*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-197">*nx_ip_interface_capability_get*</span></span> 
- <span data-ttu-id="0fb2f-198">*nx_ip_interface_capability_set*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-198">*nx_ip_interface_capability_set*</span></span>
- <span data-ttu-id="0fb2f-199">*nx_ip_interface_detach*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-199">*nx_ip_interface_detach*</span></span>
- <span data-ttu-id="0fb2f-200">*nx_ip_interface_info_get*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-200">*nx_ip_interface_info_get*</span></span>
- <span data-ttu-id="0fb2f-201">*nx_ip_interface_mtu_set*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-201">*nx_ip_interface_mtu_set*</span></span>
- <span data-ttu-id="0fb2f-202">*nx_ip_interface_physical_address_get*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-202">*nx_ip_interface_physical_address_get*</span></span>
- <span data-ttu-id="0fb2f-203">*nx_ip_interface_physical_address_set*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-203">*nx_ip_interface_physical_address_set*</span></span>
- <span data-ttu-id="0fb2f-204">*nx_ip_interface_status_check*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-204">*nx_ip_interface_status_check*</span></span>
- <span data-ttu-id="0fb2f-205">*nx_ip_raw_packet_source_send*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-205">*nx_ip_raw_packet_source_send*</span></span>
- <span data-ttu-id="0fb2f-206">*nx_ipv4_multicast_interface_join*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-206">*nx_ipv4_multicast_interface_join*</span></span>
- <span data-ttu-id="0fb2f-207">*nx_ipv4_multicast_interface_leave*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-207">*nx_ipv4_multicast_interface_leave*</span></span>
- <span data-ttu-id="0fb2f-208">*nx_udp_socket_source_send*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-208">*nx_udp_socket_source_send*</span></span>
- <span data-ttu-id="0fb2f-209">*nxd_ipv6_multicast_interface_join*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-209">*nxd_ipv6_multicast_interface_join*</span></span>
- <span data-ttu-id="0fb2f-210">*nxd_ipv6_multicast_interface_leave*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-210">*nxd_ipv6_multicast_interface_leave*</span></span> 
- <span data-ttu-id="0fb2f-211">*nxd_udp_socket_source_send*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-211">*nxd_udp_socket_source_send*</span></span>
- <span data-ttu-id="0fb2f-212">*nxd_icmp_source_ping*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-212">*nxd_icmp_source_ping*</span></span>
- <span data-ttu-id="0fb2f-213">*nxd_ip_raw_packet_source_send*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-213">*nxd_ip_raw_packet_source_send*</span></span>
- <span data-ttu-id="0fb2f-214">*nxd_udp_socket_source_send*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-214">*nxd_udp_socket_source_send*</span></span>

<span data-ttu-id="0fb2f-215">Bu hizmetler [NetX Duo hizmetlerinin açıklaması](chapter4.md)bölümünde daha ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-215">These services are explained in greater detail in [Description of NetX Duo Services](chapter4.md).</span></span>

### <a name="loopback-interface"></a><span data-ttu-id="0fb2f-216">Geri döngü arabirimi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-216">Loopback Interface</span></span>

<span data-ttu-id="0fb2f-217">Geri döngü arabirimi, bağlı bir fiziksel bağlantısı olmayan özel bir ağ arabirimidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-217">The loopback interface is a special network interface without an physical link attached to.</span></span> <span data-ttu-id="0fb2f-218">Geri döngü arabirimi, mantıksal bir geri döngü arabirimini kullanmak Için 127.0.0.1 IPv4 geri döngü adresini kullanarak iletişim kurmasına izin verir, yapılandırılabilir seçeneğinin ***NX_DISABLE_LOOPBACK_INTERFACE*** ayarlanmamış olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-218">The loopback interface allows applications to communicate using the IPv4 loopback address 127.0.0.1 To utilize a logical loopback interface, ensure the configurable option ***NX_DISABLE_LOOPBACK_INTERFACE*** is not set.</span></span>

### <a name="interface-control-blocks"></a><span data-ttu-id="0fb2f-219">Arabirim denetim blokları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-219">Interface Control Blocks</span></span>

<span data-ttu-id="0fb2f-220">IP örneğindeki arabirim denetim bloklarının sayısı, fiziksel arabirimlerin sayısıdır (\***NX_MAX_PHYSICAL_INTERFACES** _ tarafından tanımlanır) ve etkinse geri döngü arabirimi.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-220">The number of interface control blocks in the IP instance is the number of physical interfaces (defined by \***NX_MAX_PHYSICAL_INTERFACES** _) plus the loopback interface if it is enabled.</span></span> <span data-ttu-id="0fb2f-221">Toplam arabirim sayısı _ *_NX_MAX_IP_INTERFACES_* \* içinde tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-221">The total number of interfaces is defined in _\*_NX_MAX_IP_INTERFACES_\*\*.</span></span>

## <a name="protocol-layering"></a><span data-ttu-id="0fb2f-222">Protokol katmanlama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-222">Protocol Layering</span></span>

<span data-ttu-id="0fb2f-223">NetX Duo tarafından uygulanan TCP/IP katmanlı bir protokoldür, bu da daha karmaşık protokollerin daha basit alt protokollerin üzerine derlendiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-223">The TCP/IP implemented by NetX Duo is a layered protocol, which means more complex protocols are built on top of simpler underlying protocols.</span></span> <span data-ttu-id="0fb2f-224">TCP/IP 'de, en düşük katman Protokolü *bağlantı düzeyindedir* ve ağ sürücüsü tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-224">In TCP/IP, the lowest layer protocol is at the *link level* and is handled by the network driver.</span></span> <span data-ttu-id="0fb2f-225">Bu düzey genellikle Ethernet 'e yöneliktir, ancak fiber, seri veya neredeyse herhangi bir fiziksel medya olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-225">This level is typically targeted towards Ethernet, but it could also be fiber, serial, or virtually any physical media.</span></span>

<span data-ttu-id="0fb2f-226">Bağlantı katmanının en üstünde *ağ katmanı* bulunur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-226">On top of the link layer is the *network layer*.</span></span> <span data-ttu-id="0fb2f-227">TCP/IP 'de, bu IP 'nin basit paketleri (en iyi çabayla) ağ genelinde gönderilmesinin ve almamasından sorumlu olan IP 'dir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-227">In TCP/IP, this is the IP, which is basically responsible for sending and receiving simple packets—in a best-effort manner—across the network.</span></span> <span data-ttu-id="0fb2f-228">ICMP ve ıGMP gibi yönetim türü protokoller, genellikle IP 'yi gönderme ve alma için kullandıkları halde ağ katmanları olarak kategorize edilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-228">Management-type protocols like ICMP and IGMP are typically also categorized as network layers, even though they rely on IP for sending and receiving.</span></span>

<span data-ttu-id="0fb2f-229">*Aktarım katmanı* , ağ katmanının üzerine oturduğu.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-229">The *transport layer* rests on top of the network layer.</span></span> <span data-ttu-id="0fb2f-230">Bu katman, ağ üzerindeki konaklar arasında veri akışını yönetmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-230">This layer is responsible for managing the flow of data between hosts on the network.</span></span> <span data-ttu-id="0fb2f-231">NetX Duo: UDP ve TCP tarafından desteklenen iki tür aktarım hizmeti vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-231">There are two types of transport services supported by NetX Duo: UDP and TCP.</span></span> <span data-ttu-id="0fb2f-232">UDP Hizmetleri, iki ana bilgisayar arasında bağlantısız bir şekilde verileri en iyi şekilde gönderme ve alma olanağı sağlarken, TCP iki konak varlık arasında güvenilir bir bağlantı yönelimli hizmet sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-232">UDP services provide best-effort sending and receiving of data between two hosts in a connectionless manner, while TCP provides reliable connection-oriented service between two host entities.</span></span>

<span data-ttu-id="0fb2f-233">Bu katman, gerçek ağ veri paketlerine yansıtılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-233">This layering is reflected in the actual network data packets.</span></span> <span data-ttu-id="0fb2f-234">TCP/IP içindeki her katman, üst bilgi olarak adlandırılan bir bilgi bloğu içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-234">Each layer in TCP/IP contains a block of information called a header.</span></span> <span data-ttu-id="0fb2f-235">Bu verilere (ve muhtemelen protokol bilgilerine) sahip bir üst bilgi içeren bu teknik genellikle veri kapsülleme olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-235">This technique of surrounding data (and possibly protocol information) with a header is typically called data encapsulation.</span></span> <span data-ttu-id="0fb2f-236">Şekil 1 ' de NetX Duo katmanlama örneği gösterilmektedir ve Şekil 2 gönderilen UDP verileri için elde edilen veri kapsüllemesini gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-236">Figure 1 shows an example of NetX Duo layering and Figure 2 shows the resulting data encapsulation for UDP data being sent.</span></span>

![Protokol katmanlama](./media/user-guide/image12.jpg)

<span data-ttu-id="0fb2f-238">**ŞEKIL 1. Protokol katmanlama**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-238">**FIGURE 1. Protocol Layering**</span></span>

## <a name="packet-pools"></a><span data-ttu-id="0fb2f-239">Paket havuzları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-239">Packet Pools</span></span>

<span data-ttu-id="0fb2f-240">Paketleri hızlı ve belirleyici bir şekilde ayırmak, gerçek zamanlı ağ uygulamalarında her zaman zorluk sergilemektir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-240">Allocating packets in a fast and deterministic manner is always a challenge in real-time networking applications.</span></span> <span data-ttu-id="0fb2f-241">NetX Duo, bu şekilde, birden çok sabit boyutlu ağ paketi havuzu oluşturma ve yönetme olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-241">With this in mind, NetX Duo provides the ability to create and manage multiple pools of fixed-size network packets.</span></span>

<span data-ttu-id="0fb2f-242">NetX Duo Paket havuzları sabit boyutlu bellek blokları içerdiğinden, hiçbir iç parçalama sorunu yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-242">Because NetX Duo packet pools consist of fixed-size memory blocks, there are never any internal fragmentation problems.</span></span> <span data-ttu-id="0fb2f-243">Tabii ki parçalama, doğal olarak belirleyici olmayan davranışa neden olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-243">Of course, fragmentation causes behavior that is inherently nondeterministic.</span></span> <span data-ttu-id="0fb2f-244">Ayrıca, bir NetX Duo paket miktarını ayırmak ve serbest bırakmak için gereken süre basit bağlantılı liste işleme.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-244">In addition, the time required to allocate and free a NetX Duo packet amounts to simple linked-list manipulation.</span></span> <span data-ttu-id="0fb2f-245">Ayrıca, paket ayırma ve ayırmayı kaldırma, kullanılabilir listenin başında yapılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-245">Furthermore, packet allocation and deallocation is done at the head of the available list.</span></span> <span data-ttu-id="0fb2f-246">Bu, mümkün olan en hızlı bağlantılı liste işlemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-246">This provides the fastest possible linked list processing.</span></span>

![UDP veri kapsülleme](./media/user-guide/image13.png)

<span data-ttu-id="0fb2f-248">**ŞEKIL 2. UDP veri kapsülleme**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-248">**FIGURE 2. UDP Data Encapsulation**</span></span>

<span data-ttu-id="0fb2f-249">Esneklik olmaması genellikle sabit boyutlu paket havuzlarının başlıca dezavantajıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-249">Lack of flexibility is typically the main drawback of fixed-size packet pools.</span></span> <span data-ttu-id="0fb2f-250">Büyük/küçük harfe gelen paketi de işleyen en iyi paket yükü boyutunun belirlenmesi zor bir görevdir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-250">Determining the optimal packet payload size that also handles the worst-case incoming packet is a difficult task.</span></span> <span data-ttu-id="0fb2f-251">NetX Duo paketleri, bu sorunu paket zincirleme adlı isteğe bağlı bir özellikle ele maktadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-251">NetX Duo packets address this problem with an optional feature called packet chaining.</span></span> <span data-ttu-id="0fb2f-252">Gerçek bir ağ paketi, birbirine bağlı bir veya daha fazla NetX Duo paketi yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-252">An actual network packet can be made of one or more NetX Duo packets linked together.</span></span> <span data-ttu-id="0fb2f-253">Ayrıca, paket üst bilgisi paketin en üstüne bir işaretçi tutar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-253">In addition, the packet header maintains a pointer to the top of the packet.</span></span> <span data-ttu-id="0fb2f-254">Ek protokoller eklendikçe, bu işaretçi geriye doğru taşınır ve yeni üst bilgi doğrudan verilerin önüne yazılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-254">As additional protocols are added, this pointer is simply moved backwards and the new header is written directly in front of the data.</span></span> <span data-ttu-id="0fb2f-255">Esnek paket teknolojisi olmadan, yığının başka bir arabellek ayırması ve verileri yeni bir üst bilgiyle, yoğun işleme alan yeni bir arabelleğe kopyalaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-255">Without the flexible packet technology, the stack would have to allocate another buffer and copy the data into a new buffer with the new header, which is processing intensive.</span></span>

<span data-ttu-id="0fb2f-256">Her paket yükü boyutu belirli bir paket havuzu için düzeltildiğinden, yük boyutundan daha büyük olan uygulama verileri birlikte birden çok paket zincirleme gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-256">Since each packet payload size is fixed for a given packet pool, application data larger than the payload size would require multiple packets chained together.</span></span> <span data-ttu-id="0fb2f-257">Bir paketi kullanıcı verileriyle doldururken, uygulama hizmeti ***nx_packet_data_append*** kullanacaktır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-257">When filling a packet with user data, the application shall use the service ***nx_packet_data_append***.</span></span> <span data-ttu-id="0fb2f-258">Bu hizmet uygulama verilerini bir pakete taşıtur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-258">This service moves application data into a packet.</span></span> <span data-ttu-id="0fb2f-259">Bir paketin Kullanıcı verilerini tutmak için yeterli olmadığı durumlarda, Kullanıcı verilerini depolamak için ek paketler ayrılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-259">In situations where a packet is not enough to hold user data, additional packets are allocated to store user data.</span></span> <span data-ttu-id="0fb2f-260">Paket zincirlemesini kullanmak için, sürücünün zincirleme paketlere alabilmesi ya da bu paketten iletim yapabilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-260">To use packet chaining, the driver must be able to receive into or transmit from chained packets.</span></span>

<span data-ttu-id="0fb2f-261">Paket zincirleme özelliğini kullanması gerekmeyen ekli sistemler için, NetX Duo kitaplığı, paket zincirleme mantığını kaldırmak için \***NX_DISABLE_PACKET_CHAIN** _ ile oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-261">For embedded systems that do not need to use the packet chaining feature, the NetX Duo library can be built with \***NX_DISABLE_PACKET_CHAIN** _ to remove the packet chaining logic.</span></span> <span data-ttu-id="0fb2f-262">IP parçalama ve yeniden birleştirme özelliğinin zincirleme paket özelliğini kullanmak zorunda olabileceğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-262">Note that the IP fragmentation and reassembly feature may need to utilize the chained packet feature.</span></span> <span data-ttu-id="0fb2f-263">Bu nedenle _*_NX_DISABLE_PACKET_CHAIN_*_ tanımlanması _ *_NX_DISABLE_FRAGMENTATION_*\* için de tanımlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-263">Therefore defining _*_NX_DISABLE_PACKET_CHAIN_*_ requires _ *_NX_DISABLE_FRAGMENTATION_*\* also be defined.</span></span> 

<span data-ttu-id="0fb2f-264">Her NetX Duo paket bellek havuzu, genel bir kaynaktır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-264">Each NetX Duo packet memory pool is a public resource.</span></span> <span data-ttu-id="0fb2f-265">NetX Duo, paket havuzlarının nasıl kullanılbileceğine ilişkin bir kısıtlama yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-265">NetX Duo places no constraints on how packet pools are used.</span></span> 

### <a name="packet-pool-memory-area"></a><span data-ttu-id="0fb2f-266">Paket havuzu bellek alanı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-266">Packet Pool Memory Area</span></span>

<span data-ttu-id="0fb2f-267">Paket havuzu için bellek alanı oluşturma sırasında belirtilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-267">The memory area for the packet pool is specified during creation.</span></span> <span data-ttu-id="0fb2f-268">ThreadX ve NetX Duo nesneleri için diğer bellek alanları gibi, hedefin adres alanındaki herhangi bir yerde bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-268">Like other memory areas for ThreadX and NetX Duo objects, it can be located anywhere in the target's address space.</span></span> 

<span data-ttu-id="0fb2f-269">Bu, uygulamaya verdiği önemli esneklik nedeniyle önemli bir özelliktir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-269">This is an important feature because of the considerable flexibility it gives the application.</span></span> <span data-ttu-id="0fb2f-270">Örneğin, bir iletişim ürününün ağ arabellekleri için yüksek hızlı bellek alanı olduğunu varsayalım.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-270">For example, suppose that a communication product has a high-speed memory area for network buffers.</span></span> <span data-ttu-id="0fb2f-271">Bu bellek alanı, bir NetX Duo paket bellek havuzunda yapılarak kolayca kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-271">This memory area is easily utilized by making it into a NetX Duo packet memory pool.</span></span>

### <a name="creating-packet-pools"></a><span data-ttu-id="0fb2f-272">Paket havuzları oluşturma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-272">Creating Packet Pools</span></span>

<span data-ttu-id="0fb2f-273">Paket havuzları, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-273">Packet pools are created either during initialization or during runtime by  application threads.</span></span> <span data-ttu-id="0fb2f-274">Bir NetX Duo uygulamasındaki paket belleği havuzlarının sayısında sınır yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-274">There are no limits on the number of packet memory pools in a NetX Duo application.</span></span>

### <a name="dual-packet-pool"></a><span data-ttu-id="0fb2f-275">Çift paket havuzu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-275">Dual Packet Pool</span></span>

<span data-ttu-id="0fb2f-276">Genellikle varsayılan IP paket havuzunun yük boyutu, ağ arabirimi MTU 'SU için çerçeve boyutunu karşılayacak kadar büyüktür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-276">Typically the payload size of the default IP packet pool is large enough to accommodate frame size up to the network interface MTU.</span></span> <span data-ttu-id="0fb2f-277">Normal işlem sırasında, IP iş parçacığının ARP, TCP denetim iletileri, ıGMP iletileri, ICMPv6 iletileri gibi iletileri gönderebilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-277">During normal operation, the IP thread needs to send messages such as ARP, TCP control messages, IGMP messages, ICMPv6 messages.</span></span> <span data-ttu-id="0fb2f-278">Bu iletiler IP örneğindeki varsayılan paket havuzundan ayrılan paketleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-278">These messages use the packets allocated from the default packet pool in the IP instance.</span></span> <span data-ttu-id="0fb2f-279">Paket havuzu için kullanılabilir bellek miktarının sınırlı olduğu, tek bir paket havuzunun kullanılması (MTU boyutuyla eşleşmesi için büyük yük boyutu ile) en iyi çözüm olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-279">On a memory-constrained system where the amount of memory available for packet pool is limited, using a single packet pool (with the large payload size to match MTU size) may not be an optimal solution.</span></span> <span data-ttu-id="0fb2f-280">NetX Duo, uygulamanın yük boyutunun daha küçük olduğu bir yardımcı paket havuzu yüklemesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-280">NetX Duo allows application to install an auxiliary packet pool, where the payload size is smaller.</span></span> <span data-ttu-id="0fb2f-281">Yardımcı paket havuzu yüklendikten sonra, ileten iletinin boyutuna bağlı olarak, IP Yardımcısı iş parçacığı paketleri varsayılan paket havuzundan ya da yardımcı havuzdan ayırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-281">Once the auxiliary packet pool is installed, the IP helper thread would allocate packets from either the default packet pool or the auxiliary pool, depending on the size of the message it transmits.</span></span> <span data-ttu-id="0fb2f-282">Bir yardımcı paket havuzu için, 200 baytlık yük boyutu, IP Yardımcısı iş parçacığının ilettiği birçok ileti ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-282">For an auxiliary packet pool, a payload size of 200 bytes would work with most of the messages the IP helper thread transmits.</span></span>

<span data-ttu-id="0fb2f-283">Varsayılan olarak NetX Duo kitaplığı, çift paket havuzu etkinleştirilmeksizin oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-283">By default NetX Duo library is built without enabling dual packet pool.</span></span> <span data-ttu-id="0fb2f-284">Özelliği etkinleştirmek için, kitaplığı \***NX_DUAL_PACKET_POOL_ENABLE** _ tanımlı ile derleyin.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-284">To enable the feature, build the library with \***NX_DUAL_PACKET_POOL_ENABLE** _ defined.</span></span> <span data-ttu-id="0fb2f-285">Daha sonra yardımcı paket havuzu _ *_nx_ip_auxiliary_packet_pool_set_* \* çağırarak ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-285">Then the auxiliary packet pool can be set by calling _\*_nx_ip_auxiliary_packet_pool_set_\*\*.</span></span>

<span data-ttu-id="0fb2f-286">Ayrıca, birden fazla paket havuzu oluşturma seçeneği de mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-286">There is also the option of creating more than one packet pool.</span></span> <span data-ttu-id="0fb2f-287">Örneğin, beklenen ileti boyutları için en iyi yük boyutuyla bir iletme paketi havuzu oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-287">For example a transmit packet pool is created with optimal payload size for expected message sizes.</span></span> <span data-ttu-id="0fb2f-288">Alınan paketlerin boyutunu tahmin edememesi nedeniyle, bir alma paketi havuzu sürücü MTU olarak ayarlanan yük boyutu olan sürücüde oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-288">A receive packet pool is created in the driver with a payload size set to the driver MTU, since one cannot predict the size of received packets.</span></span>

### <a name="packet-header-nx_packet"></a><span data-ttu-id="0fb2f-289">Paket üst bilgisi NX_PACKET</span><span class="sxs-lookup"><span data-stu-id="0fb2f-289">Packet Header NX_PACKET</span></span>   
<span data-ttu-id="0fb2f-290">Varsayılan olarak, NetX Duo paket üst bilgisini paket yük alanından hemen önce koyar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-290">By default, NetX Duo places the packet header immediately before the packet payload area.</span></span> <span data-ttu-id="0fb2f-291">Paket bellek havuzu temel olarak bir dizi paket (üst bilgiler), ardından paket yükünün hemen ardından gelir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-291">The packet memory pool is basically a series of packets— headers followed immediately by the packet payload.</span></span> <span data-ttu-id="0fb2f-292">Paket üst bilgisi (***NX_PACKET***) ve paket havuzunun düzeni şekil 3 ' te gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-292">The packet header (***NX_PACKET***) and the layout of the packet pool are pictured in Figure 3.</span></span>

<span data-ttu-id="0fb2f-293">Sıfır kopyalama işlemi gerçekleştirebilecek ağ cihazları sürücüsü için genellikle paket yük alanının başlangıç adresi DMA mantığıyla programlanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-293">For network devices driver that are able to perform zero copy operations, typically the starting address of the packet payload area is programmed into the DMA logic.</span></span> <span data-ttu-id="0fb2f-294">Belirli DMA altyapılarının yük alanında hizalama gereksinimi vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-294">Certain DMA engines have alignment requirement on the payload area.</span></span> <span data-ttu-id="0fb2f-295">Yük alanının başlangıç adresini DMA altyapısı veya önbellek işlemi için doğru şekilde hizalamak için, Kullanıcı symbol ***NX_PACKET_ALIGNMENT*** tanımlayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-295">To make the starting address of the payload area align properly for the DMA engine, or the cache operation, the user can define the symbol ***NX_PACKET_ALIGNMENT***.</span></span>

> [!WARNING]
> <span data-ttu-id="0fb2f-296">*Bir paketin iletimi tamamlandığında, ağ sürücüsünün **nx_packet_transmit_release** işlevini kullanması önemlidir. Bu işlev, paketin kullanılabilir havuza gerçekten geri yerleştirilmesi için bir TCP çıkış sırasının parçası olmadığından emin olup olmadığını denetler.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-296">*It is important for the network driver to use the **nx_packet_transmit_release** function when transmission of a packet is complete. This function checks to make sure the packet is not part of a TCP output queue before it is actually placed back in the available pool.*</span></span>

![Paket üst bilgisi ve paket havuzu düzeni](./media/user-guide/image14.jpg)

<span data-ttu-id="0fb2f-298">**ŞEKIL 3. Paket üst bilgisi ve paket havuzu düzeni**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-298">**FIGURE 3. Packet Header and Packet Pool Layout**</span></span>

<span data-ttu-id="0fb2f-299">Paket üstbilgisinin alanları aşağıdaki gibi tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-299">The fields of the packet header are defined as follows.</span></span> <span data-ttu-id="0fb2f-300">Bu tablonun *NX_PACKET* yapısındaki tüm üyelerin kapsamlı bir listesi olmadığına unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-300">Note that this table is not a comprehensive list of all the members in the *NX_PACKET* structure.</span></span>

|<span data-ttu-id="0fb2f-301">Paket üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-301">Packet header</span></span> | <span data-ttu-id="0fb2f-302">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-302">Purpose</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-303">***nx_packet_pool_owner***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-303">***nx_packet_pool_owner***</span></span>|<span data-ttu-id="0fb2f-304">Bu alan, bu belirli paketin sahibi olan paket havuzunu işaret eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-304">This field points to the packet pool that owns this particular packet.</span></span> <span data-ttu-id="0fb2f-305">Paket yayınlanmışsa, bu belirli havuza serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-305">When the packet is released, it is released to this particular pool.</span></span> <span data-ttu-id="0fb2f-306">Her paketin içindeki havuz sahipliğiyle, bir veri biriminin birden çok paket havuzundan birden çok pakete yayılması mümkündür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-306">With the pool ownership inside each packet, it is possible for a datagram to span multiple packets from multiple packet pools.</span></span>|
|<span data-ttu-id="0fb2f-307">\***nx_packet_next** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-307">\***nx_packet_next** _</span></span>|<span data-ttu-id="0fb2f-308">Bu alan, aynı çerçeve içindeki bir sonraki pakete işaret eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-308">This field points to the next packet within the same frame.</span></span> <span data-ttu-id="0fb2f-309">NULL ise çerçevenin parçası olan ek paketler yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-309">If NULL, there are no additional packets that are part of the frame.</span></span> <span data-ttu-id="0fb2f-310">Bu alan, tüm paketin yeniden yayılmadığı sürece parçalanmış paketleri tutmak için de kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-310">This field is also used to hold fragmented packets until the entire packet can be re-assembled.</span></span> <span data-ttu-id="0fb2f-311">_ *_NX_DISABLE_PACKET_CHAIN_* \* tanımlanmışsa kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-311">it is removed if _\*_NX_DISABLE_PACKET_CHAIN_\*\*is defined.</span></span>|
|<span data-ttu-id="0fb2f-312">\***nx_packet_last** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-312">\***nx_packet_last** _</span></span>|<span data-ttu-id="0fb2f-313">Bu alan, aynı ağ paketi içindeki son paketi işaret eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-313">This field points to the last packet within the same network packet.</span></span> <span data-ttu-id="0fb2f-314">NULL ise, bu paket tüm ağ paketini temsil eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-314">If NULL, this packet represents the entire network packet.</span></span> <span data-ttu-id="0fb2f-315">_ *_NX_DISABLE_PACKET_CHAIN_* \* tanımlanmışsa Bu alan kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-315">This field is removed if _\*_NX_DISABLE_PACKET_CHAIN_\*\*is defined.</span></span>|
|<span data-ttu-id="0fb2f-316">\***nx_packet_length** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-316">\***nx_packet_length** _</span></span>| <span data-ttu-id="0fb2f-317">Bu alan, tüm ağ paketindeki toplam bayt sayısını (_nx_packet_next \* üyesi tarafından birlikte zincirleme tüm paketlerin toplam bayt sayısı dahil) içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-317">This field contains the total number of bytes in the entire network packet, including the total of all bytes in all packets chained together by the _nx_packet_next\*member.</span></span>|
|<span data-ttu-id="0fb2f-318">***nx_packet_ip_interface***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-318">***nx_packet_ip_interface***</span></span>| <span data-ttu-id="0fb2f-319">Bu alan, arabirim sürücüsü tarafından alındığında pakete atanan arabirim denetim bloğu ve giden paketler için NetX Duo tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-319">This field is the interface control block which is assigned to the packet when it is received by the interface driver, and by NetX Duo for outgoing packets.</span></span> <span data-ttu-id="0fb2f-320">Arabirim denetim bloğu; ağ adresi, MAC adresi, IP adresi ve bağlantı etkin ve fiziksel eşleme gibi arabirim durumu gibi arabirimi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-320">An interface control block describes the interface e.g. network address, MAC address, IP address and interface status such as link enabled and physical mapping required.</span></span>|
|<span data-ttu-id="0fb2f-321">\***nx_packet_data_start** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-321">\***nx_packet_data_start** _</span></span>| <span data-ttu-id="0fb2f-322">Bu alan, bu paketin fiziksel yük alanının başlangıcını gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-322">This field points to the start of the physical payload area of this packet.</span></span> <span data-ttu-id="0fb2f-323">NX_PACKET üst bilgisini hemen takip etmek zorunda değildir, ancak bu, _ *_nx_packet_pool_create_*\* hizmeti için varsayılandır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-323">It does not have to be immediately following the NX_PACKET header, but that is the default for the _ *_nx_packet_pool_create_*\* service.</span></span>|
|<span data-ttu-id="0fb2f-324">\***nx_packet_data_end** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-324">\***nx_packet_data_end** _</span></span>|<span data-ttu-id="0fb2f-325">Bu alan, bu paketin fiziksel yük alanının sonuna işaret eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-325">This field points to the end of the physical payload area of this packet.</span></span> <span data-ttu-id="0fb2f-326">Bu alan ile _nx_packet_data_start \* alanı arasındaki fark, yük boyutunu temsil eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-326">The difference between this field and the _nx_packet_data_start\* field represents the payload size.</span></span>|
|<span data-ttu-id="0fb2f-327">\***nx_packet_prepend_ptr** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-327">\***nx_packet_prepend_ptr** _</span></span>|<span data-ttu-id="0fb2f-328">Bu alan paket verilerinin, paket yükü alanındaki mevcut paket verilerinin önüne (varsa) protokol üstbilgisi veya gerçek veriler eklendiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-328">This field points to the location of where packet data, either protocol header or actual data, is added in front of the existing packet data (if any) in the packet payload area.</span></span> <span data-ttu-id="0fb2f-329">_Nx_packet_data_start \* işaretçisi konumundan büyük veya buna eşit ve *nx_packet_append_ptr* işaretçisinden küçük veya buna eşit olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-329">It must be greater than or equal to the _nx_packet_data_start\* pointer location and less than or equal to the *nx_packet_append_ptr* pointer.</span></span>|
> [!CAUTION]
> <span data-ttu-id="0fb2f-330">*NETX Duo, performans nedenleriyle iletim için NETX Duo hizmetlerine geçirildiğinde, önüne işaretçisinin uzun sözcük hizalı adrese işaret ettiğini varsayar.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-330">*For performance reasons, NetX Duo assumes that when the packet is passed into NetX Duo services for transmission, the prepend pointer points to long word aligned address.*</span></span>

| <span data-ttu-id="0fb2f-331">Paket üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-331">Packet header</span></span> | <span data-ttu-id="0fb2f-332">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-332">Purpose</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-333">\***nx_packet_append_ptr** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-333">\***nx_packet_append_ptr** _</span></span>|<span data-ttu-id="0fb2f-334">Bu alan, şu anda paket yükü alanındaki verilerin sonunu işaret eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-334">This field points to the end of the data currently in the packet payload area.</span></span> <span data-ttu-id="0fb2f-335">_Nx_packet_prepend_ptr \* ve nx_packet_data_end tarafından işaret edilen bellek konumu arasında olmalıdır *.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-335">It must be in between the memory location pointed to by _nx_packet_prepend_ptr\* and *nx_packet_data_end.*</span></span> <span data-ttu-id="0fb2f-336">Bu alan ile *nx_packet_prepend_ptr* alanı arasındaki fark, bu paketteki veri miktarını temsil eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-336">The difference between this field and the *nx_packet_prepend_ptr* field represents the amount of data in this packet.</span></span>|
|<span data-ttu-id="0fb2f-337">\***nx_packet_packet_pad** _</span><span class="sxs-lookup"><span data-stu-id="0fb2f-337">\***nx_packet_packet_pad** _</span></span>|<span data-ttu-id="0fb2f-338">Bu alanlar, istenen hizalama gereksinimini elde etmek için 4 baytlık sözcüklerdeki doldurma uzunluğunu tanımlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-338">This fields defines the length of padding in 4-byte words to achieve the desired alignment requirement.</span></span> <span data-ttu-id="0fb2f-339">_*_NX_PACKET_HEADER_PAD_*_ tanımlanmamışsa Bu alan kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-339">This field is removed if _*_NX_PACKET_HEADER_PAD_*_ is not defined.</span></span> <span data-ttu-id="0fb2f-340">Alternatif olarak, _nx_packet_header_pad tanımlamak yerine _*_NX_PACKET_ALIGNMENT_*_ kullanılabilir. \*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-340">Alternatively _*_NX_PACKET_ALIGNMENT_*_ can be used instead of defining _nx_packet_header_pad.\*</span></span>|

### <a name="packet-header-offsets"></a><span data-ttu-id="0fb2f-341">Paket üst bilgisi uzaklıkları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-341">Packet Header Offsets</span></span>

<span data-ttu-id="0fb2f-342">Paket üst bilgisi boyutu, üst bilgi boyutuna uyum sağlamak için yeterli yer sağlamak üzere tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-342">Packet header size is defined to allow enough room  to accommodate the size of the header.</span></span> <span data-ttu-id="0fb2f-343">***Nx_packet_allocate*** hizmeti bir paket ayırmak ve belirtilen paket türüne göre paketteki preppointer 'ı ayarlaması için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-343">The ***nx_packet_allocate*** service is used to allocate a packet and adjusts the prepend pointer in the packet according to the type of packet specified.</span></span> <span data-ttu-id="0fb2f-344">Paket türü NetX Duo protokolünü, protokol verilerinin önüne (UDP, TCP veya ıCMP gibi) eklemek için gereken sapmayı söyler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-344">The packet type tells NetX Duo the offset required for inserting the protocol header (such as UDP, TCP, or ICMP) in front of the protocol data.</span></span>

<span data-ttu-id="0fb2f-345">Aşağıdaki türler, paketteki IP üstbilgisini ve fiziksel katman (Ethernet) üst bilgisini hesaba çekmek için NetX Duo içinde tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-345">The following types are defined in NetX Duo to take into account the IP header and physical layer (Ethernet) header in the packet.</span></span> <span data-ttu-id="0fb2f-346">İkinci durumda, gereken 4 baytlık hizalamasının dikkate alınması 16 bayt olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-346">In the latter case, it is assumed to be 16 bytes taking the required 4-byte alignment into consideration.</span></span> <span data-ttu-id="0fb2f-347">IPv4 paketleri, uygulamaların IPv4 ağları için paket ayırmasını sağlamak üzere NetX Duo içinde hala tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-347">IPv4 packets are still defined in NetX Duo for applications to allocate packets for IPv4 networks.</span></span> <span data-ttu-id="0fb2f-348">NetX Duo kitaplığı IPv6 etkin ise, genel paket türleri (örneğin, NX_IP_PACKET) IPv6 sürümüne eşlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-348">Note that if the NetX Duo library is built with IPv6 enabled, the generic packet types (such as NX_IP_PACKET) are mapped to the IPv6 version.</span></span> <span data-ttu-id="0fb2f-349">NetX Duo kitaplığı IPv6 etkin olmadan derlenmişse, bu genel paket türleri IPv4 sürümüne eşlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-349">If the NetX Duo Library is built without IPv6 enabled, these generic packet types are mapped to the IPv4 version.</span></span>

<span data-ttu-id="0fb2f-350">Aşağıdaki tabloda IPv6 etkin olarak tanımlanan semboller gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-350">The following table shows symbols defined with IPv6 enabled:</span></span>

|<span data-ttu-id="0fb2f-351">**Paket türü**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-351">**Packet Type**</span></span> |<span data-ttu-id="0fb2f-352">**Değer**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-352">**Value**</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-353">NX_IPv6_PACKET (NX_IP_PACKET)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-353">NX_IPv6_PACKET (NX_IP_PACKET)</span></span> | <span data-ttu-id="0fb2f-354">0x38</span><span class="sxs-lookup"><span data-stu-id="0fb2f-354">0x38</span></span> |
|<span data-ttu-id="0fb2f-355">NX_UDPv6_PACKET (NX_UDP_PACKET)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-355">NX_UDPv6_PACKET (NX_UDP_PACKET)</span></span> |<span data-ttu-id="0fb2f-356">0x40</span><span class="sxs-lookup"><span data-stu-id="0fb2f-356">0x40</span></span> |
|<span data-ttu-id="0fb2f-357">NX_TCPv6_PACKET (NX_TCP_PACKET)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-357">NX_TCPv6_PACKET (NX_TCP_PACKET)</span></span> |<span data-ttu-id="0fb2f-358">0x4C</span><span class="sxs-lookup"><span data-stu-id="0fb2f-358">0x4c</span></span> |
|<span data-ttu-id="0fb2f-359">NX_IPv4_PACKET</span><span class="sxs-lookup"><span data-stu-id="0fb2f-359">NX_IPv4_PACKET</span></span> |<span data-ttu-id="0fb2f-360">0x24</span><span class="sxs-lookup"><span data-stu-id="0fb2f-360">0x24</span></span> |
|<span data-ttu-id="0fb2f-361">NX_IPv4_UDP_PACKET</span><span class="sxs-lookup"><span data-stu-id="0fb2f-361">NX_IPv4_UDP_PACKET</span></span> |<span data-ttu-id="0fb2f-362">0x2C</span><span class="sxs-lookup"><span data-stu-id="0fb2f-362">0x2c</span></span> |
|<span data-ttu-id="0fb2f-363">NX_IPv4_TCP_PACKET</span><span class="sxs-lookup"><span data-stu-id="0fb2f-363">NX_IPv4_TCP_PACKET</span></span> |<span data-ttu-id="0fb2f-364">0x38</span><span class="sxs-lookup"><span data-stu-id="0fb2f-364">0x38</span></span> |

<span data-ttu-id="0fb2f-365">Aşağıdaki tabloda IPv6 devre dışı olarak tanımlanan semboller gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-365">The following table shows symbols defined with IPv6 disabled:</span></span>

|<span data-ttu-id="0fb2f-366">**Paket türü**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-366">**Packet Type**</span></span> |<span data-ttu-id="0fb2f-367">**Değer**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-367">**Value**</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-368">NX_IPv4_PACKET (NX_IP_PACKET)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-368">NX_IPv4_PACKET (NX_IP_PACKET)</span></span> |<span data-ttu-id="0fb2f-369">0x24</span><span class="sxs-lookup"><span data-stu-id="0fb2f-369">0x24</span></span> |
|<span data-ttu-id="0fb2f-370">NX_IPv4_UDP_PACKET (NX_UDP_PACKET)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-370">NX_IPv4_UDP_PACKET (NX_UDP_PACKET)</span></span> |<span data-ttu-id="0fb2f-371">0x2C</span><span class="sxs-lookup"><span data-stu-id="0fb2f-371">0x2c</span></span> |
|<span data-ttu-id="0fb2f-372">NX_IPv4_TCP_PACKET (NX_TCP_PACKET)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-372">NX_IPv4_TCP_PACKET (NX_TCP_PACKET)</span></span> |<span data-ttu-id="0fb2f-373">0x38</span><span class="sxs-lookup"><span data-stu-id="0fb2f-373">0x38</span></span> |

<span data-ttu-id="0fb2f-374">*NX_IPSEC_ENABLE* tanımlanmışsa bu değerlerin değişdiğine unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-374">Note that these values will change if *NX_IPSEC_ENABLE* is defined.</span></span> <span data-ttu-id="0fb2f-375">IPSec kullanan uygulama için, daha fazla bilgi için NetX Duo IPSec Kullanıcı Kılavuzu 'na bakın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-375">For application using IPsec, refer to NetX Duo IPsec User Guide for more information.</span></span>

### <a name="pool-capacity"></a><span data-ttu-id="0fb2f-376">Havuz kapasitesi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-376">Pool Capacity</span></span>

<span data-ttu-id="0fb2f-377">Bir paket havuzundaki paketlerin sayısı, yük boyutunun bir işlevidir ve paket havuzu oluşturma hizmeti için sağlanan bellek alanındaki toplam bayt sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-377">The number of packets in a packet pool is a function of the payload size and the total number of bytes in the memory area supplied to the packet pool create service.</span></span> <span data-ttu-id="0fb2f-378">Havuzun kapasitesi, paket boyutu (NX_PACKET üst bilgisinin boyutu, yük boyutu ve doğru hizalama) sağlanan bellek alanındaki toplam bayt sayısına bölünerek hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-378">The capacity of the pool is calculated by dividing the packet size (including the size of the NX_PACKET header, the payload size, and proper alignment) into the total number of bytes in the supplied memory area.</span></span>

### <a name="payload-area-alignment"></a><span data-ttu-id="0fb2f-379">Yük alanı hizalaması</span><span class="sxs-lookup"><span data-stu-id="0fb2f-379">Payload Area Alignment</span></span>

<span data-ttu-id="0fb2f-380">NetX Duo 'daki paket havuzu tasarımı sıfır kopyalamayı destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-380">Packet pool design in NetX Duo supports zero-copy.</span></span> <span data-ttu-id="0fb2f-381">Cihaz sürücüsü düzeyinde sürücü, yük alanını doğrudan veri alımı için arabellek tanımlayıcılara atayabilecektir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-381">At the device driver level, the driver is able to assign the payload area directly into buffer descriptors for data reception.</span></span> <span data-ttu-id="0fb2f-382">Bazen DMA altyapısı veya önbellek eşitleme mekanizması, yük alanının başlangıç adresinin belirli bir hizalama gereksinimine sahip olmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-382">Sometimes the DMA engine or the cache synchronization mechanism requires the starting address of the payload area to have a certain alignment requirement.</span></span> <span data-ttu-id="0fb2f-383">Bu, ***NX_PACKET_ALIGNMENT*** içindeki istenen hizalama gereksinimini (bayt cinsinden) tanımlayarak elde edilebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-383">This can be achieved by defining the desired alignment requirement (in bytes) in ***NX_PACKET_ALIGNMENT***.</span></span> <span data-ttu-id="0fb2f-384">Bir paket havuzu oluştururken, yük alanının başlangıç adresi bu değere hizalanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-384">When creating a packet pool, the starting address of the payload area will aligned to this value.</span></span> <span data-ttu-id="0fb2f-385">Varsayılan olarak, başlangıç adresi 4 bayt hizalı olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-385">By default, starting address is 4-byte aligned.</span></span>

### <a name="thread-suspension"></a><span data-ttu-id="0fb2f-386">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-386">Thread Suspension</span></span>

<span data-ttu-id="0fb2f-387">Uygulama iş parçacıkları, boş bir havuzdan paket beklerken askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-387">Application threads can suspend while waiting for a packet from an empty pool.</span></span> <span data-ttu-id="0fb2f-388">Havuza bir paket döndürüldüğünde, askıya alınan iş parçacığına Bu paket verilir ve devam edilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-388">When a packet is returned to the pool, the suspended thread is given this packet and resumed.</span></span>

<span data-ttu-id="0fb2f-389">Aynı paket havuzunda birden çok iş parçacığı askıya alınırsa, askıya alındığı sırada (FıFO) sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-389">If multiple threads are suspended on the same packet pool, they  resumed in the order they were suspended (FIFO).</span></span>

### <a name="pool-statistics-and-errors"></a><span data-ttu-id="0fb2f-390">Havuz Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-390">Pool Statistics and Errors</span></span>

<span data-ttu-id="0fb2f-391">Etkinleştirilirse, NetX Duo paket yönetimi yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-391">If enabled, the NetX Duo packet management software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-392">Paket havuzları için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-392">The following statistics and error reports are maintained for packet pools:</span></span>

- <span data-ttu-id="0fb2f-393">Havuzdaki toplam paket sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-393">Total Packets in Pool</span></span>
- <span data-ttu-id="0fb2f-394">Havuzdaki ücretsiz paketler</span><span class="sxs-lookup"><span data-stu-id="0fb2f-394">Free Packets in Pool</span></span>
- <span data-ttu-id="0fb2f-395">Toplam paket ayırmaları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-395">Total Packet Allocations</span></span>
- <span data-ttu-id="0fb2f-396">Havuz boş ayırma Istekleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-396">Pool Empty Allocation Requests</span></span>
- <span data-ttu-id="0fb2f-397">Havuz boş ayırma getirilmesi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-397">Pool Empty Allocation Suspensions</span></span>
- <span data-ttu-id="0fb2f-398">Geçersiz paket yayınları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-398">Invalid Packet Releases</span></span>

<span data-ttu-id="0fb2f-399">Bu istatistik ve hata raporlarının tümü, havuzdaki toplam ve ücretsiz paket sayısı dışında, \***NX_DISABLE_PACKET_INFO** _ tanımlanmadığı sürece NETX Duo kitaplığı 'nda yerleşiktir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-399">All of these statistics and error reports, except for total and free packet count in pool, are built into NetX Duo library unless \***NX_DISABLE_PACKET_INFO** _ is defined.</span></span> <span data-ttu-id="0fb2f-400">Bu veriler, _ *_nx_packet_pool_info_get_*\* hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-400">This data is available to the application with the _ *_nx_packet_pool_info_get_*\* service.</span></span>

### <a name="packet-pool-control-block-nx_packet_pool"></a><span data-ttu-id="0fb2f-401">Paket havuzu denetim bloğu NX_PACKET_POOL</span><span class="sxs-lookup"><span data-stu-id="0fb2f-401">Packet Pool Control Block NX_PACKET_POOL</span></span>

<span data-ttu-id="0fb2f-402">Her paket bellek havuzunun özellikleri denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-402">The characteristics of each packet memory pool are found in its control block.</span></span> <span data-ttu-id="0fb2f-403">Bu havuz, bağlantılı ücretsiz paketlerin listesi, serbest paket sayısı ve bu havuzdaki paketlerin yük boyutu gibi yararlı bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-403">It contains useful information such as the linked list of free packets, the number of free packets, and the payload size for packets in this pool.</span></span> <span data-ttu-id="0fb2f-404">Bu yapı ***nx_api. h*** dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-404">This structure is defined in the ***nx_api.h*** file.</span></span>

<span data-ttu-id="0fb2f-405">Paket havuzu denetim blokları bellekte herhangi bir yerde bulunabilir, ancak herhangi bir işlevin kapsamı dışında tanımlayarak denetimin genel bir yapıyı engellemesini sağlamak yaygın olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-405">Packet pool control blocks can be located anywhere in memory, but it is most common to make the control block a global structure by defining it outside the scope of any function.</span></span>

## <a name="ipv4-protocol"></a><span data-ttu-id="0fb2f-406">IPv4 protokolü</span><span class="sxs-lookup"><span data-stu-id="0fb2f-406">IPv4 Protocol</span></span>

<span data-ttu-id="0fb2f-407">NetX Duo 'un Internet Protokolü (IP) bileşeni, Internet üzerinde IPv4 paketleri göndermekten ve alınmasından sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-407">The Internet Protocol (IP) component of NetX Duo is responsible for sending and receiving IPv4 packets on the Internet.</span></span> <span data-ttu-id="0fb2f-408">NetX Duo sürümünde, temel alınan ağ sürücüsünden yararlanarak, son olarak TCP, UDP, ıCMP ve ıGMP iletileri gönderme ve alma işleminden sorumlu bileşendir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-408">In NetX Duo, it is the component ultimately responsible for sending and receiving TCP, UDP, ICMP, and IGMP messages, utilizing the underlying network driver.</span></span>

<span data-ttu-id="0fb2f-409">NetX Duo hem IPv4 protokolünü (RFC 791) hem de IPv6 protokolünü (RFC 2460) destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-409">NetX Duo supports both IPv4 protocol (RFC 791) and IPv6 protocol (RFC 2460).</span></span> <span data-ttu-id="0fb2f-410">Bu bölümde IPv4 açıklanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-410">This section discusses IPv4.</span></span> <span data-ttu-id="0fb2f-411">IPv6, sonraki bölümde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-411">IPv6 is discussed in the next section.</span></span>

### <a name="ipv4-addresses"></a><span data-ttu-id="0fb2f-412">IPv4 adresleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-412">IPv4 Addresses</span></span>

<span data-ttu-id="0fb2f-413">Internet üzerindeki her konağın, IP adresi olarak adlandırılan benzersiz bir 32 bit tanımlayıcısı vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-413">Each host on the Internet has a unique 32-bit identifier called an IP address.</span></span> <span data-ttu-id="0fb2f-414">Şekil 4 ' te açıklandığı gibi beş IPv4 adresi sınıfı vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-414">There are five classes of IPv4 addresses as described in Figure 4.</span></span> <span data-ttu-id="0fb2f-415">Beş IPv4 adresi sınıfının aralıkları aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-415">The ranges of the five IPv4 address classes are as follows:</span></span>

|<span data-ttu-id="0fb2f-416">Sınıf</span><span class="sxs-lookup"><span data-stu-id="0fb2f-416">Class</span></span>|<span data-ttu-id="0fb2f-417">Aralık</span><span class="sxs-lookup"><span data-stu-id="0fb2f-417">Range</span></span>|
|---|---|
|<span data-ttu-id="0fb2f-418">A</span><span class="sxs-lookup"><span data-stu-id="0fb2f-418">A</span></span> |<span data-ttu-id="0fb2f-419">0.0.0.0 127.255.255.255</span><span class="sxs-lookup"><span data-stu-id="0fb2f-419">0.0.0.0 to 127.255.255.255</span></span>|
|<span data-ttu-id="0fb2f-420">B</span><span class="sxs-lookup"><span data-stu-id="0fb2f-420">B</span></span> |<span data-ttu-id="0fb2f-421">128.0.0.0 to 191.255.255.255</span><span class="sxs-lookup"><span data-stu-id="0fb2f-421">128.0.0.0 to 191.255.255.255</span></span>|
|<span data-ttu-id="0fb2f-422">C</span><span class="sxs-lookup"><span data-stu-id="0fb2f-422">C</span></span> |<span data-ttu-id="0fb2f-423">192.0.0.0 to 223.255.255.255</span><span class="sxs-lookup"><span data-stu-id="0fb2f-423">192.0.0.0 to 223.255.255.255</span></span>|
|<span data-ttu-id="0fb2f-424">D</span><span class="sxs-lookup"><span data-stu-id="0fb2f-424">D</span></span> |<span data-ttu-id="0fb2f-425">224.0.0.0 ile 239.255.255.255 arası</span><span class="sxs-lookup"><span data-stu-id="0fb2f-425">224.0.0.0 to 239.255.255.255</span></span>|
|<span data-ttu-id="0fb2f-426">E</span><span class="sxs-lookup"><span data-stu-id="0fb2f-426">E</span></span> |<span data-ttu-id="0fb2f-427">240.0.0.0 to 247.255.255.255</span><span class="sxs-lookup"><span data-stu-id="0fb2f-427">240.0.0.0 to 247.255.255.255</span></span>|

![IPv4 adresi yapısının diyagramı.](./media/user-guide/ipv4-address-structure.png)

### <a name="figure-4-ipv4-address-structure"></a><span data-ttu-id="0fb2f-429">ŞEKIL 4.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-429">FIGURE 4.</span></span> <span data-ttu-id="0fb2f-430">IPv4 adresi yapısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-430">IPv4 Address Structure</span></span>

<span data-ttu-id="0fb2f-431">Ayrıca üç tür adres belirtimi vardır: *tek noktaya* yayın, *yayın* ve *çok noktaya yayın*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-431">There are also three types of address specifications: *unicast*, *broadcast*, and *multicast*.</span></span> <span data-ttu-id="0fb2f-432">Tek noktaya yayın adresleri, Internet 'teki belirli bir konağı tanımlayan IPv4 adresleridir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-432">Unicast addresses are those IPv4 addresses that identify a specific host on the Internet.</span></span> <span data-ttu-id="0fb2f-433">Tek noktaya yayın adresleri bir kaynak ya da hedef IPv4 adresi olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-433">Unicast addresses can be either a source or a destination IPv4 address.</span></span> <span data-ttu-id="0fb2f-434">Bir yayın adresi, belirli bir ağ veya alt ağ üzerindeki tüm Konakları tanımlar ve yalnızca hedef adres olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-434">A broadcast address identifies all hosts on a specific network or sub-network and can only be used as destination addresses.</span></span> <span data-ttu-id="0fb2f-435">Yayın adresleri, adres kümesinin ana bilgisayar KIMLIĞI kısmı olacak şekilde belirtilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-435">Broadcast addresses are specified by having the host ID portion of the address set to ones.</span></span> <span data-ttu-id="0fb2f-436">Çok noktaya yayın adresleri (sınıf D) Internet 'te dinamik bir konaklar grubu belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-436">Multicast addresses (Class D) specify a dynamic group of hosts on the Internet.</span></span> <span data-ttu-id="0fb2f-437">Çok noktaya yayın grubunun üyeleri her istediklerinde katılabilir ve bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-437">Members of the multicast group may join and leave whenever they wish.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-438">*Yalnızca IPv4 üzerinden UDP gibi bağlantısız protokoller yayın ve çok noktaya yayın grubunun sınırlı yayın özelliğini kullanabilir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-438">*Only connectionless protocols like UDP over IPv4 can utilize broadcast and the limited broadcast capability of the multicast group.*</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-439">\* Makro *IP_address* , \***nx_api. h** _ içinde tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-439">\*The macro *IP_ADDRESS* is defined in \***nx_api.h** _.</span></span> <span data-ttu-id="0fb2f-440">Bir nokta yerine virgüller kullanarak IPv4 adreslerinin kolay belirtime olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-440">It allows easy specification of IPv4 addresses using commas instead of a periods.</span></span> <span data-ttu-id="0fb2f-441">Örneğin, _IP_ADDRESS (128, 0, 0, 0) \* Şekil 4 ' te gösterilen ilk sınıf B adresini belirtir. \*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-441">For example, _IP_ADDRESS(128,0,0,0)\* specifies the first class B address shown in Figure 4.\*</span></span>

### <a name="ipv4-gateway-address"></a><span data-ttu-id="0fb2f-442">IPv4 ağ geçidi adresi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-442">IPv4 Gateway Address</span></span>

<span data-ttu-id="0fb2f-443">Ağ geçitleri, ağları üzerinde yerel etki alanı dışındaki hedeflere giden paketleri geçirmeye yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-443">Network gateways assist hosts on their networks to relay packets destined to destinations outside the local domain.</span></span> <span data-ttu-id="0fb2f-444">Her düğüm, bir sonraki atlamanın, komşlarından biri olan veya önceden programlanmış bir statik yönlendirme tablosu aracılığıyla gönderileceği bir bilgi içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-444">Each node has some knowledge of which next hop to send to, either the destination one of its neighbors, or through a pre-programmed static routing table.</span></span> <span data-ttu-id="0fb2f-445">Ancak, bu yaklaşımlar başarısız olursa düğüm, paketi hedefine yönlendirme hakkında daha fazla bilgi sahibi olan varsayılan ağ geçidine iletir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-445">However if these approaches fail, the node should forward the packet to its default gateway which has better knowledge on how to route the packet to its destination.</span></span> <span data-ttu-id="0fb2f-446">Varsayılan ağ geçidinin IP örneğine bağlı fiziksel arabirimlerden biri aracılığıyla doğrudan erişilebilir olması gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-446">Note that the default gateway must be directly accessible through one of the physical interfaces attached to the IP instance.</span></span> <span data-ttu-id="0fb2f-447">Uygulama, IPv4 varsayılan ağ geçidi adresini yapılandırmak için \***nx_ip_gateway_address_set** _ öğesini çağırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-447">The application calls \***nx_ip_gateway_address_set** _ to configure IPv4 default gateway address.</span></span> <span data-ttu-id="0fb2f-448">Geçerli IPv4 ağ geçidi ayarlarını almak için hizmet _*_nx_ip_gateway_address_get_*_ kullanın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-448">Use the service _*_nx_ip_gateway_address_get_*_ to retrieve the current IPv4 gateway settings.</span></span> <span data-ttu-id="0fb2f-449">Uygulama ağ geçidi ayarını temizlemek için _ *_nx_ip_gateway_address_clear_*\* hizmetini kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-449">Application shall use the service _ *_nx_ip_gateway_address_clear_*\* to clear the gateway setting.</span></span>

### <a name="ipv4-header"></a><span data-ttu-id="0fb2f-450">IPv4 üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-450">IPv4 Header</span></span>

<span data-ttu-id="0fb2f-451">Herhangi bir IPv4 paketinin Internet üzerinden gönderilmesi için bir IPv4 üst bilgisine sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-451">For any IPv4 packet to be sent on the Internet, it must have an IPv4 header.</span></span> <span data-ttu-id="0fb2f-452">Daha yüksek düzey protokoller (UDP, TCP, ıCMP veya ıGMP) bir paket göndermek için IP bileşenini çağırdığınızda, IPv4 iletme modülü verilerin önüne bir IPv4 üst bilgisi koyar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-452">When higher-level protocols (UDP, TCP, ICMP, or IGMP) call the IP component to send a packet, the IPv4 transmit module places an IPv4 header in front of the data.</span></span> <span data-ttu-id="0fb2f-453">Buna karşılık, ağdan IP paketleri alındığında, IP bileşeni, üst düzey protokollere teslim etmeden önce, IPv4 üst bilgisini paketten kaldırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-453">Conversely, when IP packets are received from the network, the IP component removes the IPv4 header from the packet before delivery to the higher-level protocols.</span></span> <span data-ttu-id="0fb2f-454">Şekil 5 ' te IP üstbilgisinin biçimi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-454">Figure 5 shows the format of the IP header.</span></span>

![IPv4 üst bilgi biçimi](./media/user-guide/ipv4-header-format.png)

### <a name="figure-5-ipv4-header-format"></a><span data-ttu-id="0fb2f-456">ŞEKIL 5.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-456">FIGURE 5.</span></span> <span data-ttu-id="0fb2f-457">IPv4 üst bilgi biçimi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-457">IPv4 Header Format</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-458">*TCP/IP uygulamasındaki tüm üstbilgilerin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur. Örneğin, 4 bit sürümü ve IP üstbilgisinin 4 bitlik üstbilgi uzunluğu üstbilginin ilk baytında bulunmalıdır.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-458">*All headers in the TCP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address. For example, the 4-bit version and the 4-bit header length of the IP header must be located on the first byte of the header.*</span></span>

<span data-ttu-id="0fb2f-459">IPv4 üstbilgisinin alanları aşağıdaki gibi tanımlanır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-459">The fields of the IPv4 header are defined as follows:</span></span>

|<span data-ttu-id="0fb2f-460">IPv4 &nbsp; üst bilgisi &nbsp; alanı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-460">IPv4&nbsp;Header&nbsp;Field</span></span> |<span data-ttu-id="0fb2f-461">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-461">Purpose</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-462">***4 bit sürümü***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-462">***4-bit version***</span></span> |<span data-ttu-id="0fb2f-463">Bu alan, bu üst bilginin temsil ettiği IP sürümünü içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-463">This field contains the version of IP this header represents.</span></span> <span data-ttu-id="0fb2f-464">NetX Duo 'un desteklediği IP sürüm 4 için, bu alanın değeri 4 ' tür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-464">For IP version 4, which is what NetX Duo supports, the value of this field is 4.</span></span> |
|<span data-ttu-id="0fb2f-465">***4 bit üst bilgi uzunluğu***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-465">***4-bit header length***</span></span> |<span data-ttu-id="0fb2f-466">Bu alan, IP üstbilgisindeki 32 bitlik sözcüklerin sayısını belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-466">This field specifies the number of 32-bit words in the IP header.</span></span> <span data-ttu-id="0fb2f-467">Hiçbir seçenek sözcüğü yoksa, bu alanın değeri 5 ' tir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-467">If no option words are present, the value for this field is 5.</span></span> |
|<span data-ttu-id="0fb2f-468">***8 bit hizmet türü (TOS)***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-468">***8-bit type of service (TOS)***</span></span> |<span data-ttu-id="0fb2f-469">Bu alan, bu IP paketi için istenen hizmetin türünü belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-469">This field specifies the type of service requested for this IP packet.</span></span> <span data-ttu-id="0fb2f-470">Geçerli istekler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-470">Valid requests are as follows:</span></span><br /><span data-ttu-id="0fb2f-471">-Normal: 0x00</span><span class="sxs-lookup"><span data-stu-id="0fb2f-471">- Normal: 0x00</span></span> <br /><span data-ttu-id="0fb2f-472">-Minimum gecikme: 0x00</span><span class="sxs-lookup"><span data-stu-id="0fb2f-472">- Minimum Delay: 0x00</span></span><br /><span data-ttu-id="0fb2f-473">-En fazla veri: 0x08</span><span class="sxs-lookup"><span data-stu-id="0fb2f-473">- Maximum Data: 0x08</span></span><br /><span data-ttu-id="0fb2f-474">-En yüksek güvenilirlik: 0x04</span><span class="sxs-lookup"><span data-stu-id="0fb2f-474">- Maximum Reliability: 0x04</span></span><br /><span data-ttu-id="0fb2f-475">-Minimum maliyet: 0x02</span><span class="sxs-lookup"><span data-stu-id="0fb2f-475">- Minimum Cost: 0x02</span></span> |
|<span data-ttu-id="0fb2f-476">***16 bit Toplam uzunluk***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-476">***16-bit total length***</span></span> |<span data-ttu-id="0fb2f-477">Bu alan IP üst bilgisi dahil olmak üzere bayt cinsinden IP veri biriminin toplam uzunluğunu içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-477">This field contains the total length of the IP datagram in bytes, including the IP header.</span></span> <span data-ttu-id="0fb2f-478">Bir IP veri birimi, TCP/IP Interneti üzerinde bulunan temel bilgi birimidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-478">An IP datagram is the basic unit of information found on a TCP/IP Internet.</span></span> <span data-ttu-id="0fb2f-479">Verilerin yanı sıra bir hedef ve kaynak adresi içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-479">It contains a destination and source address in addition to data.</span></span> <span data-ttu-id="0fb2f-480">16 bit alan bir IP veri biriminin en büyük boyutu 65.535 bayttır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-480">Because it is a 16-bit field, the maximum size of an IP datagram is 65,535 bytes.</span></span>|
|<span data-ttu-id="0fb2f-481">***16 bit tanımlama***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-481">***16-bit identification***</span></span> |<span data-ttu-id="0fb2f-482">Alan, bir konaktan gönderilen her IP veri birimini benzersiz şekilde tanımlamak için kullanılan bir sayıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-482">The field is a number used to uniquely identify each IP datagram sent from a host.</span></span> <span data-ttu-id="0fb2f-483">Bu sayı genellikle bir IP veri birimi gönderildikten sonra artırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-483">This number is typically incremented after an IP datagram is sent.</span></span> <span data-ttu-id="0fb2f-484">Alınan IP paket parçalarının montajı özellikle yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-484">It is especially useful in assembling received IP packet fragments.</span></span>|
|<span data-ttu-id="0fb2f-485">***3 bit bayrak***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-485">***3-bit flags***</span></span> |<span data-ttu-id="0fb2f-486">Bu alan IP parçalama bilgilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-486">This field contains IP fragmentation information.</span></span> <span data-ttu-id="0fb2f-487">Bit 14 "parçalara ayırma" bitidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-487">Bit 14 is the "don't fragment" bit.</span></span> <span data-ttu-id="0fb2f-488">Bu bit ayarlandıysa, giden IP datagramı parçalanmaz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-488">If this bit is set, the outgoing IP datagram will not be fragmented.</span></span> <span data-ttu-id="0fb2f-489">Bit 13, "daha fazla parça" bitidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-489">Bit 13 is the "more fragments" bit.</span></span> <span data-ttu-id="0fb2f-490">Bu bit ayarlandıysa, daha fazla parça vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-490">If this bit is set, there are more fragments.</span></span> <span data-ttu-id="0fb2f-491">Bu bit açık ise, IP paketinin son parçadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-491">If this bit is clear, this is the last fragment of the IP packet.</span></span>|
|<span data-ttu-id="0fb2f-492">***13 bit parça kayması***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-492">***13-bit fragment offset***</span></span> |<span data-ttu-id="0fb2f-493">Bu alan, parça kaydırmasına ait 13 bit üst ' i içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-493">This field contains the upper 13-bits of the fragment offset.</span></span> <span data-ttu-id="0fb2f-494">Bu nedenle, parça uzaklıklarla yalnızca 8 baytlık sınırlarda izin verilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-494">Because of this, fragment offsets are only allowed on 8-byte boundaries.</span></span> <span data-ttu-id="0fb2f-495">Parçalanmış bir IP veri biriminin ilk parçası "daha fazla parça" bit kümesine sahip olur ve 0 ' ın bir uzaklığa sahip olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-495">The first fragment of a fragmented IP datagram will have the "more fragments" bit set and have an offset of 0.</span></span>|
|<span data-ttu-id="0fb2f-496">***8 bit yaşam süresi (TTL)***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-496">***8-bit time to live (TTL)***</span></span> |<span data-ttu-id="0fb2f-497">Bu alan, bu veri biriminin geçebileceği yönlendirici sayısını içerir ve bu da veri biriminin ömrünü temel olarak sınırlandırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-497">This field contains the number of routers this datagram can pass, which basically limits the lifetime of the datagram.</span></span>|
|<span data-ttu-id="0fb2f-498">***8 bit protokol***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-498">***8-bit protocol***</span></span>|<span data-ttu-id="0fb2f-499">Bu alan, hangi protokolün IP datagramı kullandığını belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-499">This field specifies which protocol is using the IP datagram.</span></span> <span data-ttu-id="0fb2f-500">Geçerli protokollerin ve bunların değerlerinin listesi aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-500">The following is a list of valid protocols and their values:</span></span><br /><span data-ttu-id="0fb2f-501">-ICMP: 0x01</span><span class="sxs-lookup"><span data-stu-id="0fb2f-501">- ICMP: 0x01</span></span> <br /><span data-ttu-id="0fb2f-502">-IGMP: 0x02</span><span class="sxs-lookup"><span data-stu-id="0fb2f-502">- IGMP: 0x02</span></span><br /><span data-ttu-id="0fb2f-503">-TCP: 0X06</span><span class="sxs-lookup"><span data-stu-id="0fb2f-503">- TCP: 0X06</span></span><br /><span data-ttu-id="0fb2f-504">-UDP: 0X11</span><span class="sxs-lookup"><span data-stu-id="0fb2f-504">- UDP: 0X11</span></span> |
|<span data-ttu-id="0fb2f-505">***16 bit sağlama toplamı***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-505">***16-bit checksum***</span></span> |<span data-ttu-id="0fb2f-506">Bu alan, yalnızca IP üstbilgisini kapsayan 16 bit sağlama toplamını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-506">This field contains the 16-bit checksum that covers the IP header only.</span></span> <span data-ttu-id="0fb2f-507">IP yükünü kapsayan üst düzey protokollerde ek sağlama toplamı vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-507">There are additional checksums in the higher level protocols that cover the IP payload.</span></span> |
|<span data-ttu-id="0fb2f-508">***32-bit kaynak IP adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-508">***32-bit source IP address***</span></span> |<span data-ttu-id="0fb2f-509">Bu alan, gönderenin IP adresini içerir ve her zaman bir ana bilgisayar adresidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-509">This field contains the IP address of the sender and is always a host address.</span></span> |
|<span data-ttu-id="0fb2f-510">***32-bit hedef IP adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-510">***32-bit destination IP address***</span></span> |<span data-ttu-id="0fb2f-511">Bu alan, adres bir yayın veya çok noktaya yayın adresi ise alıcı veya alıcıların IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-511">This field contains the IP address of the receiver or receivers if the address is a broadcast or multicast address.</span></span> |

### <a name="creating-ip-instances"></a><span data-ttu-id="0fb2f-512">IP örnekleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-512">Creating IP Instances</span></span>

<span data-ttu-id="0fb2f-513">IP örnekleri, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-513">IP instances are created either during initialization or during runtime by application threads.</span></span> <span data-ttu-id="0fb2f-514">İlk IPv4 adresi, ağ maskesi, varsayılan paket havuzu, medya sürücüsü ve iç IP iş parçacığının belleği ve önceliği, uygulama yalnızca IPv6 ağlarını kullanmayı amaçladığında bile ***nx_ip_create*** hizmeti tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-514">The initial IPv4 address, network mask, default packet pool, media driver, and memory and priority of the internal IP thread are defined by the ***nx_ip_create*** service even if the application intends to use IPv6 networks only.</span></span> <span data-ttu-id="0fb2f-515">Uygulama, IP örneğini IPv4 adresi ile geçersiz bir adrese (0.0.0.0) ayarlandıysa, arabirim adresinin daha sonra, RARP aracılığıyla ya da DHCP veya benzer protokoller aracılığıyla el ile yapılandırma ile çözüledüğü varsayılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-515">If the application initializes the IP instance with its IPv4 address set to an invalid address(0.0.0.0), it is assumed that the interface address is going to resolved by manual configuration later, via RARP, or through DHCP or similar protocols.</span></span>

<span data-ttu-id="0fb2f-516">Birden çok ağ arabirimine sahip sistemler için, \***nx_ip_create** _ çağrılırken birincil arabirim atanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-516">For systems with multiple network interfaces, the primary interface is designated when calling \***nx_ip_create** _.</span></span> <span data-ttu-id="0fb2f-517">Her ek arabirim _ *_nx_ip_interface_attach_* \* ÇAĞıRARAK aynı IP örneğine bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-517">Each additional interface can be attached to the same IP instance by calling _\*_nx_ip_interface_attach_\*\*.</span></span> <span data-ttu-id="0fb2f-518">Bu hizmet, arabirim denetim bloğunda ağ arabirimi (IP adresi, ağ maskesi gibi) hakkındaki bilgileri depolar ve sürücü örneğini IP örneğindeki arabirim denetim bloğu ile ilişkilendirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-518">This service stores information about the network interface (such as IP address, network mask) in the interface control block, and associates the driver instance with the interface control block in the IP instance.</span></span> <span data-ttu-id="0fb2f-519">Sürücü bir veri paketi aldığından, IP alma mantığına iletmeden önce arabirim bilgilerini NX_PACKET yapıda depolaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-519">As the driver receives a data packet, it needs to store the interface information in the NX_PACKET structure before forwarding it to the IP receive logic.</span></span> <span data-ttu-id="0fb2f-520">Herhangi bir arabirim iliştirmeden önce bir IP örneğinin oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-520">Note an IP instance must already be created before attaching any interfaces.</span></span>

<span data-ttu-id="0fb2f-521">IPv6 Hizmetleri, \***nx_ip_create** _ çağrıldıktan sonra başlatılmaz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-521">IPv6 services are not started after calling \***nx_ip_create** _.</span></span> <span data-ttu-id="0fb2f-522">IPv6 hizmetlerini kullanmak isteyen uygulamalar, IPv6 'Yı başlatmak için _ *_nx_ipv6_enable_*\* hizmetini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-522">Applications wishing to use IPv6 services must call the service _ *_nx_ipv6_enable_*\* to start IPv6.</span></span>

<span data-ttu-id="0fb2f-523">IPv6 ağında, bir IP örneğindeki her arabirim birden fazla IPv6 genel adresine sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-523">On the IPv6 network, each interface in an IP instance may have multiple IPv6 global addresses.</span></span> <span data-ttu-id="0fb2f-524">IPv6 adres ataması için DHCPv6 kullanmanın yanı sıra, bir cihaz durum bilgisiz adres otomatik yapılandırması da kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-524">In addition to using DHCPv6 for IPv6 address assignment, a device may also use Stateless Address Autoconfiguration.</span></span> <span data-ttu-id="0fb2f-525">Daha sonra bu bölümün ilerleyen kısımlarında "IP denetim bloğu" ve "IPv6 adres çözümlemesi" bölümlerinde daha fazla bilgi bulunmaktadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-525">More information is available in the "IP Control Block" and "IPv6 Address Resolution" sections later in this chapter.</span></span>

### <a name="ip-send"></a><span data-ttu-id="0fb2f-526">IP gönderme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-526">IP Send</span></span>

<span data-ttu-id="0fb2f-527">NetX Duo 'da IP gönderme işlemi çok basitleştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-527">The IP send processing in NetX Duo is very streamlined.</span></span> <span data-ttu-id="0fb2f-528">Paketteki önüne işaretçisi, IP üst bilgisine uyacak şekilde geriye taşınır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-528">The prepend pointer in the packet is moved backwards to accommodate the IP header.</span></span> <span data-ttu-id="0fb2f-529">IP üstbilgisi tamamlandı (çağıran protokol katmanı tarafından belirtilen tüm seçeneklerle), IP sağlama toplamı satır içinde hesaplanır (yalnızca IPv4 paketleri için) ve paket ilişkili ağ sürücüsüne gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-529">The IP header is completed (with all the options specified by the calling protocol layer), the IP checksum is computed in-line (for IPv4 packets only), and the packet is dispatched to the associated network driver.</span></span> <span data-ttu-id="0fb2f-530">Ayrıca, giden parçalanma IP gönderme işlemi içinden de koordine edilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-530">In addition, outgoing fragmentation is also coordinated from within the IP send processing.</span></span>

<span data-ttu-id="0fb2f-531">IPv4 için NetX Duo, hedef IP adresi için fiziksel eşleme gerekliyse ARP istekleri başlatır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-531">For IPv4, NetX Duo initiates ARP requests if physical mapping is needed for the destination IP address.</span></span> <span data-ttu-id="0fb2f-532">IPv6, IPv6 adresi-tofiziksel adres eşlemesi için komşu bulmayı kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-532">IPv6 uses Neighbor Discovery for IPv6-address-tophysical-address mapping.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-533">*IPv4 bağlantısı için, sıraya alınan paket sayısı ARP kuyruğu derinliğini (sembol **NX_ARP_MAX_QUEUE_DEPTH** tarafından tanımlanır) aşana kadar IP adresi çözümlemesi (yani fiziksel eşleme) GEREKTIREN paketler ARP kuyruğunda sıraya alınır. Sıra derinliğine ulaşıldığında NetX Duo kuyruktaki en eski paketi kaldırır ve kalan paketlerin sıraya alındığı adres çözümlemesini beklemeye devam eder. Öte yandan, bir ARP girdisi çözümlenmezse ARP girişinde bekleyen paketler ARP giriş zaman aşımı üzerine serbest bırakılır.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-533">*For IPv4 connectivity, packets that require IP address resolution (i.e., physical mapping) are enqueued on the ARP queue until the number of packets queued exceeds the ARP queue depth (defined by the symbol **NX_ARP_MAX_QUEUE_DEPTH**). If the queue depth is reached, NetX Duo will remove the oldest packet on the queue and continue waiting for address resolution for the remaining packets enqueued. On the other hand, if an ARP entry is not resolved, the pending packets on the ARP entry are released upon ARP entry timeout.*</span></span>

<span data-ttu-id="0fb2f-534">Birden çok ağ arabirimine sahip sistemler için NetX Duo, hedef IP adresini temel alan bir arabirim seçer.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-534">For systems with multiple network interfaces, NetX Duo chooses an interface based on the destination IP address.</span></span> <span data-ttu-id="0fb2f-535">Aşağıdaki yordam seçim işlemi için geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-535">The following procedure applies to the selection process:</span></span>

1. <span data-ttu-id="0fb2f-536">Gönderen bir giden arabirim belirtiyorsa ve arabirim geçerliyse, bu arabirimi kullanın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-536">If the sender specifies an outgoing interface and the interface is valid, use that interface.</span></span>
2. <span data-ttu-id="0fb2f-537">Bir hedef adres IPv4 yayını veya çok noktaya yayın ise, ilk etkin fiziksel arabirim kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-537">If a destination address is IPv4 broadcast or multicast, the first enabled physical interface is used.</span></span>
3. <span data-ttu-id="0fb2f-538">Hedef adres statik yönlendirme tablosunda bulunursa, ağ geçidiyle ilişkili arabirim kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-538">If the destination address is found in the static routing table, the interface associated with the gateway is used.</span></span>
4. <span data-ttu-id="0fb2f-539">Hedef bağlantıalıyorsa, bağlantı bağlantısı arabirimi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-539">If the destination is on-link, the on-link interface is used.</span></span>
5. <span data-ttu-id="0fb2f-540">Hedef adres bir bağlantı yerel adresidir (169.254.0.0/16), ilk geçerli arabirim kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-540">If the destination address is a link-local address (169.254.0.0/16), the first valid interface is used.</span></span>
6. <span data-ttu-id="0fb2f-541">Varsayılan ağ geçidi yapılandırılmışsa, paketi aktarmak için varsayılan ağ geçidiyle ilişkili arabirimi kullanın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-541">If the default gateway is configured, use the interface associated with the default gateway to transmit the packet.</span></span>
7. <span data-ttu-id="0fb2f-542">Son olarak, geçerli arabirim IP adresinden biri bağlantı-yerel adres (169.254.0.0/16) ise, bu arabirim iletim için kaynak adresi olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-542">Finally, if one of the valid interface IP address is link-local address (169.254.0.0/16), this interface is used as source address for the transmission.</span></span>
8. <span data-ttu-id="0fb2f-543">Yukarıdaki tüm hata oluştuğunda çıkış paketi bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-543">The output packet is dropped if all above fails.</span></span>

### <a name="ip-receive"></a><span data-ttu-id="0fb2f-544">IP alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-544">IP Receive</span></span>

<span data-ttu-id="0fb2f-545">IP alma işlemi ağ sürücüsünden veya iç IP iş parçacığından (ertelenmiş alınan paket sırasındaki paketleri işlemek için) çağrılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-545">The IP receive processing is either called from the network driver or the internal IP thread (for processing packets on the deferred received packet queue).</span></span> <span data-ttu-id="0fb2f-546">IP alma işlemi protokol alanını inceler ve paketi uygun protokol bileşenine gönderme girişiminde bulunur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-546">The IP receive processing examines the protocol field and attempts to dispatch the packet to the proper protocol component.</span></span> <span data-ttu-id="0fb2f-547">Paket gerçekten gönderilmeden önce IP üstbilgisi, IP üstbilgisinin ötesinde önüne işaretçisinin ilerleyerek kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-547">Before the packet is actually dispatched, the IP header is removed by advancing the prepend pointer past the IP header.</span></span>

<span data-ttu-id="0fb2f-548">IP alma işlemi, parçalanmış IP paketlerini de algılar ve parçalama etkinse bunları yeniden birleştirmek için gerekli adımları gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-548">IP receive processing also detects fragmented IP packets and performs the necessary steps to reassemble them if fragmentation is enabled.</span></span> <span data-ttu-id="0fb2f-549">Parçalama gerekliyse ancak etkinleştirilmemişse, paket bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-549">If fragmentation is needed but not enabled, the packet is dropped.</span></span>

<span data-ttu-id="0fb2f-550">NetX Duo, pakette belirtilen arabirime bağlı olarak uygun ağ arabirimini belirler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-550">NetX Duo determines the appropriate network interface based on the interface specified in the packet.</span></span> <span data-ttu-id="0fb2f-551">Paket arabirimi NULL ise NetX Duo varsayılan olarak birincil arabirime ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-551">If the packet interface is NULL, NetX Duo defaults to the primary interface.</span></span> <span data-ttu-id="0fb2f-552">Bu, eski NetX Duo Ethernet sürücüleriyle uyumluluğu güvence altına almak için yapılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-552">This is done to guarantee compatibility with legacy NetX Duo Ethernet drivers.</span></span>

### <a name="raw-ip-send"></a><span data-ttu-id="0fb2f-553">Ham IP gönderme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-553">Raw IP Send</span></span>

<span data-ttu-id="0fb2f-554">Ham IP paketi, NetX Duo tarafından doğrudan desteklenmeyen (ve işlenen) üst katman protokol yükünün bulunduğu bir IP çerçevesidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-554">A raw IP packet is an IP frame that contains upper layer protocol payload not directly supported (and processed) by NetX Duo.</span></span> <span data-ttu-id="0fb2f-555">Ham paket, geliştiricilerin kendi IP tabanlı uygulamalarını tanımlamasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-555">A raw packet allows developers to define their own IP-based applications.</span></span> <span data-ttu-id="0fb2f-556">Bir uygulama, _*_nx_ip_raw_packet_enabled_*_ HIZMETIYLE ham IP paket işleme etkinleştirildiyse, doğrudan \***nxd_ip_raw_packet_send** _ hizmetini kullanarak ham IP paketleri gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-556">An application may send raw IP packets directly using the ***nxd_ip_raw_packet_send** _ service if raw IP packet processing has been enabled with the _*_nx_ip_raw_packet_enabled_\*_ service.</span></span> <span data-ttu-id="0fb2f-557">NetX Duo, bir tek noktaya yayın paketini bir IPv6 ağına iletirken, hedef adrese göre, paketleri üzerine göndermek için kullanılacak en iyi kaynak IPv6 adresini otomatik olarak belirler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-557">When transmitting a unicast packet on an IPv6 network, NetX Duo automatically determines the best source IPv6 address to use to send the packets out on, based on the destination address.</span></span> <span data-ttu-id="0fb2f-558">Hedef adres bir çok noktaya yayın (veya IPv4 için yayın) adresi ise, NetX Duo varsayılan olarak ilk (birincil) arabirime ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-558">If the destination address is a multicast (or broadcast for IPv4) address, however, NetX Duo will default to the first (primary) interface.</span></span> <span data-ttu-id="0fb2f-559">Bu nedenle, bu tür paketleri ikincil arabirimlerde göndermek için, uygulamanın, giden paket için kullanılacak kaynak adresini belirtmek üzere _ *_nx_ip_raw_packet_source_send_*\* hizmetini kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-559">Therefore, to send such packets out on secondary interfaces, the application must use the _ *_nx_ip_raw_packet_source_send_*\* service to specify the source address to use for the outgoing packet.</span></span>

### <a name="raw-ip-receive"></a><span data-ttu-id="0fb2f-560">Ham IP alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-560">Raw IP Receive</span></span>

<span data-ttu-id="0fb2f-561">Ham IP paket işleme etkinse, uygulama, \***nx_ip_raw_packet_receive** _ hizmeti aracılığıyla ham IP paketleri alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-561">If raw IP packet processing is enabled, the application may receive raw IP packets through the \***nx_ip_raw_packet_receive** _ service.</span></span> <span data-ttu-id="0fb2f-562">Tüm gelen paketler, IP üstbilgisinde belirtilen protokole göre işlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-562">All incoming packets are processed according to the protocol specified in the IP header.</span></span> <span data-ttu-id="0fb2f-563">Protokol UDP, TCP, ıGMP veya ıCMP belirtiyorsa, NetX Duo paket protokol türü için uygun işleyiciyi kullanarak paketi işleymeyecektir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-563">If the protocol specifies UDP, TCP, IGMP or ICMP, NetX Duo will process the packet using the appropriate handler for the packet protocol type.</span></span> <span data-ttu-id="0fb2f-564">Protokol Bu protokollerden biri değilse ve ham IP alma etkinleştirilmişse, gelen paket, uygulamanın _*_nx_ip_raw_packet_receive_*\* hizmeti aracılığıyla almasını bekleyen ham paket kuyruğuna yerleştirilir. Ayrıca, uygulama iş parçacıkları bir ham IP paketini beklerken isteğe bağlı bir zaman aşımı ile askıya alabilir. Ham paket kuyruğunda sıraya alınabilen paketlerin sayısı sınırlıdır. En büyük değer_, varsayılan değeri 20 olan \* NX_IP_RAW_MAX_QUEUE_DEPTH tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-564">If the protocol is not one of these protocols, and raw IP receive is enabled, the incoming packet will be put into the raw packet queue waiting for the application to receive it via the _*_nx_ip_raw_packet_receive_*\* service. In addition, application threads may suspend with an optional timeout while waiting for a raw IP packet. The number of packets that can be queued on the raw packet queue is limited. The maximum value is defined in \***NX_IP_RAW_MAX_QUEUE_DEPTH**_, whose default value is 20.</span></span> <span data-ttu-id="0fb2f-565">Uygulama, _ *_nx_ip_raw_receive_queue_max_set_*\* hizmetini çağırarak maksimum değeri değiştirebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-565">An application may change the maximum value by calling the _ *_nx_ip_raw_receive_queue_max_set_*\* service.</span></span>

<span data-ttu-id="0fb2f-566">Alternatif olarak, NetX Duo Kitaplığı \*\*\*NX_ENABLE_IP_RAW_PACKET_FILTER \*\*\* ile oluşturulmuş olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-566">Alternatively, the NetX Duo library may be built with \***NX_ENABLE_IP_RAW_PACKET_FILTER\*.**</span></span> <span data-ttu-id="0fb2f-567">Bu işlem modunda, uygulama, işlenmemiş bir protokol türüne sahip bir paket alındığında çağrılan bir geri çağırma işlevi sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-567">In this mode of operation, the application provides a callback function that is invoked every time a packet with an unhandled protocol type is received.</span></span> <span data-ttu-id="0fb2f-568">IP alma mantığı, paketi Kullanıcı tanımlı ham paket alma filtresi yordamına iletir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-568">The IP receive logic forwards the packet to the user-defined raw packet receive filter routine.</span></span> <span data-ttu-id="0fb2f-569">Filtre yordamı, ham paketin gelecekteki işlem için tutulup tutulmayacağını belirler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-569">The filter routine decides whether or not to keep the raw packet for future process.</span></span> <span data-ttu-id="0fb2f-570">Geri çağırma yordamlarından gelen dönüş değeri, paketin ham paket alma filtresi tarafından işlenip işlenmediğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-570">The return value from the callback routine indicates whether the packet has been processed by the raw packet receive filter.</span></span> <span data-ttu-id="0fb2f-571">Paket geri çağırma işlevi tarafından işlenirse, paket ile uygulama yapıldıktan sonra paketin yayımlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-571">If the packet is processed by the callback function, the packet should be released after the application is done with the packet.</span></span> <span data-ttu-id="0fb2f-572">Aksi halde, NetX Duo, paketin serbest bırakılmasından sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-572">Otherwise, NetX Duo is responsible for releasing the packet.</span></span> <span data-ttu-id="0fb2f-573">Ham paket filtresi işlevinin kullanımı hakkında daha fazla bilgi için **_nx_ip_raw_packet_filter_set_** başvurun.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-573">Refer to the **_nx_ip_raw_packet_filter_set_** for more information on how to use the raw packet filter function.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-574">\* NetX Duo için BSD sarmalayıcı işlevi, BSD ham yuvalarını işlemek için ham paket filtre işlevine dayanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-574">\*The BSD wrapper function for NetX Duo relies on the raw packet filter function to handle BSD raw sockets.</span></span> <span data-ttu-id="0fb2f-575">Bu nedenle, BSD sarmalayıcısında ham yuvayı desteklemek için, NetX Duo Kitaplığı ***NX_ENABLE_IP_RAW_PACKET_FILTER** _ tanımlı ile oluşturulmalıdır ve uygulamanın kendi ham paket filtresini yüklemek için _*_nx_ip_raw_packet_filter_set_\*_ kullanmamalıdır Functions._</span><span class="sxs-lookup"><span data-stu-id="0fb2f-575">Therefore, to support raw socket in the BSD wrapper, the NetX Duo library must be built with ***NX_ENABLE_IP_RAW_PACKET_FILTER** _ defined, and the application should not use the _*_nx_ip_raw_packet_filter_set_\*_ to install its own raw packet filter functions._</span></span>

### <a name="default-packet-pool"></a><span data-ttu-id="0fb2f-576">Varsayılan paket havuzu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-576">Default Packet Pool</span></span>

<span data-ttu-id="0fb2f-577">Her IP örneğine oluşturma sırasında varsayılan bir paket havuzu verilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-577">Each IP instance is given a default packet pool during creation.</span></span> <span data-ttu-id="0fb2f-578">Bu paket havuzu, ARP, RARP, ıCMP, ıGMP, çeşitli TCP denetim paketleri (SYN, ACK, vb.), komşu bulma, yönlendirici bulma ve yinelenen adres algılama için paket ayırmak üzere kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-578">This packet pool is used to allocate packets for ARP, RARP, ICMP, IGMP, various TCP control packets (SYN, ACK, and so on), Neighbor Discovery, Router Discovery, and Duplicate Address Detection.</span></span> <span data-ttu-id="0fb2f-579">NetX Duo bir paket ayırması gerektiğinde varsayılan paket havuzu boşsa, NetX Duo belirli bir işlemi iptal etmek zorunda kalabilir ve mümkünse bir hata mesajı döndürür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-579">If the default packet pool is empty when NetX Duo needs to allocate a packet, NetX Duo may have to abort the particular operation, and will return an error message if possible.</span></span>

### <a name="ip-helper-thread"></a><span data-ttu-id="0fb2f-580">IP Yardımcısı Iş parçacığı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-580">IP Helper Thread</span></span>

<span data-ttu-id="0fb2f-581">Her bir IP örneğinin bir yardımcı iş parçacığı vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-581">Each IP instance has a helper thread.</span></span> <span data-ttu-id="0fb2f-582">Bu iş parçacığı, tüm ertelenmiş paket işlemlerini ve tüm düzenli işlemleri işlemekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-582">This thread is responsible for handling all deferred packet processing and all periodic processing.</span></span> <span data-ttu-id="0fb2f-583">IP Yardımcısı iş parçacığı ***nx_ip_create oluşturulur.*** Burada iş parçacığına yığın ve öncelik verilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-583">The IP helper thread is created in ***nx_ip_create.*** This is where the thread is given its stack and priority.</span></span> <span data-ttu-id="0fb2f-584">IP Yardımcısı iş parçacığındaki ilk işleme, IP oluşturma hizmeti ile ilişkili ağ sürücüsü başlatma işlemini bitirebileceğinizi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-584">Note that the first processing in the IP helper thread is to finish the network driver initialization associated with the IP create service.</span></span> <span data-ttu-id="0fb2f-585">Ağ sürücüsü başlatma işlemi tamamlandıktan sonra, yardımcı iş parçacığı paket ve düzenli istekleri işlemek için sonsuz bir döngü başlatır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-585">After the network driver initialization is complete, the helper thread starts an endless loop to process packet and periodic requests.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-586">*IP Yardımcısı iş parçacığı içinde açıklanamayan davranış görüolduysa, IP oluşturma hizmeti sırasında yığın boyutunun artırılması ilk hata ayıklama adımıdır. Yığın çok küçükse, IP Yardımcısı iş parçacığı muhtemelen belleğin üzerine yazılmasına neden olabilir ve bu da olağan dışı sorunlara yol açabilir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-586">*If unexplained behavior is seen within the IP helper thread, increasing its stack size during the IP create service is the first debugging step. If the stack is too small, the IP helper thread could possibly be overwriting memory, which may cause unusual problems.*</span></span>

### <a name="thread-suspension"></a><span data-ttu-id="0fb2f-587">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-587">Thread Suspension</span></span>

<span data-ttu-id="0fb2f-588">Ham IP paketleri alınmaya çalışılırken uygulama iş parçacıkları askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-588">Application threads can suspend while attempting to receive raw IP packets.</span></span> <span data-ttu-id="0fb2f-589">Bir ham paket alındıktan sonra yeni paket, askıya alınan ilk iş parçacığına verilir ve bu iş parçacığı sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-589">After a raw packet is received, the new packet is given to the first thread suspended and that thread is resumed.</span></span> <span data-ttu-id="0fb2f-590">Paketleri almak için NetX Duo Hizmetleri, isteğe bağlı askıya alma zaman aşımına uğradı.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-590">NetX Duo services for receiving packets all have an optional suspension timeout.</span></span> <span data-ttu-id="0fb2f-591">Bir paket alındığında veya zaman aşımı süresi dolduğunda, uygulama iş parçacığı uygun tamamlanma durumuyla sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-591">When a packet is received or the timeout expires, the application thread is resumed with the appropriate completion status.</span></span>

### <a name="ip-statistics-and-errors"></a><span data-ttu-id="0fb2f-592">IP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-592">IP Statistics and Errors</span></span>

<span data-ttu-id="0fb2f-593">Etkinleştirilirse NetX Duo, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-593">If enabled, the NetX Duo keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-594">Her IP örneği için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-594">The following statistics and error reports are maintained for each IP instance:</span></span>

- <span data-ttu-id="0fb2f-595">Toplam gönderilen IP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-595">Total IP Packets Sent</span></span>
- <span data-ttu-id="0fb2f-596">Toplam gönderilen IP bayt</span><span class="sxs-lookup"><span data-stu-id="0fb2f-596">Total IP Bytes Sent</span></span>
- <span data-ttu-id="0fb2f-597">Toplam alınan IP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-597">Total IP Packets Received</span></span>
- <span data-ttu-id="0fb2f-598">Toplam alınan IP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-598">Total IP Bytes Received</span></span>
- <span data-ttu-id="0fb2f-599">Toplam IP geçersiz paket sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-599">Total IP Invalid Packets</span></span>
- <span data-ttu-id="0fb2f-600">Bırakılan toplam IP alma paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-600">Total IP Receive Packets Dropped</span></span>
- <span data-ttu-id="0fb2f-601">Toplam IP alma sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-601">Total IP Receive Checksum Errors</span></span>
- <span data-ttu-id="0fb2f-602">Bırakılan toplam IP gönderme paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-602">Total IP Send Packets Dropped</span></span>
- <span data-ttu-id="0fb2f-603">Toplam gönderilen IP parçacık</span><span class="sxs-lookup"><span data-stu-id="0fb2f-603">Total IP Fragments Sent</span></span>
- <span data-ttu-id="0fb2f-604">Toplam alınan IP parçacığı sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-604">Total IP Fragments Received</span></span>

<span data-ttu-id="0fb2f-605">Bu istatistik ve hata raporlarının hepsi, ***nx_ip_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-605">All of these statistics and error reports are available to the application with the ***nx_ip_info_get*** service.</span></span>

### <a name="ip-control-block-nx_ip"></a><span data-ttu-id="0fb2f-606">IP denetim bloğu NX_IP</span><span class="sxs-lookup"><span data-stu-id="0fb2f-606">IP Control Block NX_IP</span></span>

<span data-ttu-id="0fb2f-607">Her bir IP örneğinin özellikleri denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-607">The characteristics of each IP instance are found in its control block.</span></span> <span data-ttu-id="0fb2f-608">Her ağ cihazının IP adresleri ve ağ maskeleri, bir komşu IP ve fiziksel donanım adresi eşleme tablosu gibi yararlı bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-608">It contains useful information such as the IP addresses and network masks of each network device, and a table of neighbor IP and physical hardware address mapping.</span></span> <span data-ttu-id="0fb2f-609">Bu yapı, \***nx_api. h** _file tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-609">This structure is defined in the \***nx_api.h** _file.</span></span> <span data-ttu-id="0fb2f-610">IPv6 etkinleştirilirse, bir IPv6 adresi dizisi de içerir. bu sayı, Kullanıcı tarafından yapılandırılabilir seçenek _ *_NX_MAX_IPV6_ADDRESSES_* \* ile belirtilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-610">If IPv6 is enabled, it also contains an array of IPv6 address, the number of which is specified by the user configurable option _\*_NX_MAX_IPV6_ADDRESSES_\*\*.</span></span> <span data-ttu-id="0fb2f-611">Varsayılan değer, her fiziksel ağ arabiriminin üç IPv6 adresine sahip olmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-611">The default value allows each physical network interface to have three IPv6 addresses.</span></span>

<span data-ttu-id="0fb2f-612">IP örneği denetim blokları bellekte herhangi bir yerde bulunabilir, ancak her bir işlevin kapsamı dışında tanımlayarak denetimin genel bir yapıyı engellemesini sağlamak yaygın olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-612">IP instance control blocks can be located anywhere in memory, but it is most common to make the control block a global structure by defining it outside the scope of any function.</span></span>

### <a name="static-ipv4-routing"></a><span data-ttu-id="0fb2f-613">Statik IPv4 yönlendirmesi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-613">Static IPv4 Routing</span></span>

<span data-ttu-id="0fb2f-614">Statik yönlendirme özelliği, bir uygulamanın ağ dışı hedef IP adresleri için bir IPv4 ağı ve sonraki atlama adresi belirlemesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-614">The static routing feature allows an application to specify an IPv4 network and next hop address for specific out of network destination IP addresses.</span></span> <span data-ttu-id="0fb2f-615">Statik yönlendirme etkinse NetX Duo, göndermek üzere paketin hedef adresiyle eşleşen bir giriş için statik yönlendirme tablosunda arama yapar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-615">If static routing is enabled, NetX Duo searches through the static routing table for an entry matching the destination address of the packet to send.</span></span> <span data-ttu-id="0fb2f-616">Hiçbir eşleşme bulunmazsa NetX Duo fiziksel arabirimlerin listesini arar ve hedef IP adresine ve ağ maskesine göre bir kaynak IP adresi ve sonraki atlama adresi seçer.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-616">If no match is found, NetX Duo searches through the list of physical interfaces and chooses a source IP address and next hop address based on the destination IP address and the network mask.</span></span> <span data-ttu-id="0fb2f-617">Hedef, IP örneğine bağlı ağ sürücülerinin herhangi bir IP adresi ile eşleşmiyorsa, NetX Duo varsayılan ağ geçidine doğrudan bağlı bir arabirim seçer ve arabirimin IP adresini kaynak adresi olarak ve varsayılan ağ geçidini sonraki atlama olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-617">If the destination does not match any of the IP addresses of the network drivers attached to the IP instance, NetX Duo chooses an interface that is directly connected to the default gateway, and uses the IP address of the interface as source address, and the default gateway as the next hop.</span></span>

<span data-ttu-id="0fb2f-618">Girdiler, sırasıyla ***nx_ip_static_route_add** _ ve _ *_nx_ip_static_route_delete_** Hizmetleri kullanılarak statik yönlendirme tablosuna eklenebilir ve kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-618">Entries can be added and removed from the static routing table using the ***nx_ip_static_route_add** _ and _ *_nx_ip_static_route_delete_** services, respectively.</span></span> <span data-ttu-id="0fb2f-619">Statik yönlendirmeyi kullanmak için, konak uygulamanın NX_ENABLE_IP_STATIC_ROUTING tanımlayarak bu özelliği etkinleştirmesi gerekir ***.***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-619">To use static routing, the host application must enable this feature by defining ***NX_ENABLE_IP_STATIC_ROUTING.***</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-620">*Statik yönlendirme tablosuna bir giriş eklenirken NetX Duo, tabloda zaten belirtilen hedef adresi için eşleşen bir giriş olup olmadığını denetler. Varsa, ağ maskesinde daha küçük ağ (daha uzun ön ek) ile giriş için tercih verir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-620">*When adding an entry to the static routing table, NetX Duo checks for a matching entry for the specified destination address already in the table. If one exists, it gives preference to the entry with the smaller network (longer prefix) in the network mask.*</span></span>

### <a name="ipv4-forwarding"></a><span data-ttu-id="0fb2f-621">IPv4 Iletme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-621">IPv4 Forwarding</span></span>

<span data-ttu-id="0fb2f-622">Gelen IPv4 paketi bu düğüme yönelik değildir ve IPv4 iletme özelliği etkinse, NetX Duo, paketi diğer arabirimler üzerinden iletmeyi dener.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-622">If the incoming IPv4 packet is not destined for this node and IPv4 forwarding feature is enabled, NetX Duo attempts to forward the packet out via the other interfaces.</span></span>  

### <a name="ip-fragmentation"></a><span data-ttu-id="0fb2f-623">IP parçalanması</span><span class="sxs-lookup"><span data-stu-id="0fb2f-623">IP Fragmentation</span></span>

<span data-ttu-id="0fb2f-624">Ağ aygıtı, giden paketlerin boyutuyla sınırlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-624">The network device may have limits on the size of outgoing packets.</span></span> <span data-ttu-id="0fb2f-625">Bu sınıra en fazla iletim birimi (MTU) denir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-625">This limit is called the maximum transmission unit (MTU).</span></span> <span data-ttu-id="0fb2f-626">IP MTU, bir bağlantı katmanı sürücüsünün IP paketi fragmenting olmadan aktarabileceği en büyük IP çerçeve boyutudur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-626">IP MTU is the largest IP frame size a link layer driver is able to transmit without fragmenting the IP packet.</span></span> <span data-ttu-id="0fb2f-627">Bir cihaz sürücüsü başlatma aşaması sırasında, sürücü modülünün IP MTU boyutunu hizmet nx_ip_interface_mtu_set aracılığıyla yapılandırması gerekir ***.***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-627">During a device driver initialization phase, the driver module must configure its IP MTU size via the service ***nx_ip_interface_mtu_set.***</span></span>

<span data-ttu-id="0fb2f-628">Önerilmese de, uygulama cihaz tarafından desteklenen temeldeki IP MTU değerinden daha büyük veri birimleri oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-628">Although not recommended, the application may generate datagrams larger than the underlying IP MTU supported by the device.</span></span> <span data-ttu-id="0fb2f-629">Bu IP veri birimini iletmeden önce, IP katmanı bu paketleri parçalara ayıramalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-629">Before transmitting such IP datagram, the IP layer must fragment these packets.</span></span> <span data-ttu-id="0fb2f-630">Parçalanmış IP çerçevelerini alırken, alıcı uç, aynı parçalama KIMLIĞI olan tüm parçalanmış IP çerçevelerini depolamalıdır ve bunları sırayla yeniden birleştirmek zorunda olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-630">On receiving fragmented IP frames, the receiving end must store all fragmented IP frames with the same fragmentation ID, and reassemble them in order.</span></span> <span data-ttu-id="0fb2f-631">IP alma mantığı orijinal IP çerçevesini zaman içinde geri yüklemek için tüm parçaları toplayaamadığında tüm parçalar serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-631">If the IP receive logic is unable to collect all the fragments to restore the original IP frame in time, all the fragments are released.</span></span> <span data-ttu-id="0fb2f-632">Bu, bu tür paket kaybını tespit etmek ve buradan kurtarmak için üst katman protokolüne sahiptir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-632">It is up to the upper layer protocol to detect such packet loss and recover from it.</span></span>

<span data-ttu-id="0fb2f-633">IP parçalanması hem IPv4 hem de IPv6 paketlerine uygulanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-633">The IP fragmentation applies to both IPv4 and IPv6 packets.</span></span>

<span data-ttu-id="0fb2f-634">IP parçalama ve yeniden birleştirme işlemini desteklemek için, sistem tasarımcısının ***nx_ip_fragment_enable*** hizmetini kullanarak NETX Duo 'daki IP parçalama özelliğini etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-634">In order to support IP fragmentation and reassembly operation, the system designer must enable the IP fragmentation feature in NetX Duo using the ***nx_ip_fragment_enable*** service.</span></span> <span data-ttu-id="0fb2f-635">Bu özellik etkinleştirilmemişse, gelen parçalanmış IP paketlerinin yanı sıra ağ sürücüsünün MTU değerini aşan paketler de atılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-635">If this feature is not enabled, incoming fragmented IP packets are discarded, as well as packets that exceed the network driver's MTU.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-636">\* NetX Duo kitaplığı oluşturulurken, IP parçalanma mantığı \***NX_DISABLE_FRAGMENTATION** _ tanımlanarak tamamen kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-636">\*The IP Fragmentation logic can be removed completely by defining \***NX_DISABLE_FRAGMENTATION** _ when building the NetX Duo library.</span></span> <span data-ttu-id="0fb2f-637">Bunun yapılması NetX Duo kod boyutunu azaltmaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-637">Doing so helps reduce the code size of NetX Duo.</span></span> <span data-ttu-id="0fb2f-638">Bu durumda, hem IPv4 hem de IPv6 parçalama/yeniden birleştirme işlevlerinin disabled._ olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-638">Note that in this situation, both the IPv4 and IPv6 fragmentation/reassembly functions are disabled._</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-639">***NX_DISABLE_CHAINED_PACKET** TANıMLANMıŞSA, IP parçalanması devre dışı bırakılmalıdır.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-639">*If **NX_DISABLE_CHAINED_PACKET** is defined, IP fragmentation must be disabled.*</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-640">*Bir IPv6 ağında, veri biriminin boyutu minimum MTU boyutunu aşarsa, yönlendiriciler bir veri birimini parçalara vermez. Bu nedenle, kaynak ve hedef arasındaki en düşük MTU değerini tespit etmek ve IP veri birimi boyutunun yol MTU değerini aşmadığından emin olmak için gönderen cihaza kadar olur. NetX Duo sürümünde, IPv6 yolu MTU Keşfi, **NX_ENABLE_IPV6_PATH_MTU_DISCOVERY** tanımlı simgesiyle NETX Duo kitaplığı oluşturarak etkinleştirilebilir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-640">*In an IPv6 network, routers do not fragment a datagram if the size of the datagram exceeds its minimum MTU size. Therefore, it is up to the sending device to determine the minimum MTU between the source and the destination, and to ensure the IP datagram size does not exceed the path MTU. In NetX Duo, IPv6 PATH MTU discovery can be enabled by building NetX Duo library with the symbol **NX_ENABLE_IPV6_PATH_MTU_DISCOVERY** defined.*</span></span>

## <a name="address-resolution-protocol-arp-in-ipv4"></a><span data-ttu-id="0fb2f-641">IPv4 'de Adres Çözümleme Protokolü (ARP)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-641">Address Resolution Protocol (ARP) in IPv4</span></span>

<span data-ttu-id="0fb2f-642">Adres Çözümleme Protokolü (ARP), 32 bitlik IPv4 adreslerini temel alınan fiziksel ortamlardan (RFC 826) dinamik olarak eşleştirmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-642">The Address Resolution Protocol (ARP) is responsible for dynamically mapping 32-bit IPv4 addresses to those of the underlying physical media (RFC 826).</span></span> <span data-ttu-id="0fb2f-643">Ethernet en yaygın fiziksel medyadır ve 48 bit adreslerini destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-643">Ethernet is the most typical physical media, and it supports 48-bit addresses.</span></span> <span data-ttu-id="0fb2f-644">ARP gereksinimi, \***nx_ip_create** _ hizmetine sağlanan ağ sürücüsüne göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-644">The need for ARP is determined by the network driver supplied to the \***nx_ip_create** _ service.</span></span> <span data-ttu-id="0fb2f-645">Fiziksel eşleme gerekliyse, ağ sürücüsünün sürücü arabirimini düzgün şekilde yapılandırmak için _ *_nx_interface_address_mapping_needed_*\* hizmetini kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-645">If physical mapping is required, the network driver must use the _ *_nx_interface_address_mapping_needed_*\* service to configure the driver interface properly.</span></span>

### <a name="arp-enable"></a><span data-ttu-id="0fb2f-646">ARP etkinleştir</span><span class="sxs-lookup"><span data-stu-id="0fb2f-646">ARP Enable</span></span>

<span data-ttu-id="0fb2f-647">ARP 'nin düzgün çalışması için öncelikle ***nx_arp_enable*** hizmeti ile uygulama tarafından etkinleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-647">For ARP to function properly, it must first be enabled by the application with the ***nx_arp_enable*** service.</span></span> <span data-ttu-id="0fb2f-648">Bu hizmet, ARP etkinleştirme hizmetine sağlanan bellekten bir ARP önbelleği alanı oluşturma da dahil olmak üzere, ARP işleme için çeşitli veri yapıları ayarlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-648">This service sets up various data structures for ARP processing, including the creation of an ARP cache area from the memory supplied to the ARP enable service.</span></span>

### <a name="arp-cache"></a><span data-ttu-id="0fb2f-649">ARP önbelleği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-649">ARP Cache</span></span>

<span data-ttu-id="0fb2f-650">ARP önbelleği, iç ARP eşleme veri yapılarının bir dizisi olarak görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-650">The ARP cache can be viewed as an array of internal ARP mapping data structures.</span></span> <span data-ttu-id="0fb2f-651">Her iç yapı, bir IP adresi ile fiziksel bir donanım adresi arasındaki ilişkiyi koruma kapasitesine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-651">Each internal structure is capable of maintaining the relationship between an IP address and a physical hardware address.</span></span> <span data-ttu-id="0fb2f-652">Ayrıca, her veri yapısının birden fazla bağlantılı listenin parçası olması için bağlantı işaretçileri vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-652">In addition, each data structure has link pointers so it can be part of multiple linked lists.</span></span>

<span data-ttu-id="0fb2f-653">Uygulama, ARP tablosunda eşleme varsa, "**nx_arp_ip_address_find** _ hizmetini kullanarak donanım Mac adresı sağlayarak ARP ÖNBELLEĞINDEN bir IP adresi arayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-653">Application can look up an IP address from the ARP cache by supplying hardware MAC address using the service \***nx_arp_ip_address_find** _ if the mapping exists in the ARP table.</span></span> <span data-ttu-id="0fb2f-654">Benzer şekilde, _ *_nx_arp_hardware_address_find_*\* hizmeti belırlı bir IP adresı için Mac adresini döndürür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-654">Similarly, the service _ *_nx_arp_hardware_address_find_*\* returns the MAC address for a given IP address.</span></span>

### <a name="arp-dynamic-entries"></a><span data-ttu-id="0fb2f-655">ARP dinamik girdileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-655">ARP Dynamic Entries</span></span>

<span data-ttu-id="0fb2f-656">Varsayılan olarak, ARP etkinleştirme hizmeti, tüm girişleri kullanılabilir dinamik ARP girişleri listesindeki ARP önbelleğine koyar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-656">By default, the ARP enable service places all entries in the ARP cache on the list of available dynamic ARP entries.</span></span> <span data-ttu-id="0fb2f-657">Eşlenmemiş bir IP adresine gönderilen istek algılandığında NetX Duo tarafından bu listeden dinamik bir ARP girişi ayrılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-657">A dynamic ARP entry is allocated from this list by NetX Duo when a send request to an unmapped IP address is detected.</span></span> <span data-ttu-id="0fb2f-658">Ayırma işleminden sonra ARP girdisi ayarlanır ve fiziksel medyaya bir ARP isteği gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-658">After allocation, the ARP entry is set up and an ARP request is sent to the physical media.</span></span>

<span data-ttu-id="0fb2f-659">Ayrıca, hizmet ***nx_arp_dynamic_entry_set*** bir dinamik giriş de oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-659">A dynamic entry can also be created by the service ***nx_arp_dynamic_entry_set***.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-660">*Tüm dinamik ARP girişleri kullanımda ise, en az kullanılan ARP girişi yeni bir eşleme ile değiştirilmiştir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-660">*If all dynamic ARP entries are in use, the least recently used ARP entry is replaced with a new mapping.*</span></span>

### <a name="arp-static-entries"></a><span data-ttu-id="0fb2f-661">ARP statik girdileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-661">ARP Static Entries</span></span>

<span data-ttu-id="0fb2f-662">Uygulama, \***nx_arp_static_entry_create** _Service kullanarak statik ARP eşlemesi de ayarlayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-662">The application can also set up static ARP mapping by using the \***nx_arp_static_entry_create** _service.</span></span> <span data-ttu-id="0fb2f-663">Bu hizmet, dinamik ARP giriş listesinden bir ARP girişi ayırır ve uygulama tarafından sağlanan eşleme bilgilerini kullanarak statik listeye koyar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-663">This service allocates an ARP entry from the dynamic ARP entry list and places it on the static list with the mapping information supplied by the application.</span></span> <span data-ttu-id="0fb2f-664">Statik ARP girdileri yeniden kullanım veya yaşlandırma uygulanmaz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-664">Static ARP entries are not subject to reuse or aging.</span></span> <span data-ttu-id="0fb2f-665">Uygulama, hizmet _*_nx_arp_static_entry_delete_*_ kullanarak statik bir girişi silebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-665">The application can delete a static entry by using the service _*_nx_arp_static_entry_delete_*_.</span></span> <span data-ttu-id="0fb2f-666">ARP tablosundaki tüm statik girişleri kaldırmak için uygulama, _ *_nx_arp_static_entries_delete_* \* hizmetini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-666">To remove all static entries in the ARP table, the application may use the service _\*_nx_arp_static_entries_delete_\*\*.</span></span>

### <a name="automatic-arp-entry"></a><span data-ttu-id="0fb2f-667">Otomatik ARP girdisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-667">Automatic ARP Entry</span></span>

<span data-ttu-id="0fb2f-668">NetX Duo, ARP isteğine eş yanıtlardan sonra eşin IP/MAC eşlemesini kaydeder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-668">NetX Duo records the peer's IP/MAC mapping after the peer responses to the ARP request.</span></span> <span data-ttu-id="0fb2f-669">NetX Duo, ağ üzerinden gelen istenmeyen ARP isteklerine göre eş IP/MAC adresi eşlemesini kaydeden otomatik ARP girişi özelliğini de uygular.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-669">NetX Duo also implements the automatic ARP entry feature where it records peer IP/MAC address mapping based on unsolicited ARP requests from the network.</span></span> <span data-ttu-id="0fb2f-670">Bu özellik ARP tablosunun, bu ARP isteği/yanıt döngüsünü ilerlemek için gereken gecikmeyi azaltarak, eş bilgilerle doldurulmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-670">This feature allows the ARP table to be populated with peer information, reducing the delay needed to go through the ARP request/response cycle.</span></span> <span data-ttu-id="0fb2f-671">Ancak, otomatik ARP 'yi etkinleştirme ile ilgili diğer taraf ARP tablosunun, yerel bağlantı üzerinde çok sayıda düğüm bulunan meşgul bir ağda hızlı bir şekilde doldurulmasına yol açacağından, bu durum sonunda ARP girişi değişikliği gerçekleşmektedir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-671">However the downside with enabling automatic ARP is that the ARP table tend to fill up quickly on a busy network with many nodes on the local link, which would eventually lead to ARP entry replacement.</span></span>

<span data-ttu-id="0fb2f-672">Bu özellik varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-672">This feature is enabled by default.</span></span> <span data-ttu-id="0fb2f-673">Devre dışı bırakmak için, NetX Duo kitaplığı tanımlı ***NX_DISABLE_ARP_AUTO_ENTRY*** simgesiyle derlenmiş olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-673">To disable it, the NetX Duo library must be compiled with the symbol ***NX_DISABLE_ARP_AUTO_ENTRY*** defined.</span></span></p>

### <a name="arp-messages"></a><span data-ttu-id="0fb2f-674">ARP Iletileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-674">ARP Messages</span></span>

<span data-ttu-id="0fb2f-675">Daha önce belirtildiği gibi, IP görevi bir IP adresi için eşlemenin gerekli olduğunu algıladığında bir ARP istek iletisi gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-675">As mentioned previously, an ARP request message is sent when the IP task detects that mapping is needed for an IP address.</span></span> <span data-ttu-id="0fb2f-676">ARP istekleri, karşılık gelen bir ARP yanıtı alınana kadar düzenli aralıklarla (her \***NX_ARP_UPDATE_RATE** _ saniyede) gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-676">ARP requests are sent periodically (every \***NX_ARP_UPDATE_RATE** _ seconds) until a corresponding ARP response is received.</span></span> <span data-ttu-id="0fb2f-677">ARP denemesi terk edilmeden önce toplam _ *_NX_ARP_MAXIMUM_RETRIES_*\* ARP isteği yapılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-677">A total of _ *_NX_ARP_MAXIMUM_RETRIES_*\* ARP requests are made before the ARP attempt is abandoned.</span></span> <span data-ttu-id="0fb2f-678">Bir ARP yanıtı alındığında, ilişkili fiziksel adres bilgileri önbellekte olan ARP girişinde depolanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-678">When an ARP response is received, the associated physical address information is stored in the ARP entry that is in the cache.</span></span>

<span data-ttu-id="0fb2f-679">NetX Duo, çok ana sistemler için, belirtilen hedef adrese göre ARP isteklerinin ve yanıtlarının gönderileceği arabirimi belirler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-679">For multihome systems, NetX Duo determines which interface to send the ARP requests and responses based on destination address specified.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-680">*NetX Duo ARP yanıtı beklerken giden IP paketleri sıraya alınır. Kuyruğa alınan giden IP paketlerinin sayısı, sabit **NX_ARP_MAX_QUEUE_DEPTH** tarafından tanımlanır.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-680">*Outgoing IP packets are queued while NetX Duo waits for the ARP response. The number of outgoing IP packets queued is defined by the constant **NX_ARP_MAX_QUEUE_DEPTH**.*</span></span>

<span data-ttu-id="0fb2f-681">NetX Duo Ayrıca yerel IPv4 ağındaki diğer düğümlerden gelen ARP isteklerine yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-681">NetX Duo also responds to ARP requests from other nodes on the local IPv4 network.</span></span> <span data-ttu-id="0fb2f-682">ARP isteğini alan arabirimin geçerli IP adresiyle eşleşen bir dış ARP isteği yapıldığında NetX Duo, geçerli fiziksel adresi içeren bir ARP yanıt iletisi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-682">When an external ARP request is made that matches the current IP address of the interface that receives the ARP request, NetX Duo builds an ARP response message that contains the current physical address.</span></span>

<span data-ttu-id="0fb2f-683">Ethernet ARP isteklerinin ve yanıtlarının biçimleri Şekil 6 ' da gösterilir ve aşağıda açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-683">The formats of Ethernet ARP requests and responses are shown in Figure 6 and are described below.</span></span>

| <span data-ttu-id="0fb2f-684">**İstek/yanıt &nbsp; alanı**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-684">**Request/Response&nbsp;Field**</span></span>         | <span data-ttu-id="0fb2f-685">**Amaç**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-685">**Purpose**</span></span>            |
| ---------------------------------- | ---------------------- |
| <span data-ttu-id="0fb2f-686">***Ethernet hedef adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-686">***Ethernet Destination Address***</span></span> | <span data-ttu-id="0fb2f-687">Bu 6 baytlık alan ARP yanıtının hedef adresini içerir ve ARP istekleri için bir yayındır (tümü).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-687">This 6-byte field contains the destination address for the ARP response and is a broadcast (all ones) for ARP requests.</span></span> <span data-ttu-id="0fb2f-688">Bu alan, ağ sürücüsü tarafından ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-688">This field is setup by the network driver.</span></span> 
| <span data-ttu-id="0fb2f-689">***Ethernet kaynak adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-689">***Ethernet Source Address***</span></span>      | <span data-ttu-id="0fb2f-690">Bu 6 baytlık alan, ARP isteği veya yanıtı göndericisinin adresini içerir ve ağ sürücüsü tarafından ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-690">This 6-byte field contains the address of the sender of the ARP request or response and is set up by the network driver.</span></span> |
| <span data-ttu-id="0fb2f-691">***Çerçeve türü***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-691">***Frame Type***</span></span> | <span data-ttu-id="0fb2f-692">Bu 2 baytlık alan, mevcut Ethernet çerçevesinin türünü ve ARP istekleri ve yanıtları için 0x0806 ' ya eşittir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-692">This 2-byte field contains the type of Ethernet frame present and, for ARP requests and responses, this is equal to 0x0806.</span></span> <span data-ttu-id="0fb2f-693">Bu, ağ sürücüsünün ayarlamaktan sorumlu olduğu son alandır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-693">This is the last field the network driver is responsible for setting up.</span></span> |
| <span data-ttu-id="0fb2f-694">***Donanım türü***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-694">***Hardware Type***</span></span> | <span data-ttu-id="0fb2f-695">Bu 2 baytlık alan, Ethernet için 0x0001 olan donanım türünü içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-695">This 2-byte field contains the hardware type, which is 0x0001 for Ethernet.</span></span> |
| <span data-ttu-id="0fb2f-696">***Protokol türü***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-696">***Protocol Type***</span></span> | <span data-ttu-id="0fb2f-697">Bu 2 baytlık alan, IP adresleri için 0x0800 olan protokol türünü içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-697">This 2-byte field contains the protocol type, which is 0x0800 for IP addresses.</span></span> |
| <span data-ttu-id="0fb2f-698">***Donanım boyutu***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-698">***Hardware Size***</span></span> | <span data-ttu-id="0fb2f-699">Bu 1 baytlık alan, Ethernet adresleri için 6 olan donanım adresi boyutunu içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-699">This 1-byte field contains the hardware address size, which is 6 for Ethernet addresses.</span></span> |

![ARP paket biçiminin diyagramı.](./media/user-guide/arp-packet-format.png)

<span data-ttu-id="0fb2f-701">**ŞEKIL 6. ARP paket biçimi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-701">**FIGURE 6. ARP Packet Format**</span></span>

| <span data-ttu-id="0fb2f-702">İstek/yanıt &nbsp; alanı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-702">Request/Response&nbsp;Field</span></span> | <span data-ttu-id="0fb2f-703">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-703">Purpose</span></span> |
|---|---|
| <span data-ttu-id="0fb2f-704">***Protokol boyutu***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-704">***Protocol Size***</span></span> | <span data-ttu-id="0fb2f-705">Bu 1 baytlık alan, IP adresleri için 4 olan IP adresi boyutunu içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-705">This 1-byte field contains the IP address size, which is 4 for IP addresses.</span></span> |
| <span data-ttu-id="0fb2f-706">***İşlem kodu***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-706">***Operation Code***</span></span> | <span data-ttu-id="0fb2f-707">Bu 2 baytlık alan, bu ARP paketinin işlemini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-707">This 2-byte field contains the operation for this ARP packet.</span></span> <span data-ttu-id="0fb2f-708">Bir ARP yanıtı, 0x0002 değeri ile temsil edilirken, 0x0001 değeri ile bir ARP isteği belirtilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-708">An ARP request is specified with the value of 0x0001, while an ARP response is represented by a value of 0x0002.</span></span> |
| <span data-ttu-id="0fb2f-709">***Gönderici Ethernet adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-709">***Sender Ethernet Address***</span></span> | <span data-ttu-id="0fb2f-710">Bu 6 baytlık alan, gönderenin Ethernet adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-710">This 6-byte field contains the sender's Ethernet address.</span></span> |
| <span data-ttu-id="0fb2f-711">***Gönderenin IP adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-711">***Sender IP Address***</span></span> | <span data-ttu-id="0fb2f-712">Bu 4 baytlık alan gönderenin IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-712">This 4-byte field contains the sender's IP address.</span></span> |
| <span data-ttu-id="0fb2f-713">***Hedef Ethernet adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-713">***Target Ethernet Address***</span></span> | <span data-ttu-id="0fb2f-714">Bu 6 baytlık alan, hedefin Ethernet adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-714">This 6-byte field contains the target's Ethernet address.</span></span> |
| <span data-ttu-id="0fb2f-715">***Hedef IP adresi***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-715">***Target IP Address***</span></span> | <span data-ttu-id="0fb2f-716">Bu 4 baytlık alan, hedefin IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-716">This 4-byte field contains the target's IP address.</span></span> |

> [!NOTE]
> <span data-ttu-id="0fb2f-717">*ARP istekleri ve yanıtları Ethernet düzeyindeki paketlerdir. Diğer tüm TCP/IP paketleri bir IP paket üstbilgisiyle kapsüllenir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-717">*ARP requests and responses are Ethernet-level packets. All other TCP/IP packets are encapsulated by an IP packet header.*</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-718">*TCP/IP uygulamasındaki tüm ARP iletilerinin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-718">*All ARP messages in the TCP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

### <a name="arp-aging"></a><span data-ttu-id="0fb2f-719">ARP eskime</span><span class="sxs-lookup"><span data-stu-id="0fb2f-719">ARP Aging</span></span>

<span data-ttu-id="0fb2f-720">NetX, otomatik dinamik ARP girişi geçersiz doğrulamasını destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-720">NetX supports automatic dynamic ARP entry invalidation.</span></span><span data-ttu-id="0fb2f-721">\ ***NX_ARP_EXPIRATION_RATE** _, belırlenen bir IP adresinin fiziksel eşlemenin geçerli kaldığı saniye sayısını belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-721">\ ***NX_ARP_EXPIRATION_RATE** _ specifies the number of seconds an established IP address to physical mapping stays valid.</span></span> <span data-ttu-id="0fb2f-722">Süre dolduktan sonra ARP girişi ARP önbelleğinden kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-722">After expiration, the ARP entry is removed from the ARP cache.</span></span> <span data-ttu-id="0fb2f-723">Karşılık gelen IP adresine gönderme denemesi, yeni bir ARP isteğine neden olur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-723">The next attempt to send to the corresponding IP address will result in a new ARP request.</span></span> <span data-ttu-id="0fb2f-724">_ *_NX_ARP_EXPIRATION_RATE_*\* değerini sıfıra ayarlamak, varsayılan yapılandırma olan ARP eskimesini devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-724">Setting _ *_NX_ARP_EXPIRATION_RATE_*\* to zero disables ARP aging, which is the default configuration.</span></span>

### <a name="arp-defend"></a><span data-ttu-id="0fb2f-725">ARP savun</span><span class="sxs-lookup"><span data-stu-id="0fb2f-725">ARP Defend</span></span>

<span data-ttu-id="0fb2f-726">Bir ARP isteği veya ARP yanıt paketi alındığında ve gönderici aynı IP adresine sahip olduğunda ve bu düğümün IP adresiyle çakışıyorsa, NetX Duo, bu adres için bir savunma olarak bir ARP isteği gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-726">When an ARP request or ARP response packet is received and the sender has the same IP address, which conflicts with the IP address of this node, NetX Duo sends an ARP request for that address as a defense.</span></span> <span data-ttu-id="0fb2f-727">Çakışma ARP paketi 10 saniye içinde birden çok kez alınmışsa NetX Duo daha fazla savunma paketi göndermez.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-727">If the conflict ARP packet is received more than once in 10 seconds, NetX Duo does not send more defend packets.</span></span> <span data-ttu-id="0fb2f-728">Varsayılan Aralık 10 saniye, \***NX_ARP_DEFEND_INTERVAL** _ tarafından yeniden tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-728">The default interval 10 seconds can be redefined by \***NX_ARP_DEFEND_INTERVAL** _.</span></span> <span data-ttu-id="0fb2f-729">Bu davranış, RFC5227 (c) üzerinde belirtilen ilkeyi izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-729">This behavior follows the policy specified in 2.4(c) of RFC5227.</span></span> <span data-ttu-id="0fb2f-730">Windows XP ARP bildirisini ARP araştırması için bir yanıt olarak yoksaydığından, Kullanıcı, ARP yanıtını ek erteleme olarak göndermek için _ *_NX_ARP_DEFEND_BY_REPLY_*\* tanımlayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-730">Since Windows XP ignores ARP announcement as a response for its ARP probe, user can define _ *_NX_ARP_DEFEND_BY_REPLY_*\* to send ARP response as additional defence.</span></span>

### <a name="arp-statistics-and-errors"></a><span data-ttu-id="0fb2f-731">ARP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-731">ARP Statistics and Errors</span></span>

<span data-ttu-id="0fb2f-732">Etkinleştirilirse, NetX Duo ARP yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-732">If enabled, the NetX Duo ARP software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-733">Aşağıdaki istatistikler ve hata raporları her IP 'nin ARP işlemleri için tutulur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-733">The following statistics and error reports are maintained for each IP's ARP processing:</span></span>

- <span data-ttu-id="0fb2f-734">Gönderilen toplam ARP Isteği sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-734">Total ARP Requests Sent</span></span>
- <span data-ttu-id="0fb2f-735">Alınan toplam ARP Isteği sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-735">Total ARP Requests Received</span></span>
- <span data-ttu-id="0fb2f-736">Gönderilen toplam ARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-736">Total ARP Responses Sent</span></span> 
- <span data-ttu-id="0fb2f-737">Alınan toplam ARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-737">Total ARP Responses Received</span></span> 
- <span data-ttu-id="0fb2f-738">Toplam ARP dinamik girişleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-738">Total ARP Dynamic Entries</span></span> 
- <span data-ttu-id="0fb2f-739">Toplam ARP statik girişleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-739">Total ARP Static Entries</span></span> 
- <span data-ttu-id="0fb2f-740">Toplam ARP eski girdileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-740">Total ARP Aged Entries</span></span> 
- <span data-ttu-id="0fb2f-741">Toplam ARP geçersiz Iletileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-741">Total ARP Invalid Messages</span></span> 

<span data-ttu-id="0fb2f-742">Bu istatistik ve hata raporlarının tümü, ***nx_arp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-742">All these statistics and error reports are available to the application with the ***nx_arp_info_get*** service.</span></span>

## <a name="reverse-address-resolution-protocol-rarp-in-ipv4"></a><span data-ttu-id="0fb2f-743">IPv4 'de ters Adres Çözümleme Protokolü (RARP)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-743">Reverse Address Resolution Protocol (RARP) in IPv4</span></span>

<span data-ttu-id="0fb2f-744">Ters Adres Çözümleme Protokolü (RARP), konağın 32 bit IP adreslerinin (RFC 903) ağ atamasını istemek için protokoldür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-744">The Reverse Address Resolution Protocol (RARP) is the protocol for requesting network assignment of the host's 32-bit IP addresses (RFC 903).</span></span> <span data-ttu-id="0fb2f-745">Bu, bir RARP isteği aracılığıyla yapılır ve bir ağ üyesi bir RARP yanıtında ana bilgisayar ağ arabirimine bir IP adresi atalana kadar düzenli olarak devam eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-745">This is done through an RARP request and continues periodically until a network member assigns an IP address to the host network interface in an RARP response.</span></span> <span data-ttu-id="0fb2f-746">Uygulama, sıfır IP adresine sahip hizmet ***nx_ip_create*** bir IP örneği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-746">The application creates an IP instance by the service ***nx_ip_create*** with a zero IP address.</span></span> <span data-ttu-id="0fb2f-747">RARP uygulama tarafından etkinleştirilmişse, ağ sunucusundan, sıfır IP adresine sahip arabirim aracılığıyla erişilebilen bir IP adresi istemek için RARP protokolünü kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-747">If RARP is enabled by the application, it can use the RARP protocol to request an IP address from the network server accessible through the interface that has a zero IP address.</span></span>

### <a name="rarp-enable"></a><span data-ttu-id="0fb2f-748">RARP etkinleştir</span><span class="sxs-lookup"><span data-stu-id="0fb2f-748">RARP Enable</span></span>

<span data-ttu-id="0fb2f-749">RARP 'yi kullanmak için, uygulamanın IP adresi sıfır olan IP örneğini oluşturması ve ardından hizmet ***nx_rarp_enable*** kullanarak RARP 'yi etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-749">To use RARP, the application must create the IP instance with an IP address of zero, then enable RARP using the service ***nx_rarp_enable***.</span></span> <span data-ttu-id="0fb2f-750">Çoklu giriş sistemlerinde, IP örneğiyle ilişkilendirilmiş en az bir ağ cihazının IP adresi sıfır olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-750">For multihome systems, at least one network device associated with the IP instance must have an IP address of zero.</span></span> <span data-ttu-id="0fb2f-751">RARP işleme, ağ tarafından atanan IP adresi ile geçerli bir RARP yanıtı alınana kadar bir IP adresi gerektiren NetX Duo sistemine yönelik olarak RARP istek iletileri gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-751">The RARP processing periodically sends RARP request messages for the NetX Duo system requiring an IP address until a valid RARP reply with the network designated IP address is received.</span></span> <span data-ttu-id="0fb2f-752">Bu noktada, RARP işleme tamamlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-752">At this point, RARP processing is complete.</span></span>

<span data-ttu-id="0fb2f-753">RARP etkinleştirildikten sonra, tüm arabirim adresleri çözümlendikten sonra otomatik olarak devre dışıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-753">After RARP has been enabled, it is disabled automatically after all interface addresses are resolved.</span></span> <span data-ttu-id="0fb2f-754">Uygulama, Service ***nx_rarp_disable*** kullanarak RARP 'yi sonlandırmayı zorlayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-754">The application may force RARP to terminate by using the service ***nx_rarp_disable***.</span></span>

### <a name="rarp-request"></a><span data-ttu-id="0fb2f-755">RARP Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-755">RARP Request</span></span>

<span data-ttu-id="0fb2f-756">Bir RARP istek paketinin biçimi, [Şekil 6](#arp-messages)' da gösterilen ARP paketiyle neredeyse aynıdır. Tek fark, çerçeve türü alanı 0x8035 ve *Işlem kodu* alanı 3 ' tür ve bır RARP isteği tanımlayarak 3 ' tür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-756">The format of an RARP request packet is almost identical to the ARP packet shown in [Figure 6](#arp-messages).The only difference is the frame type field is 0x8035 and the *Operation Code* field is 3, designating an RARP request.</span></span> <span data-ttu-id="0fb2f-757">Daha önce belirtildiği gibi, RARP istekleri düzenli aralıklarla (her ***NX_RARP_UPDATE_RATE*** saniyede), ağ atanmış IP adresine sahıp bır RARP yanıtı alınana kadar gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-757">As mentioned previously, RARP requests will be sent periodically (every ***NX_RARP_UPDATE_RATE*** seconds) until a RARP reply with the network assigned IP address is received.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-758">*TCP/IP uygulamasındaki tüm RARP iletilerinin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-758">*All RARP messages in the TCP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

### <a name="rarp-reply"></a><span data-ttu-id="0fb2f-759">RARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-759">RARP Reply</span></span>

<span data-ttu-id="0fb2f-760">RARP yanıt iletileri ağdan alınır ve bu konak için ağ tarafından atanan IP adresini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-760">RARP reply messages are received from the network and contain the network assigned IP address for this host.</span></span> <span data-ttu-id="0fb2f-761">Bir RARP yanıt paketinin biçimi, Şekil 6 ' da gösterilen ARP paketiyle neredeyse aynıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-761">The format of an RARP reply packet is almost identical to the ARP packet shown in Figure 6.</span></span> <span data-ttu-id="0fb2f-762">Tek fark, çerçeve türü alanı 0x8035 ' dir ve *Işlem kodu* alanı, BIR RARP yanıtı atayan 4 ' tür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-762">The only difference is the frame type field is 0x8035 and the *Operation Code* field is 4, which designates an RARP reply.</span></span> <span data-ttu-id="0fb2f-763">Aldıktan sonra IP adresi IP örneğinde ayarlanır, düzenli olarak RARP isteği devre dışıdır ve IP örneği artık normal ağ işlemleri için hazırdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-763">After received, the IP address is setup in the IP instance, the periodic RARP request is disabled, and the IP instance is now ready for normal network operation.</span></span>

<span data-ttu-id="0fb2f-764">Çok ana konaklar için IP adresi, isteyen ağ arabirimine uygulanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-764">For multihome hosts, the IP address is applied to the requesting network interface.</span></span> <span data-ttu-id="0fb2f-765">Hala bir IP adresi ataması isteğinde bulunan başka ağ arabirimleri varsa, tüm Arabirim IP adresi istekleri çözümlenene kadar düzenli RARP hizmeti devam eder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-765">If there are other network interfaces still requesting an IP address assignment, the periodic RARP service continues until all interface IP address requests are resolved.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-766">*Uygulama, RARP işlemesi tamamlanana kadar IP örneğini kullanmamalıdır. **Nx_ip_status_check** , uygulamalar tarafından RARP tamamlanmasını beklemek için kullanılabilir. Çoklu giriş sistemlerinde, bu arabirim üzerinde RARP işlemesi tamamlanana kadar uygulama istekte bulunan arabirimini kullanmamalıdır. İkincil cihazdaki IP adresinin durumu **nx_ip_interface_status_check** hizmetiyle denetlenebilir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-766">*The application should not use the IP instance until the RARP processing is complete. The **nx_ip_status_check** may be used by applications to wait for the RARP completion. For multihome systems, the application should not use the requesting interface until the RARP processing is complete on that interface. Status of the IP address on the secondary device can be checked with the **nx_ip_interface_status_check** service.*</span></span>

### <a name="rarp-statistics-and-errors"></a><span data-ttu-id="0fb2f-767">RARP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-767">RARP Statistics and Errors</span></span>

<span data-ttu-id="0fb2f-768">Etkinleştirilirse, NetX Duo RARP yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-768">If enabled, the NetX Duo RARP software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-769">Her IP 'nin RARP işlemesi için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-769">The following statistics and error reports are maintained for each IP's RARP processing:</span></span>

- <span data-ttu-id="0fb2f-770">Gönderilen toplam RARP Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-770">Total RARP Requests Sent</span></span>
- <span data-ttu-id="0fb2f-771">Toplam alınan RARP yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-771">Total RARP Responses Received</span></span>
- <span data-ttu-id="0fb2f-772">Toplam RARP geçersiz Ileti</span><span class="sxs-lookup"><span data-stu-id="0fb2f-772">Total RARP Invalid Messages</span></span>

<span data-ttu-id="0fb2f-773">Bu istatistik ve hata raporlarının tümü, ***nx_rarp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-773">All these statistics and error reports are available to the application with the ***nx_rarp_info_get*** service.</span></span>

## <a name="internet-control-message-protocol-icmp"></a><span data-ttu-id="0fb2f-774">Internet Denetim Iletisi Protokolü (ıCMP)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-774">Internet Control Message Protocol (ICMP)</span></span>

<span data-ttu-id="0fb2f-775">IPv4 için Internet Denetim Iletisi Protokolü (ıCMP), IP ağ üyeleri arasında hata ve denetim bilgilerini geçirme ile sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-775">Internet Control Message Protocol for IPv4 (ICMP) is limited to passing error and control information between IP network members.</span></span> <span data-ttu-id="0fb2f-776">IPv6 için Internet Denetim Iletisi Protokolü (Icmpv6) Ayrıca hata ve denetim bilgilerini işler ve yinelenen adres algılama (BABACıĞıM) ve durum bilgisiz adresi otomatik yapılandırması gibi adres çözümleme protokolleri için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-776">Internet Control Message Protocol for IPv6 (ICMPv6) also handles error and control information and is required for address resolution protocols such as Duplicate Address Detection (DAD) and stateless address autoconfiguration.</span></span>

<span data-ttu-id="0fb2f-777">Diğer çoğu uygulama katmanının (örn. TCP/IP) iletileri, ıCMP ve ICMPv6 iletileri, ıCMP (veya ICMPv6) protokolü atamasının bulunduğu bir IP üstbilgisiyle kapsüllenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-777">Like most other application layer (e.g., TCP/IP) messages, ICMP and ICMPv6 messages are encapsulated by an IP header with the ICMP (or ICMPv6) protocol designation.</span></span>

### <a name="icmp-statistics-and-errors"></a><span data-ttu-id="0fb2f-778">ICMP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-778">ICMP Statistics and Errors</span></span>

<span data-ttu-id="0fb2f-779">Etkinleştirilirse NetX Duo, uygulama için yararlı olabilecek birkaç ıCMP istatistiğini ve hatasını izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-779">If enabled, NetX Duo keeps track of several ICMP statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-780">Her IP 'nin ıCMP işlemi için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-780">The following statistics and error reports are maintained for each IP's ICMP processing:</span></span> 

- <span data-ttu-id="0fb2f-781">Gönderilen toplam ıCMP pingi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-781">Total ICMP Pings Sent</span></span>  
- <span data-ttu-id="0fb2f-782">Toplam ıCMP ping zaman aşımları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-782">Total ICMP Ping Timeouts</span></span> 
- <span data-ttu-id="0fb2f-783">Askıya alınan toplam ıCMP ping Iş parçacığı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-783">Total ICMP Ping Threads Suspended</span></span> 
- <span data-ttu-id="0fb2f-784">Alınan toplam ıCMP ping yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-784">Total ICMP Ping Responses Received</span></span> 
- <span data-ttu-id="0fb2f-785">Toplam ıCMP sağlama toplamı hatası</span><span class="sxs-lookup"><span data-stu-id="0fb2f-785">Total ICMP Checksum Errors</span></span> 
- <span data-ttu-id="0fb2f-786">Toplam ıCMP Işlenmemiş Ileti</span><span class="sxs-lookup"><span data-stu-id="0fb2f-786">Total ICMP Unhandled Messages</span></span> 

<span data-ttu-id="0fb2f-787">Bu istatistik ve hata raporlarının tümü, ***nx_icmp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-787">All these statistics and error reports are available to the application with the ***nx_icmp_info_get*** service.</span></span>

## <a name="icmpv4-services-in-netx-duo"></a><span data-ttu-id="0fb2f-788">NetX Duo 'da Icmpv4 Hizmetleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-788">ICMPv4 Services in NetX Duo</span></span>

### <a name="icmpv4-enable"></a><span data-ttu-id="0fb2f-789">ICMPv4 etkinleştir</span><span class="sxs-lookup"><span data-stu-id="0fb2f-789">ICMPv4 Enable</span></span>

<span data-ttu-id="0fb2f-790">ICMPv4 iletilerinin NetX Duo tarafından işlenebilmesi için, uygulamanın, Icmpv4 işlemesini etkinleştirmek üzere ***nx_icmp_enable*** hizmetini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-790">Before ICMPv4 messages can be processed by NetX Duo, the application must call the ***nx_icmp_enable*** service to enable ICMPv4 processing.</span></span> <span data-ttu-id="0fb2f-791">Bu işlem yapıldıktan sonra uygulama, ping istekleri ve alan gelen ping paketleri verebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-791">After this is done, the application can issue ping requests and field incoming ping packets.</span></span>  

### <a name="icmpv4-echo-request"></a><span data-ttu-id="0fb2f-792">ICMPv4 yankı Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-792">ICMPv4 Echo Request</span></span>

<span data-ttu-id="0fb2f-793">Yankı isteği, ana bilgisayar IP adresi tarafından tanımlanan şekilde ağ üzerinde belirli bir düğümün varlığını denetlemek için kullanılan bir Icmpv4 iletisi türüdür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-793">An echo request is one type of ICMPv4 message that is typically used to check for the existence of a specific node on the network, as identified by its host IP address.</span></span> <span data-ttu-id="0fb2f-794">Popüler ping komutu, ıCMP yankı isteği/Yankı Yanıtı iletileri kullanılarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-794">The popular ping command is implemented using ICMP echo request/echo reply messages.</span></span> <span data-ttu-id="0fb2f-795">Belirli bir konak mevcutsa, ağ yığını ping isteğini ve ping yanıtı ile yanıtları işler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-795">If the specific host is present, its network stack processes the ping request and responses with a ping response.</span></span> <span data-ttu-id="0fb2f-796">Şekil 7 ' de, Icmpv4 ping iletisi biçimi ayrıntılı olarak gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-796">Figure 7 details the ICMPv4 ping message format.</span></span>

![ICMPv4 ping Iletisi](./media/user-guide/icmpv4-ping-message.png)  

<span data-ttu-id="0fb2f-798">**ŞEKIL 7. ICMPv4 ping Iletisi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-798">**FIGURE 7. ICMPv4 Ping Message**</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-799">*TCP/IP uygulamasındaki tüm Icmpv4 iletilerinin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-799">*All ICMPv4 messages in the TCP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

<span data-ttu-id="0fb2f-800">Aşağıda, Icmpv4 üst bilgi biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-800">The following describes the ICMPv4 header format:</span></span>

|<span data-ttu-id="0fb2f-801">Üst bilgi alanı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-801">Header Field</span></span> |<span data-ttu-id="0fb2f-802">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-802">Purpose</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-803">**Tür**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-803">**Type**</span></span> |<span data-ttu-id="0fb2f-804">Bu alan, Icmpv4 iletisini belirtir (BITS 31-24).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-804">This field specifies the ICMPv4 message (bits 31-24).</span></span> <span data-ttu-id="0fb2f-805">En yaygın olarak:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-805">The most common are:</span></span><br /><span data-ttu-id="0fb2f-806">-0: yankı yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-806">-  0: Echo Reply</span></span><br /><span data-ttu-id="0fb2f-807">-3: hedefe ulaşılamıyor</span><span class="sxs-lookup"><span data-stu-id="0fb2f-807">- 3: Destination Unreachable</span></span><br /><span data-ttu-id="0fb2f-808">-8: yankı Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-808">- 8: Echo Request</span></span><br /><span data-ttu-id="0fb2f-809">-11: süre aşıldı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-809">- 11: Time Exceeded</span></span><br /><span data-ttu-id="0fb2f-810">-12: parametre sorunu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-810">- 12: Parameter Problem</span></span> |
|<span data-ttu-id="0fb2f-811">**Kod**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-811">**Code**</span></span> |<span data-ttu-id="0fb2f-812">Bu alan, tür alanındaki bağlamdır (BITS 23-16).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-812">This field is context specific on the type field (bits 23-16).</span></span> <span data-ttu-id="0fb2f-813">Yankı isteği için veya yanıt kodu sıfır olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-813">For an echo request or reply the code is set to zero.</span></span>|
|<span data-ttu-id="0fb2f-814">**Toplam**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-814">**Checksum**</span></span> |<span data-ttu-id="0fb2f-815">Bu alan, tür alanı ile başlayan Icmpv4 üstbilgisinin tamamı de dahil olmak üzere, bir adet toplam Icmpv4 iletisi için 16 bit sağlama toplamı içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-815">This field contains the 16-bit checksum of the one's complement sum of the ICMPv4 message including the entire the ICMPv4 header starting with the Type field.</span></span> <span data-ttu-id="0fb2f-816">Sağlama toplamını oluşturmadan önce, sağlama toplamı alanı temizlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-816">Before generating the checksum, the checksum field is cleared.</span></span>|
|<span data-ttu-id="0fb2f-817">**Kimlik**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-817">**Identification**</span></span> | <span data-ttu-id="0fb2f-818">Bu alan, Konağı tanımlayan bir KIMLIK değeri içerir; Ana bilgisayar, YANKı YANıTıNDA YANKı isteğinden ayıklanan KIMLIĞI kullanmalıdır (BITS 31-16).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-818">This field contains an ID value identifying the host; a host should use the ID extracted from an ECHO request in the ECHO REPLY (bits 31-16).</span></span>|
|<span data-ttu-id="0fb2f-819">**Sıra numarası**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-819">**Sequence number**</span></span> |<span data-ttu-id="0fb2f-820">Bu alan bir KIMLIK değeri içerir; Ana bilgisayar, YANKı YANıTıNDA YANKı isteğinden ayıklanan KIMLIĞI kullanmalıdır (BITS 31-16).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-820">This field contains an ID value; a host should use the ID extracted from an ECHO request in the ECHO REPLY (bits 31-16).</span></span> <span data-ttu-id="0fb2f-821">Tanımlayıcı alanından farklı olarak, bu değer aynı ana bilgisayardan gelen bir sonraki yankı isteğinde de değişecektir (BITS 15-0).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-821">Unlike the identifier field, this value will change in a subsequent Echo request from the same host (bits 15-0).</span></span>|

### <a name="icmpv4-echo-response"></a><span data-ttu-id="0fb2f-822">ICMPv4 yankı yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-822">ICMPv4 Echo Response</span></span>    
<span data-ttu-id="0fb2f-823">Ping yanıtı, dış bir ping isteğine yanıt olarak ıCMP bileşeni tarafından dahili olarak oluşturulan başka bir ıCMP iletisi türüdür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-823">A ping response is another type of ICMP message that is generated internally by the ICMP component in response to an external ping request.</span></span> <span data-ttu-id="0fb2f-824">Onay komutuna ek olarak, ping yanıtı da ping isteğinde sağlanan kullanıcı verilerinin bir kopyasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-824">In addition to acknowledgement, the ping response also contains a copy of the user data supplied in the ping request.</span></span>

### <a name="icmpv4-error-messages"></a><span data-ttu-id="0fb2f-825">ICMPv4 hata Iletileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-825">ICMPv4 Error Messages</span></span>   
<span data-ttu-id="0fb2f-826">NetX Duo 'da aşağıdaki Icmpv4 hata iletileri desteklenir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-826">The following ICMPv4 error messages are supported in NetX Duo:</span></span> 
- <span data-ttu-id="0fb2f-827">Hedefe ulaşılamıyor</span><span class="sxs-lookup"><span data-stu-id="0fb2f-827">Destination Unreachable</span></span> 
- <span data-ttu-id="0fb2f-828">Süre aş</span><span class="sxs-lookup"><span data-stu-id="0fb2f-828">Time Exceed</span></span> 
- <span data-ttu-id="0fb2f-829">Parametre sorunu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-829">Parameter Problem</span></span>

## <a name="internet-group-management-protocol-igmp"></a><span data-ttu-id="0fb2f-830">Internet Grup Yönetimi Protokolü (IGMP)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-830">Internet Group Management Protocol (IGMP)</span></span>

<span data-ttu-id="0fb2f-831">Internet Grup Yönetimi Protokolü (ıGMP), komşileriyle iletişim kurmak için bir cihaz sağlar ve bir IPv4 çok noktaya yayın grubu (RFC 1112 ve RFC 2236) almayı veya katılmayı amaçladığı yönlendiricileriyle iletişim kurar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-831">The Internet Group Management Protocol (IGMP) provides a device to communicate with its neighbors and its routers that it intends to receive, or join, an IPv4 multicast group (RFC 1112 and RFC 2236).</span></span> <span data-ttu-id="0fb2f-832">Çok noktaya yayın grubu temel olarak dinamik bir ağ üyeleri koleksiyonudur ve bir sınıf D IP adresi ile temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-832">A multicast group is basically a dynamic collection of network members and is represented by a Class D IP address.</span></span> <span data-ttu-id="0fb2f-833">Çok noktaya yayın grubunun üyeleri herhangi bir zamanda bırakabilir ve yeni üyeler istediğiniz zaman katılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-833">Members of the multicast group may leave at any time, and new members may join at any time.</span></span> <span data-ttu-id="0fb2f-834">Gruba katılma ve gruptan ayrılmayla ilgili koordinasyon, ıGMP 'nin sorumluluğundadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-834">The coordination involved in joining and leaving the group is the responsibility of IGMP.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-835">*IGMP yalnızca IPv4 çok noktaya yayın grupları için tasarlanmıştır. IPv6 ağında kullanılamaz.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-835">*IGMP is designed only for IPv4 multicast groups. It cannot be used on the IPv6 network.*</span></span>

### <a name="igmp-enable"></a><span data-ttu-id="0fb2f-836">IGMP etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-836">IGMP Enable</span></span>     
<span data-ttu-id="0fb2f-837">NetX Duo 'da herhangi bir çok noktaya yayın etkinliğinin gerçekleşmesi için, uygulamanın ***nx_igmp_enable*** hizmetini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-837">Before any multicasting activity can take place in NetX Duo, the application must call the ***nx_igmp_enable*** service.</span></span> <span data-ttu-id="0fb2f-838">Bu hizmet, çok noktaya yayın isteklerini hazırlamak için temel ıGMP başlatmayı gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-838">This service performs basic IGMP initialization in preparation for multicast requests.</span></span>

### <a name="multicast-ipv4-addressing"></a><span data-ttu-id="0fb2f-839">Çok noktaya yayın IPv4 adresleme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-839">Multicast IPv4 Addressing</span></span>  
<span data-ttu-id="0fb2f-840">Daha önce belirtildiği gibi, çok noktaya yayın adresleri aslında [Şekil 4](#ipv4-addresses)' te gösterildiği gibi sınıf D IP adresleridir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-840">As mentioned previously, multicast addresses are actually Class D IP addresses as shown in [Figure 4](#ipv4-addresses).</span></span> <span data-ttu-id="0fb2f-841">D adresinin daha düşük 28 bit düzeyi çok noktaya yayın grubu KIMLIĞINE karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-841">The lower 28-bits of the Class D address correspond to the multicast group ID.</span></span> <span data-ttu-id="0fb2f-842">Önceden tanımlanmış bir dizi çok noktaya yayın adresi vardır; Ancak, *tüm ana bilgisayarlar adresi* (244.0.0.1) özellikle IGMP işleme için önemlidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-842">There are a series of pre-defined multicast addresses; however, the *all hosts address* (244.0.0.1) is particularly important to IGMP processing.</span></span> <span data-ttu-id="0fb2f-843">*Tüm konaklar adresi* , yönlendiriciler tarafından, ait oldukları çok noktaya yayın gruplarını raporlamak üzere tüm çok noktaya yayın üyelerini sorgulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-843">The *all hosts address* is used by routers to query all multicast members to report on which multicast groups they belong to.</span></span>  

### <a name="physical-address-mapping-in-ipv4"></a><span data-ttu-id="0fb2f-844">IPv4 'de fiziksel adres eşleme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-844">Physical Address Mapping in IPv4</span></span>
<span data-ttu-id="0fb2f-845">Sınıf D çok noktaya yayın adresleri doğrudan 01.00.5 e. 00.00.00 ile 01.00.5 e. 7f. ff. FF arasında değişen fiziksel Ethernet adreslerine eşlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-845">Class D multicast addresses map directly to physical Ethernet addresses ranging from 01.00.5e.00.00.00 through 01.00.5e.7f.ff.ff.</span></span> <span data-ttu-id="0fb2f-846">IP çok noktaya yayın adresinin daha düşük 23 biti, Ethernet adresinin daha düşük 23 bitmine doğrudan eşlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-846">The lower 23 bits of the IP multicast address map directly to the lower 23 bits of the Ethernet address.</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="0fb2f-847">Çok noktaya yayın grubuna ekleme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-847">Multicast Group Join</span></span>
<span data-ttu-id="0fb2f-848">Belirli bir çok noktaya yayın grubuna katılması gereken uygulamalar, ***nx_igmp_multicast_join*** hizmetini çağırarak bunu yapabiliriz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-848">Applications that need to join a particular multicast group may do so by calling the ***nx_igmp_multicast_join*** service.</span></span> <span data-ttu-id="0fb2f-849">Bu hizmet, bu çok noktaya yayın grubuna katılması için istek sayısını izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-849">This service keeps track of the number of requests to join this multicast group.</span></span> <span data-ttu-id="0fb2f-850">Bu, çok noktaya yayın grubuna katılması için ilk uygulama isteksiz ise, birincil ağda bu konağın gruba katılması için bir ıGMP raporu gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-850">If this is the first application requestto join the multicast group, an IGMP report is sent out on the primary network indicating this host's intention to join the group.</span></span> <span data-ttu-id="0fb2f-851">Daha sonra, ağ sürücüsü bu çok noktaya yayın grubu için Ethernet adresine sahip paketleri dinlemek üzere ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-851">Next, the network driver is called to set up for listening for packets with the Ethernet address for this multicast group.</span></span>

<span data-ttu-id="0fb2f-852">Çoklu giriş sisteminde, çok noktaya yayın grubuna belirli bir arabirim üzerinden erişilebiliyorsa, uygulama birincil ağdaki çok noktaya yayın gruplarıyla sınırlı olan _ *_nx_igmp_multicast_join_* \* yerine \***nx_igmp_multicast_interface_join** _ hizmetini kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-852">In a multihome system, if the multicast group is accessible via a specific interface, application shall use the service ***nx_igmp_multicast_interface_join** _ instead of _*_nx_igmp_multicast_join_\*\*, which is limited to multicast groups on the primary network.</span></span>

### <a name="multicast-group-leave"></a><span data-ttu-id="0fb2f-853">Çok noktaya yayın grubu bırakma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-853">Multicast Group Leave</span></span>   
<span data-ttu-id="0fb2f-854">Daha önce birleştirilmiş bir çok noktaya yayın grubuna ayrılmaları gereken uygulamalar, ***nx_igmp_multicast_leave*** hizmetini çağırarak bunu yapamayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-854">Applications that need to leave a previously joined multicast group may do so by calling the ***nx_igmp_multicast_leave*** service.</span></span> <span data-ttu-id="0fb2f-855">Bu hizmet, grubun kaç kez katıldığı ile ilişkili iç sayıyı azaltır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-855">This service reduces the internal count associated with how many times the group was joined.</span></span> <span data-ttu-id="0fb2f-856">Bir grup için bekleyen bir JOIN isteği yoksa, bu çok noktaya yayın grubunun Ethernet adresine sahip paketleri dinlemeyi devre dışı bırakmak için ağ sürücüsü çağırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-856">If there are no outstanding join requests for a group, the network driver is called to disable listening for packets with this multicast group's Ethernet address.</span></span>

### <a name="multicast-loopback"></a><span data-ttu-id="0fb2f-857">Çok noktaya yayın geri döngüsü</span><span class="sxs-lookup"><span data-stu-id="0fb2f-857">Multicast Loopback</span></span>    
<span data-ttu-id="0fb2f-858">Bir uygulama, aynı düğümdeki kaynaklardan birinden kaynaklanan çok noktaya yayın trafiğini almak isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-858">An application may wish to receive multicast traffic originated from one of the sources on the same node.</span></span> <span data-ttu-id="0fb2f-859">Bu, hizmet ***nx_igmp_loopback_enable*** kullanılarak IP çok noktaya yayın bileşeninin geri döngüden etkinleştirilmesini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-859">This requires the IP multicast component to have loopback enabled by using the service ***nx_igmp_loopback_enable***.</span></span>

### <a name="igmp-report-message"></a><span data-ttu-id="0fb2f-860">IGMP rapor Iletisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-860">IGMP Report Message</span></span>      
<span data-ttu-id="0fb2f-861">Uygulama bir çok noktaya yayın grubuna katıldığında, ana bilgisayarın belirli bir çok noktaya yayın grubuna katılma işlemini göstermek için ağ üzerinden bir ıGMP rapor iletisi gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-861">When the application joins a multicast group, an IGMP report message is sent via the network to indicate the host's intention to join a particular multicast group.</span></span> <span data-ttu-id="0fb2f-862">IGMP rapor iletisinin biçimi Şekil 8 ' de gösterilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-862">The format of the IGMP report message is shown in Figure 8.</span></span> <span data-ttu-id="0fb2f-863">Çok noktaya yayın grubu adresi, ıGMP rapor iletisindeki Grup iletisi ve hedef IP adresi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-863">The multicast group address is used for both the group message in the IGMP report message and the destination IP address.</span></span>

<span data-ttu-id="0fb2f-864">Yukarıdaki şekilde (Şekil 8), ıGMP üstbilgisi bir sürüm/tür alanı ve en fazla yanıt içerir</span><span class="sxs-lookup"><span data-stu-id="0fb2f-864">In the figure above (Figure 8), the IGMP header contains a version/type field, maximum response</span></span>

![Bir ıGMP rapor iletisinin diyagramı.](./media/user-guide/image17.jpg)

<span data-ttu-id="0fb2f-866">**ŞEKIL 8. IGMP rapor Iletisi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-866">**FIGURE 8. IGMP Report Message**</span></span>

<span data-ttu-id="0fb2f-867">zaman, sağlama toplamı alanı ve çok noktaya yayın grubu adres alanı.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-867">time, a checksum field, and a multicast group address field.</span></span> <span data-ttu-id="0fb2f-868">IGMPv1 iletileri için, IGMPv1 protokolünün bir parçası olmadığından en fazla yanıt süresi alanı her zaman sıfır olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-868">For IGMPv1 messages, the Maximum Response Time field is always set to zero, as this is not part of the IGMPv1 protocol.</span></span> <span data-ttu-id="0fb2f-869">En fazla yanıt süresi alanı, ana bilgisayar bir sorgu türü bir ıGMP iletisi aldığında ayarlanır ve bir konak, IGMPv2 protokolü tarafından tanımlanan başka bir ana bilgisayarın rapor türü iletisini aldığında temizlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-869">The Maximum Response Time field is set when the host receives a Query type IGMP message and cleared when a host receives another host's Report type message as defined by the IGMPv2 protocol.</span></span>

<span data-ttu-id="0fb2f-870">Aşağıda, ıGMP üst bilgi biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-870">The following describes the IGMP header format:</span></span>

|<span data-ttu-id="0fb2f-871">Üst bilgi alanı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-871">Header Field</span></span>|<span data-ttu-id="0fb2f-872">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-872">Purpose</span></span>|
|---|---|
|<span data-ttu-id="0fb2f-873">**Sürüm**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-873">**Version**</span></span> |<span data-ttu-id="0fb2f-874">Bu alan, ıGMP sürümünü belirtir (BITS 31-28).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-874">This field specifies the IGMP version (bits 31- 28).</span></span>|
|<span data-ttu-id="0fb2f-875">**Tür**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-875">**Type**</span></span> |<span data-ttu-id="0fb2f-876">Bu alan, ıGMP iletisinin türünü belirtir (BITS 27 -24).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-876">This field specifies the type of IGMP message (bits 27 -24).</span></span>|
|<span data-ttu-id="0fb2f-877">**En fazla yanıt süresi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-877">**Maximum Response Time**</span></span> |<span data-ttu-id="0fb2f-878">, IGMP v1 'de kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-878">Not used in IGMP v1.</span></span> <span data-ttu-id="0fb2f-879">IGMP v2 'de bu alan en uzun yanıt süresi olarak görev yapar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-879">In IGMP v2 this field serves as the maximum response time.</span></span>|
|<span data-ttu-id="0fb2f-880">**Toplam**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-880">**Checksum**</span></span> |<span data-ttu-id="0fb2f-881">Bu alan, ıGMP sürümünden başlayarak, ıGMP iletisinin tamamlama toplamı için 16 bit sağlama toplamı içerir (BITS 0-15)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-881">This field contains the 16-bit checksum of the one's complement sum of the IGMP message starting with the IGMP version (bits 0-15)</span></span>|
|<span data-ttu-id="0fb2f-882">**Grup adresi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-882">**Group Address**</span></span> |<span data-ttu-id="0fb2f-883">32-bit sınıfı D grup IP adresi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-883">32-bit class D group IP address</span></span>|

<span data-ttu-id="0fb2f-884">IGMP rapor iletileri, çok noktaya yayın yönlendiricisi tarafından gönderilen ıGMP sorgu iletilerine yanıt olarak da gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-884">IGMP report messages are also sent in response to IGMP query messages sent by a multicast router.</span></span> <span data-ttu-id="0fb2f-885">Çok noktaya yayın yönlendiricileri, hangi konağın hala grup üyeliği gerektirdiğini görmek üzere sorgu iletilerini düzenli aralıklarla gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-885">Multicast routers periodically send query messages out to see which hosts still require group membership.</span></span> <span data-ttu-id="0fb2f-886">Sorgu iletileri, Şekil 8 ' de gösterilen ıGMP rapor iletisiyle aynı biçimde olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-886">Query messages have the same format as the IGMP Report message shown in Figure 8.</span></span> <span data-ttu-id="0fb2f-887">Tek farklar ıGMP türüdür ve grup adresi alanı 0 olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-887">The only differences are the IGMP type is equal to 1 and the group address field is set to 0.</span></span> <span data-ttu-id="0fb2f-888">IGMP sorgu iletileri, çok noktaya yayın yönlendiricisi tarafından *tüm konaklar* IP adresine gönderilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-888">IGMP Query messages are sent to the *all hosts* IP address by the multicast router.</span></span> <span data-ttu-id="0fb2f-889">Grup üyeliğini sürdürmeye devam eden bir ana bilgisayar, başka bir ıGMP rapor iletisi göndererek yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-889">A host that still wishes to maintain group membership responds by sending another IGMP Report message.</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-890">*TCP/IP uygulamasındaki tüm iletilerin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-890">*All messages in the TCP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

### <a name="igmp-statistics-and-errors"></a><span data-ttu-id="0fb2f-891">IGMP Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-891">IGMP Statistics and Errors</span></span>    
<th><p><span data-ttu-id="0fb2f-892">Etkinleştirilirse, NetX Duo ıGMP yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-892">If enabled, the NetX Duo IGMP software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-893">Her IP 'nin ıGMP işlemi için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-893">The following statistics and error reports are maintained for each IP's IGMP processing:</span></span> 

- <span data-ttu-id="0fb2f-894">Gönderilen toplam ıGMP raporu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-894">Total IGMP Reports Sent</span></span> 
- <span data-ttu-id="0fb2f-895">Alınan toplam ıGMP sorgusu sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-895">Total IGMP Queries Received</span></span> 
- <span data-ttu-id="0fb2f-896">Toplam ıGMP sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-896">Total IGMP Checksum Errors</span></span> 
- <span data-ttu-id="0fb2f-897">Toplam ıGMP geçerli grup</span><span class="sxs-lookup"><span data-stu-id="0fb2f-897">Total IGMP Current Groups Joined</span></span> 

<span data-ttu-id="0fb2f-898">Bu istatistik ve hata raporlarının tümü, ***nx_igmp_info_get*** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-898">All these statistics and error reports are available to the application with the ***nx_igmp_info_get*** service.</span></span> 

### <a name="multicast-without-igmp"></a><span data-ttu-id="0fb2f-899">IGMP olmadan çok noktaya yayın</span><span class="sxs-lookup"><span data-stu-id="0fb2f-899">Multicast without IGMP</span></span>  
<span data-ttu-id="0fb2f-900">IPv4 çok noktaya yayın trafiği bekleyen uygulama, Service ***nx_ipv4_multicast_interface_join*** kullanarak IGMP iletileri çağırmadan çok noktaya yayın grubu adresine katılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-900">Application expecting IPv4 multicast traffic can join a multicast group address without invoking IGMP messages by using the service ***nx_ipv4_multicast_interface_join***.</span></span> <span data-ttu-id="0fb2f-901">Bu hizmet, IPv4 katmanını ve temel alınan arabirim sürücüsünü belirtilen IPv4 çok noktaya yayın adresinden paketleri kabul edecek şekilde yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-901">This service instructs the IPv4 layer and the underlying interface driver to accept packets from the designated IPv4 multicast address.</span></span> <span data-ttu-id="0fb2f-902">Ancak, bu grup için gönderilen veya işlenen bir ıGMP Grup Yönetim iletisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-902">However there is no IGMP group management messages being sent or processed for this group.</span></span>

<span data-ttu-id="0fb2f-903">Uygulama artık gruptan trafik almak istemiyor hizmeti ***nx_ipv4_multicast_interface_leave kullanabilir.***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-903">Application no longer wish to receive traffic from the group can use the service ***nx_ipv4_multicast_interface_leave.***</span></span>

## <a name="ipv6-in-netx-duo"></a><span data-ttu-id="0fb2f-904">NetX Duo 'da IPv6</span><span class="sxs-lookup"><span data-stu-id="0fb2f-904">IPv6 in NetX Duo</span></span>

### <a name="ipv6-addresses"></a><span data-ttu-id="0fb2f-905">IPv6 adresleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-905">IPv6 Addresses</span></span>   
<span data-ttu-id="0fb2f-906">IPv6 adresleri 128 bittir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-906">IPv6 addresses are 128 bits.</span></span> <span data-ttu-id="0fb2f-907">IPv6 adresi mimarisi, RFC 4291 ' de açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-907">The architecture of IPv6 address is described in RFC 4291.</span></span> <span data-ttu-id="0fb2f-908">Adres en önemli bitleri ve alt bitleri içeren bir ana bilgisayar adresini içeren bir ön eke bölünmüştür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-908">The address is divided into a prefix containing the most significant bits and a host address containing the lower bits.</span></span> <span data-ttu-id="0fb2f-909">Ön ek, adresin türünü gösterir ve, IPv4 ağındaki ağ adresinin kabaca eşdeğeridir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-909">The prefix indicates the type of address and is roughly the equivalent of the network address in IPv4 network.</span></span>

<span data-ttu-id="0fb2f-910">IPv6 'nın üç tür adres belirtimi vardır: tek noktaya yayın, her noktaya yayın (NetX Duo 'da desteklenmez) ve çok noktaya yayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-910">IPv6 has three types of address specifications: unicast, anycast (not supported in NetX Duo), and multicast.</span></span> <span data-ttu-id="0fb2f-911">Tek noktaya yayın adresleri, Internet 'teki belirli bir konağı tanımlayan IP adresleridir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-911">Unicast addresses are those IP addresses that identify a specific host on the Internet.</span></span> <span data-ttu-id="0fb2f-912">Tek noktaya yayın adresleri bir kaynak ya da hedef IP adresi olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-912">Unicast addresses can be either a source or a destination IP address.</span></span> <span data-ttu-id="0fb2f-913">Çok noktaya yayın adresleri Internet 'teki bir dinamik konaklar grubunu belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-913">Multicast addresses specify a dynamic group of hosts on the Internet.</span></span> <span data-ttu-id="0fb2f-914">Çok noktaya yayın grubunun üyeleri her istediklerinde katılabilir ve bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-914">Members of the multicast group may join and leave whenever they wish.</span></span>

<span data-ttu-id="0fb2f-915">IPv6, IPv4 yayın mekanizmasına eşit değildir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-915">IPv6 does not have the equivalent of the IPv4 broadcast mechanism.</span></span> <span data-ttu-id="0fb2f-916">Tüm konaklara paket gönderebilme özelliği, bağlantı yerel tüm konaklar çok noktaya yayın grubuna bir paket gönderilerek elde edilebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-916">The ability to send a packet to all hosts can be achieved by sending a packet to the link-local all hosts multicast group.</span></span>

<span data-ttu-id="0fb2f-917">IPv6, komşu bulma, yönlendirici bulma ve durum bilgisi Içermeyen adres otomatik yapılandırma yordamlarını gerçekleştirmek için çok noktaya yayın adreslerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-917">IPv6 utilizes multicast addresses to perform Neighbor Discovery, Router Discovery, and Stateless Address Auto Configuration procedures.</span></span>

<span data-ttu-id="0fb2f-918">İki tür IPv6 tek noktaya yayın adresi vardır: genellikle bilinen bağlantı yerel önekini, arabirim MAC adresiyle birleştirerek oluşturulan yerel adresleri ve ayrıca önek bölümü ve ana bilgisayar KIMLIĞI bölümünü içeren genel IP adreslerini birleştirerek oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-918">There are two types of IPv6 unicast addresses: link local addresses, typically constructed by combining the well-known link local prefix with the interface MAC address, and global IP addresses, which also has the prefix portion and the host ID portion.</span></span> <span data-ttu-id="0fb2f-919">Genel bir adres el ile veya durum bilgisiz adresi veya DHCPv6 aracılığıyla yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-919">A global address may be configured manually, or through the Stateless Address Autoconfiguration or DHCPv6.</span></span> <span data-ttu-id="0fb2f-920">NetX Duo hem bağlantı yerel adresini hem de genel adresi destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-920">NetX Duo supports both link local address and global address.</span></span>

<span data-ttu-id="0fb2f-921">NetX Duo hem IPv4 hem de IPv6 biçimlerine uyum sağlamak için, IPv4 ve IPv6 adreslerini tutmak üzere NXD_ADDRESS yeni bir veri türü sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-921">To accommodate both IPv4 and IPv6 formats, NetX Duo provides a new data type, NXD_ADDRESS, for holding IPv4 and IPv6 addresses.</span></span> <span data-ttu-id="0fb2f-922">Bu yapının tanımı aşağıda gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-922">The definition of this structure is shown below.</span></span> <span data-ttu-id="0fb2f-923">Adres alanı, IPv4 ve IPv6 adreslerinin bir birleşimidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-923">The address field is a union of IPv4 and IPv6 addresses.</span></span>

```c
typedef struct NXD_ADDRESS_STRUCT
{
    ULONG nxd_ip_version;
    union
    {
        ULONG v4;
        ULONG v6[4];
    } nxd_ip_address;
} NXD_ADDRESS;
```

<span data-ttu-id="0fb2f-924">NXD_ADDRESS yapısında, *nxd_ip_version* Ilk öğesi IPv4 veya IPv6 sürümünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-924">In the NXD_ADDRESS structure, the first element, *nxd_ip_version*, indicates IPv4 or IPv6 version.</span></span> <span data-ttu-id="0fb2f-925">Desteklenen değerler NX_IP_VERSION_V4 ya da NX_IP_VERSION_V6.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-925">Supported values are either NX_IP_VERSION_V4 or NX_IP_VERSION_V6.</span></span> <span data-ttu-id="0fb2f-926">*nxd_ip_version* , *nxd_ip_address* UNION alanındaki hangi alanın IP adresi olarak kullanılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-926">*nxd_ip_version* indicates which field in the *nxd_ip_address* union to use as the IP address.</span></span> <span data-ttu-id="0fb2f-927">NetX Duo API hizmetleri, genellikle ULONG (32 bit) IP adresi yerine giriş bağımsız değişkeni olarak NXD_ADDRESS yapısına yönelik bir işaretçi alır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-927">NetX Duo API services typically take a pointer to NXD_ADDRESS structure as input argument in lieu of the ULONG (32 bit) IP address.</span></span>

### <a name="link-local-addresses"></a><span data-ttu-id="0fb2f-928">Yerel adresleri bağla</span><span class="sxs-lookup"><span data-stu-id="0fb2f-928">Link Local Addresses</span></span>     
<span data-ttu-id="0fb2f-929">Bağlantı yerel adresi yalnızca yerel ağda geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-929">A link-local address is only valid on the local network.</span></span> <span data-ttu-id="0fb2f-930">Bir cihaz, geçerli bir bağlantı yerel adresi atandıktan sonra aynı ağdaki başka bir cihaza paket gönderebilir ve alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-930">A device can send and receive packets to another device on the same network after a valid link local address is assigned to it.</span></span> <span data-ttu-id="0fb2f-931">Uygulama, NetX Duo hizmeti ***nxd_ipv6_address_set*** çağırarak bir bağlantı yerel adresi atar ve önek uzunluğu parametresi 10 olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-931">An application assigns a link-local address by calling the NetX Duo service ***nxd_ipv6_address_set***, with the prefix length parameter set to 10.</span></span> <span data-ttu-id="0fb2f-932">Uygulama hizmete bir bağlantı yerel adresi sağlayabilir veya bağlantı yerel adresi olarak NX_NULL kullanabilir ve NetX Duo cihazın MAC adresine göre bağlantı yerel adresi oluşturmasına izin verebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-932">The application may supply a link-local address to the service, or it may simply use NX_NULL as the link-local address and allow NetX Duo to construct a link-local address based on the device's MAC address.</span></span>

<span data-ttu-id="0fb2f-933">Aşağıdaki örnek, NetX Duo 'un MAC adresini kullanarak birincil cihazdaki (Dizin 0) bağlantı yerel adresini bir önek uzunluğu olan 10 ' un yapılandırmasını sağlar:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-933">The following example instructs NetX Duo to configure the link-local address with a prefix length of 10 on the primary device (index 0) using its MAC address:</span></span>

```c
nxd_ipv6_address_set(ip_ptr, 0, NX_NULL, 10, NX_NULL);
```
<span data-ttu-id="0fb2f-934">Yukarıdaki örnekte, arabirimin MAC adresi 54:32:10:1A: BC: 67 ise, buna karşılık gelen bağlantı yerel adresi şöyle olur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-934">In the example above, if the MAC address of the interface is 54:32:10:1A:BC:67, the corresponding link-local address would be:</span></span>

```c
FE80::5632:10FF:FE1A:BC67
```
<span data-ttu-id="0fb2f-935">IPv6 adresinin ana bilgisayar KIMLIĞI bölümünün (**5632:10FF: FE1A: BC67**), aşağıdaki değişikliklerle 6 baytlık Mac adresinden yapıldığını unutmayın:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-935">Note that the host ID portion of the IPv6 address (**5632:10FF:FE1A:BC67**) is made up of the 6-byte MAC address, with the following modifications:</span></span>

- <span data-ttu-id="0fb2f-936">**0Xfffe** , byte 3 ve Mac adresinin Byte 4 arasına eklenmiştir</span><span class="sxs-lookup"><span data-stu-id="0fb2f-936">**0xFFFE** inserted between byte 3 and byte 4 of the MAC address</span></span>
- <span data-ttu-id="0fb2f-937">MAC adresinin (U/L bit) ilk baytının ikinci en düşük biti 1 olarak ayarlanmıştır</span><span class="sxs-lookup"><span data-stu-id="0fb2f-937">Second lowest bit of the first byte of the MAC address (U/L bit) is set to 1</span></span>

<span data-ttu-id="0fb2f-938">IPv6 adresinin ana bilgisayar bölümünün arabirim MAC adresinden nasıl oluşturulacağı hakkında daha fazla bilgi için bkz. RFC 2464 (Ethernet ağı üzerinden IPv6 paketlerini Iletim).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-938">Refer to RFC 2464 (Transmission of IPv6 Packets over Ethernet Network) for more information on how to construct the host portion of an IPv6 address from its interface MAC address.</span></span>

<span data-ttu-id="0fb2f-939">IPv6 'daki bir veya daha fazla konağa çok noktaya yayın iletileri göndermek için birkaç özel çok noktaya yayın adresi vardır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-939">There are a few special multicast addresses for sending multicast messages to one or more hosts in IPv6:</span></span>

| <span data-ttu-id="0fb2f-940">Grup</span><span class="sxs-lookup"><span data-stu-id="0fb2f-940">Group</span></span>  | <span data-ttu-id="0fb2f-941">Adres</span><span class="sxs-lookup"><span data-stu-id="0fb2f-941">Address</span></span>   | <span data-ttu-id="0fb2f-942">Açıklama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-942">Description</span></span>  |
|---|---|---|
|<span data-ttu-id="0fb2f-943">Tüm düğümler grubu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-943">All nodes group</span></span> |<span data-ttu-id="0fb2f-944">**FF02:: 1**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-944">**FF02::1**</span></span> |<span data-ttu-id="0fb2f-945">Yerel ağdaki tüm konaklar</span><span class="sxs-lookup"><span data-stu-id="0fb2f-945">All hosts on the local network</span></span>|
|<span data-ttu-id="0fb2f-946">Tüm yönlendiriciler grubu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-946">All routers group</span></span> |<span data-ttu-id="0fb2f-947">**FF02:: 2**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-947">**FF02::2**</span></span> |<span data-ttu-id="0fb2f-948">Yerel ağdaki tüm yönlendiriciler</span><span class="sxs-lookup"><span data-stu-id="0fb2f-948">All routers on the local network</span></span>|
|<span data-ttu-id="0fb2f-949">İstek düğümü</span><span class="sxs-lookup"><span data-stu-id="0fb2f-949">Solicited-node</span></span> |<span data-ttu-id="0fb2f-950">**FF02:: 1: FF00:0/104**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-950">**FF02::1:FF00:0/104**</span></span> |<span data-ttu-id="0fb2f-951">Aşağıda açıklanmıştır</span><span class="sxs-lookup"><span data-stu-id="0fb2f-951">Explained below</span></span>|

<span data-ttu-id="0fb2f-952">İstek düğüm çok noktaya yayın adresi, tüm IPv6 Konakları yerine, yerel bağlantıda belirli Konakları hedefler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-952">A solicited-node multicast address targets specific hosts on the local link rather than all the IPv6 hosts.</span></span> <span data-ttu-id="0fb2f-953">**FF02:: 1: FF00:0/104** önekini içerir. bu değer 104 bittir ve hedef IPv6 adresinin son 24 bittir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-953">It consists of the prefix **FF02::1:FF00:0/104**, which is 104 bits and the last 24-bits of the target IPv6 address.</span></span> <span data-ttu-id="0fb2f-954">Örneğin, **205B: 209D: D028:: F058: D1C8:1024** bir IPv6 adresi, adres **FF02:: 1: FFC8:1024**.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-954">For example, an IPv6 address **205B:209D:D028::F058:D1C8:1024** has a solicitednode multicast address of address **FF02::1:FFC8:1024**.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-955">İki *nokta üst üste Gösterim, aradaki bitlerin tümünün sıfırlardan olduğunu gösterir. **FF02:: 1: FF00:0/104** tam genişletilmiş gibi görünüyor* **FF02:0000:0000:0000:0000:0001: FF00:0000**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-955">*The double colon notation indicates the intervening bits are all zeroes. **FF02::1:FF00:0/104** fully expanded looks like* **FF02:0000:0000:0000:0000:0001:FF00:0000**</span></span>

### <a name="global-addresses"></a><span data-ttu-id="0fb2f-956">Genel adresler</span><span class="sxs-lookup"><span data-stu-id="0fb2f-956">Global Addresses</span></span>    
<span data-ttu-id="0fb2f-957">Bir IPv6 genel adresine örnek **2001:0123:4567:89AB: CDEF:: 1** NETX Duo ıpv6 adreslerini NXD_ADDRESS yapısında depolar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-957">An example of an IPv6 global address is **2001:0123:4567:89AB:CDEF::1** NetX Duo stores IPv6 addresses in the NXD_ADDRESS structure.</span></span> <span data-ttu-id="0fb2f-958">Aşağıdaki örnekte, **global_ipv6_address** NXD_ADDRESS değişkeni bir tek noktaya yayın IPv6 adresi içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-958">In the example below, the NXD_ADDRESS variable **global_ipv6_address** contains a unicast IPv6 address.</span></span> <span data-ttu-id="0fb2f-959">Aşağıdaki örnek, birincil aygıtı için belirli bir IPv6 genel adresi oluşturan NetX Duo cihazını göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-959">The following example demonstrates a NetX Duo device creating a specific IPv6 global address for its primary device:</span></span>

```c
NXD_ADDRESS global_ipv6_address;
UINT        primary_interface_index = 0;

global_ipv6_address.nxd_ip_version = NX_IP_VERSION_V6;
global_ipv6_address.nxd_ip_address.v6[0] = 0x20010123;
global_ipv6_address.nxd_ip_address.v6[1] = 0x456789AB;
global_ipv6_address.nxd_ip_address.v6[2] = 0xCDEF0000;
global_ipv6_address.nxd_ip_address.v6[3] = 0x00000001;

status = nxd_ipv6_address_set(
            &ip_0,
            primary_interface_index,
            &global_ipv6_address,
            64,
            NX_NULL);
```
<span data-ttu-id="0fb2f-960">Bu IPv6 adresinin ön ekinin **2001:0123:4567:89AB** olduğunu ve bu 64 bit uzunluğunda olduğunu ve Ethernet üzerinde genel tek noktaya yayın IPv6 adresleri için ortak bir ön ek uzunluğu olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-960">Note that the prefix of this IPv6 address is **2001:0123:4567:89AB**, which is 64 bits long and is a common prefix length for global unicast IPv6 addresses on Ethernet.</span></span>

<span data-ttu-id="0fb2f-961">NXD_ADDRESS yapısı da IPv4 adreslerini barındırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-961">The NXD_ADDRESS structure also holds IPv4 addresses.</span></span> <span data-ttu-id="0fb2f-962">Global_ipv4_address depolanan **192.1.168.10** (**0xc001a80a**) IP adresi aşağıdaki bellek düzenine sahip olacaktır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-962">An IP address of **192.1.168.10** (**0xC001A80A**) stored in global_ipv4_address would have the following memory layout:</span></span>

|<span data-ttu-id="0fb2f-963">Alan</span><span class="sxs-lookup"><span data-stu-id="0fb2f-963">Field</span></span> |<span data-ttu-id="0fb2f-964">Değer</span><span class="sxs-lookup"><span data-stu-id="0fb2f-964">Value</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-965">global_ipv4_address global_ipv4_address.nxd_ip_version</span><span class="sxs-lookup"><span data-stu-id="0fb2f-965">global_ipv4_address.nxd_ip_version</span></span> |<span data-ttu-id="0fb2f-966">NX_IP_VERSION_V4</span><span class="sxs-lookup"><span data-stu-id="0fb2f-966">NX_IP_VERSION_V4</span></span>|
|<span data-ttu-id="0fb2f-967">global_ipv4_address global_ipv4_address.nxd_ip_address. v4</span><span class="sxs-lookup"><span data-stu-id="0fb2f-967">global_ipv4_address.nxd_ip_address.v4</span></span> |<span data-ttu-id="0fb2f-968">0xC001A80A</span><span class="sxs-lookup"><span data-stu-id="0fb2f-968">0xC001A80A</span></span>|

<span data-ttu-id="0fb2f-969">Bir uygulama NetX Duo hizmetlerine bir adres geçirdiğinde, *nxd_ip_version* alanı uygun paket işleme IÇIN doğru IP sürümünü belirtmelidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-969">When an application passes an address to NetX Duo services, the *nxd_ip_version* field must specify the correct IP version for proper packet handling.</span></span>

<span data-ttu-id="0fb2f-970">NetX Duo, mevcut NetX uygulamalarıyla geriye dönük olarak uyumlu olması için tüm NetX hizmetlerini destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-970">To be backward compatible with existing NetX applications, NetX Duo supports all NetX services.</span></span> <span data-ttu-id="0fb2f-971">NetX Duo, bir NXD_ADDRESS IPv4 adresi türünü gerçek NetX Duo hizmetine iletmeden önce bir veri türüne dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-971">Internally, NetX Duo converts the IPv4 address type ULONG to an NXD_ADDRESS data type before forwarding it to the actual NetX Duo service.</span></span>

<span data-ttu-id="0fb2f-972">Aşağıdaki örnekte NetX ve NetX Duo Hizmetleri arasındaki benzerlik ve farklar gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-972">The following example illustrates the similarity and the differences between services in NetX and NetX Duo.</span></span>

```c
/* Make a connection to the destination IPv4 address
   192.1.168.12 through an already created TCP socket bound
   to the well known HTTP port number 80. */

global_ipv4_address.nxd_ip_version = NX_IP_VERSION_V4;
global_ipv4_address.nxd_ip_address.v4 = 0xC001A80C;

nxd_tcp_client_socket_connect(&tcp_socket,
                              &global_ipv4_address,
                              port_number,
                              NX_WAIT_FOREVER);
```

<span data-ttu-id="0fb2f-973">Eşdeğer NetX API 'SI aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-973">The following is the equivalent NetX API:</span></span>

```c
ULONG         server_ip = 0xC001A80C;
NX_TCP_SOCKET tcp_socket;
UINT          port_number = 80;

nx_tcp_client_socket_connect(&tcp_socket,
                             server_ip,
                             port_number,
                             NX_WAIT_FOREVER); 
```

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-974">*Uygulama geliştiricilerinin bu API 'lerin NXD sürümünü kullanması önerilir*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-974">*Application developers are encouraged to use the nxd version of these APIs*.</span></span>

### <a name="ipv6-default-routers"></a><span data-ttu-id="0fb2f-975">IPv6 varsayılan yönlendiricileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-975">IPv6 Default Routers</span></span>    
<span data-ttu-id="0fb2f-976">IPv6, paketleri kapalı bağlantı hedeflerine iletmek için varsayılan bir yönlendirici kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-976">IPv6 uses a default router to forward packets to offlink destinations.</span></span> <span data-ttu-id="0fb2f-977">NetX Duo hizmeti ***nxd_ipv6_default_router_add***, bir uygulamanın varsayılan yönlendirici tablosuna bir IPv6 yönlendirici eklemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-977">The NetX Duo service ***nxd_ipv6_default_router_add*** enables an application to add an IPv6 router to the default router table.</span></span> <span data-ttu-id="0fb2f-978">NetX Duo tarafından sunulan daha fazla varsayılan yönlendirici hizmeti için Bölüm 4 "hizmetlerin açıklaması" bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-978">See Chapter 4 "Description of Services" for more default router services offered by NetX Duo.</span></span>  

<span data-ttu-id="0fb2f-979">IPv6 paketlerini iletirken, NetX Duo ilk olarak paket hedefinin bağlantı olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-979">When forwarding IPv6 packets, NetX Duo first checks if the packet destination is on-link.</span></span> <span data-ttu-id="0fb2f-980">Aksi takdirde NetX Duo, bağlantı dışı paketi iletmek için geçerli bir yönlendirici için varsayılan yönlendirme tablosunu denetler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-980">If not, NetX Duo checks the default routing table for a valid router to forward the off-link packet to.</span></span>  

<span data-ttu-id="0fb2f-981">Bir yönlendiriciyi IPv6 varsayılan yönlendirici tablosundan kaldırmak için, uygulama \***nxd_ipv6_default_router_delete** _ hizmetini kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-981">To remove a router from the IPv6 default router table, application shall use the service \***nxd_ipv6_default_router_delete** _.</span></span> <span data-ttu-id="0fb2f-982">IPv6 varsayılan yönlendirici tablosunun girişlerini almak için, _ *_nxd_ipv6_default_router_entry_get_* \* hizmetini kullanın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-982">To obtain entries of the IPv6 default router table, use the service _\*_nxd_ipv6_default_router_entry_get_\*\*.</span></span>

### <a name="ipv6-header"></a><span data-ttu-id="0fb2f-983">IPv6 üstbilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-983">IPv6 Header</span></span>    
<span data-ttu-id="0fb2f-984">IPv6 üst bilgisi, IPv4 başlığından değiştirildi.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-984">The IPv6 header has been modified from the IPv4 header.</span></span> <span data-ttu-id="0fb2f-985">Bir paket ayrılırken, çağıran uygulama protokolünü (örn. UDP, TCP), bayt cinsinden arabellek boyutunu ve atlama sınırını belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-985">When allocating a packet, the caller specifies the application protocol (e.g., UDP, TCP), buffer size in bytes, and hop limit.</span></span>   

<span data-ttu-id="0fb2f-986">Şekil 9 ' da, IPv6 üstbilgisinin biçimi gösterilir ve tablo, üst bilgi bileşenlerini listeler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-986">Figure 9 shows the format of the IPv6 header and the table lists the header components.</span></span>

![IPv6 üst bilgi biçiminin diyagramı.](./media/user-guide/image18.png)

<span data-ttu-id="0fb2f-988">**ŞEKIL 9. IPv6 üst bilgi biçimi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-988">**FIGURE 9. IPv6 Header Format**</span></span>

|<span data-ttu-id="0fb2f-989">IP üstbilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-989">IP header</span></span> | <span data-ttu-id="0fb2f-990">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-990">Purpose</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-991">Sürüm</span><span class="sxs-lookup"><span data-stu-id="0fb2f-991">Version</span></span> |<span data-ttu-id="0fb2f-992">IP sürümü için 4 bit alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-992">4-bit field for IP version.</span></span> <span data-ttu-id="0fb2f-993">IPv6 ağlarında, bu alandaki değer 6 olmalıdır; IPv4 ağları için 4 olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-993">For IPv6 networks, the value in this field must be 6; For IPv4 networks it must be 4.</span></span>|
|<span data-ttu-id="0fb2f-994">Trafik Sınıfı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-994">Traffic Class</span></span> |<span data-ttu-id="0fb2f-995">trafik sınıfı bilgilerini depolayan 8 bit alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-995">8-bit field that stores the traffic class information.</span></span> <span data-ttu-id="0fb2f-996">Bu alan NetX Duo tarafından kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-996">This field is not used by NetX Duo.</span></span>|
|<span data-ttu-id="0fb2f-997">Akış etiketi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-997">Flow Label</span></span> |<span data-ttu-id="0fb2f-998">bir paketin ilişkilendirildiği akışı benzersiz bir şekilde tanımlamak için 20 bit alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-998">20-bit field to uniquely identify the flow, if any, that a packet is associated with.</span></span> <span data-ttu-id="0fb2f-999">Sıfır değeri, paketin belirli bir akışa ait olmadığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-999">A value of zero indicates the packet does not belong to a particular flow.</span></span> <span data-ttu-id="0fb2f-1000">Bu alan, IPv4 içindeki *TOS* alanının yerini alır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1000">This field replaces the *TOS* field in IPv4.</span></span>|
|<span data-ttu-id="0fb2f-1001">Yük uzunluğu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1001">Payload Length</span></span> |<span data-ttu-id="0fb2f-1002">IPv6 temel üst bilgisini izleyen IPv6 paketinin baytdaki veri miktarını belirten 16 bit alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1002">16-bit field indicating the amount of data in bytes of the IPv6 packet following the IPv6 base header.</span></span> <span data-ttu-id="0fb2f-1003">Bu, tüm kapsüllenmiş protokol üstbilgilerini ve verileri içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1003">This includes all encapsulated protocol header and data.</span></span>|
|<span data-ttu-id="0fb2f-1004">Sonraki üst bilgi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1004">Next Header</span></span> | <span data-ttu-id="0fb2f-1005">IPv6 temel üst bilgisini izleyen uzantı üstbilgisinin türünü gösteren 8 bit alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1005">8-bit field indicating the type of the extension header that follows the IPv6 base header.</span></span> <span data-ttu-id="0fb2f-1006">Bu alan, IPv4 içindeki *protokol* alanını değiştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1006">This field replaces the *Protocol* field in IPv4.</span></span>|
|<span data-ttu-id="0fb2f-1007">Atlama sınırı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1007">Hop Limit</span></span> |<span data-ttu-id="0fb2f-1008">paketin geçmesine izin verilen yönlendirici sayısını sınırlayan 8 bitlik alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1008">8-bit field that limits the number of routers the packet is allowed to go through.</span></span> <span data-ttu-id="0fb2f-1009">Bu alan IPv4 içindeki *TTL* alanını değiştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1009">This field replaces the *TTL* field in IPv4.</span></span>|
|<span data-ttu-id="0fb2f-1010">Kaynak adres</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1010">Source Address</span></span> |<span data-ttu-id="0fb2f-1011">Gönderenin IPv6 adresini depolayan 128 bitlik alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1011">128-bit field that stores the IPv6 address of the sender.</span></span>|
|<span data-ttu-id="0fb2f-1012">Hedef adres</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1012">Destination Address</span></span> |<span data-ttu-id="0fb2f-1013">Hedefin IPv6 adresini hedefleyen 128 bitlik alan.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1013">128-bit field that sores the IPv6 address of the destination.</span></span>|

### <a name="enabling-ipv6-in-netx-duo"></a><span data-ttu-id="0fb2f-1014">NetX Duo 'da IPv6 'Yı etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1014">Enabling IPv6 in NetX Duo</span></span>    
<span data-ttu-id="0fb2f-1015">Varsayılan olarak IPv6, NetX Duo içinde etkindir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1015">By default IPv6 is enabled in NetX Duo.</span></span> <span data-ttu-id="0fb2f-1016">_Nx_user. h \* içindeki yapılandırılabilir "**NX_DISABLE_IPV6** _ seçeneği tanımlı değilse, NETX Duo 'da IPv6 Hizmetleri etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1016">IPv6 services are enabled in NetX Duo if the configurable option ***NX_DISABLE_IPV6** _ in _nx_user.h* is not defined.</span></span> <span data-ttu-id="0fb2f-1017">***NX_DISABLE_IPV6*** tanımlanmışsa NETX Duo yalnızca IPv4 hizmetleri sunar ve IPv6 ile ilgili tüm modüller ve hizmetler NETX Duo kitaplığında yerleşik değildir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1017">If ***NX_DISABLE_IPV6*** is defined, NetX Duo will only offer IPv4 services, and all the IPv6-related modules and services are not built into NetX Duo library.</span></span>

<span data-ttu-id="0fb2f-1018">Aşağıdaki hizmet uygulamaların cihaz IPv6 adresini yapılandırması için verilmiştir: ***nxd_ipv6_address_set***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1018">The following service is provided for applications to configure the device IPv6 address: ***nxd_ipv6_address_set***</span></span>

<span data-ttu-id="0fb2f-1019">Cihazın IPv6 adreslerini el ile ayarlamaya ek olarak, sistem durum bilgisi Içermeyen adres otomatik yapılandırması da kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1019">In addition to manually setting the device's IPv6 addresses, the system may also use Stateless Address Autoconfiguration.</span></span> <span data-ttu-id="0fb2f-1020">Bu seçeneği kullanmak için, uygulamanın, cihazda IPv6 hizmetlerini başlatması için \***nxd_ipv6_enable** _ çağrısı gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1020">To use this option, the application must call \***nxd_ipv6_enable** _ to start IPv6 services on the device.</span></span> <span data-ttu-id="0fb2f-1021">Ayrıca, NetX Duo 'un yönlendirici bağlantısı, komşu bulma ve yinelenen adres algılama gibi hizmetleri gerçekleştirmesini sağlayan _*_nxd_icmp_enable_*_ çağırarak ICMPv6 Hizmetleri başlatılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1021">In addition, ICMPv6 services must be started by calling _*_nxd_icmp_enable_*_, which enables NetX Duo to perform services such as Router Solicitation, Neighbor Discovery, and Duplicate Address Detection.</span></span> <span data-ttu-id="0fb2f-1022">_*_Nx_icmp_enable_*_ yalnızca IPv4 HIZMETLERI için ICMP başlayacağını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1022">Note that _*_nx_icmp_enable_*_ only starts ICMP for IPv4 services.</span></span> <span data-ttu-id="0fb2f-1023">_*_nxd_icmp_enable_*_ hem IPv4 hem de ıPV6 için ICMP hizmetlerini başlatır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1023">_*_nxd_icmp_enable_*_ starts ICMP services for both IPv4 and IPv6.</span></span> <span data-ttu-id="0fb2f-1024">Sistemde ICMPv6 Hizmetleri gerekmiyorsa _ \*_nx_icmp_enable_\*\*, ICMPv6 modülünün sisteme bağlı olmaması için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1024">If the system does not need ICMPv6 services, then _ *_nx_icmp_enable_*\* can be used so the ICMPv6 module is not linked into the system.</span></span>

<span data-ttu-id="0fb2f-1025">Aşağıdaki örnek, tipik bir NetX Duo IPv6 başlatma yordamını göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1025">The following example shows a typical NetX Duo IPv6 initialization procedure.</span></span>

```c
/* Assume ip_0 has been created and IPv4 services (such as ARP,
   ICMP, have been enabled. */
#define SECONDARY_INTERFACE 1

/* Enable IPv6 */
status = nxd_ipv6_enable(&ip_0);

if(status != NX_SUCCESS)
{
    /* nxd_ipv6_enable failed. */
}

/* Enable ICMPv6 */
status = nxd_icmp_enable(&ip_0);
if(status != NX_SUCCESS)
{
    /* nxd_icmp_enable failed. */
}

/* Configure the link local address on the primary interface. */
status = nxd_ipv6_address_set(&ip_0, 0, NX_NULL, 10, NX_NULL);

/* Configure ip_0 primary interface global address. */
ip_address.nxd_ip_version = NX_IP_VERSION_V6
ip_address.nxd_ip_address.v6[0] = 0x20010db8;
ip_address.nxd_ip_address.v6[1] = 0x0000f101;
ip_address.nxd_ip_address.v6[2] = 0;
ip_address.nxd_ip_address.v6[3] = 0x202;

/* Configure global address of the primary interface. */
status = nxd_ipv6_address_set(&ip_0, SECONDARY_INTERFACE,
                              &ip_address, 64, NX_NULL);
```                              

<span data-ttu-id="0fb2f-1026">Üst katman protokolleri (TCP ve UDP gibi), IPv6 başlatılmadan önce veya sonra etkinleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1026">Upper layer protocols (such as TCP and UDP) can be enabled either before or after IPv6 starts.</span></span>

> [!IMPORTANT]  
> <span data-ttu-id="0fb2f-1027">*IPv6 Hizmetleri yalnızca IP iş parçacığı başlatıldıktan ve cihaz etkinleştirildikten sonra kullanılabilir.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1027">*IPv6 services are available only after IP thread is initialized and the device is enabled.*</span></span>

<span data-ttu-id="0fb2f-1028">Arabirim etkinleştirildikten sonra (yani, arabirim cihaz sürücüsü veri göndermeye ve almaya hazırsa ve geçerli bir bağlantı yerel adresi edinildikten sonra), cihaz genel IPv6 adreslerini şu yöntemlerden biriyle alabilir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1028">After the interface is enabled (i.e.,the interface device driver is ready to send and receive data, and a valid link local address has been obtained), the device may obtain global IPv6 addresses by one of the these methods:</span></span>

- <span data-ttu-id="0fb2f-1029">Durum bilgisiz adres otomatik yapılandırması;</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1029">Stateless Address Auto Configuration;</span></span>  
- <span data-ttu-id="0fb2f-1030">El ile IPv6 adresi yapılandırması;</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1030">Manual IPv6 address configuration;</span></span>  
- <span data-ttu-id="0fb2f-1031">DHCPv6 aracılığıyla adres yapılandırması (isteğe bağlı DHCPv6 paketiyle)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1031">Address configuration via DHCPv6 (with optional DHCPv6 package)</span></span>

<span data-ttu-id="0fb2f-1032">İlk iki yöntem aşağıda açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1032">The first two methods are described below.</span></span> <span data-ttu-id="0fb2f-1033">3. Yöntem (DHCPv6), DHCP paketinde açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1033">The 3rd method (DHCPv6) is described in the DHCP package.</span></span>

### <a name="stateless-address-autoconfiguration-using-router-solicitation"></a><span data-ttu-id="0fb2f-1034">Yönlendirici bağlantısı kullanılarak durum bilgisiz adres otomatik yapılandırması</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1034">Stateless Address Autoconfiguration Using Router Solicitation</span></span>      
<span data-ttu-id="0fb2f-1035">NetX Duo cihazları, ön ek bilgileri sağlayan bir yönlendiriciyle IPv6 ağına bağlanıldığında arabirimlerini otomatik olarak yapılandırabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1035">NetX Duo devices can configure their interfaces automatically when connected to an IPv6 network with a router that supplies prefix information.</span></span> <span data-ttu-id="0fb2f-1036">Durum bilgisi olmayan adres otomatik yapılandırması gerektiren cihazlar Yönlendirici isteme (RS) iletileri gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1036">Devices that require Stateless Address Autoconfiguration send out router solicitation (RS) messages.</span></span> <span data-ttu-id="0fb2f-1037">Ağdaki yönlendiriciler, istenen yönlendirici tanıtımı (RA) iletileriyle yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1037">Routers on the network respond with solicited router advertisement (RA) messages.</span></span> <span data-ttu-id="0fb2f-1038">RA iletileri bir bağlantıyla ilişkili ağ adreslerini tanımlayan önekleri tanıtır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1038">RA messages advertise prefixes that identify the network addresses associated with a link.</span></span> <span data-ttu-id="0fb2f-1039">Cihazlar daha sonra cihazın eklendiği ağ için benzersiz bir tanımlayıcı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1039">Devices then generate a unique identifier for the network the device is attached to.</span></span> <span data-ttu-id="0fb2f-1040">Adres, öneki ve benzersiz tanımlayıcısını birleştirerek oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1040">The address is formed by combining the prefix and its unique identifier.</span></span> <span data-ttu-id="0fb2f-1041">RA iletilerinin alınması bu şekilde ana bilgisayarlar kendi IP adreslerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1041">In this manner on receiving the RA messages, hosts generate their IP address.</span></span> <span data-ttu-id="0fb2f-1042">Yönlendiriciler, düzenli olarak istenmeyen RA iletileri de gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1042">Routers may also send periodic unsolicited RA messages.</span></span> 

> [!WARNING]
> <span data-ttu-id="0fb2f-1043">*NETX Duo, bir uygulamanın çalışma zamanında durum bilgisiz adres otomatik yapılandırmasını etkinleştirmesine veya devre dışı bırakmasına izin verir Bu özelliği etkinleştirmek için NetX Duo kitaplığı tanımlı **NX_IPV6_STATELESS_AUTOCONFIG_CONTROL** ile derlenmelidir. Bu özellik etkinleştirildikten sonra, uygulamalar, IPv6 durum bilgisiz adresi otomatik yapılandırması 'nı etkinleştirmek veya devre dışı bırakmak için **nxd_ipv6_stateless_address_autoconfigure_enable** ve **nxd_ipv6_stateless_address_autocofigure_disable** kullanabilir*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1043">*NetX Duo allows an application to enable or disable Stateless Address Autoconfiguration at run time. To enable this feature, NetX Duo library must be compiled with **NX_IPV6_STATELESS_AUTOCONFIG_CONTROL** defined. Once this feature is enabled, applications may use **nxd_ipv6_stateless_address_autoconfigure_enable** and **nxd_ipv6_stateless_address_autocofigure_disable** to enable or disable IPv6 stateless address autoconfiguration*.</span></span>

### <a name="manual-ipv6-address-configuration"></a><span data-ttu-id="0fb2f-1044">El ile IPv6 adres yapılandırması</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1044">Manual IPv6 Address Configuration</span></span>     
<span data-ttu-id="0fb2f-1045">Belirli bir IPv6 adresi gerekliyse, uygulama bir IPv6 adresini el ile yapılandırmak için ***nxd_ipv6_address_set*** kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1045">If a specific IPv6 address is needed, the application may use ***nxd_ipv6_address_set*** to manually configure an IPv6 address.</span></span> <span data-ttu-id="0fb2f-1046">Ağ arabirimi birden çok IPv6 adresine sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1046">A network interface may have multiple IPv6 addresses.</span></span> <span data-ttu-id="0fb2f-1047">Ancak, bir sistemdeki toplam IPv6 adresi sayısının durum bilgisiz adres otomatik yapılandırması aracılığıyla elde edilen veya el Ile yapılandırma aracılığıyla ***NX_MAX_IPV6_ADDRESSES*** aşılamadığını aklınızda bulundurun.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1047">However keep in mind that the total number of IPv6 addresses in a system, either obtained through Stateless Address Autoconfiguration, or through the Manual Configuration, cannot exceed ***NX_MAX_IPV6_ADDRESSES***.</span></span>

<span data-ttu-id="0fb2f-1048">Aşağıdaki örnek, ip_0 içinde birincil arabirimde (cihaz 0) genel bir adresin el ile nasıl yapılandırılacağını göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1048">The following example illustrates how to manually configure a global address on the primary interface (device 0) in ip_0:</span></span>

```c
NXD_ADDRESS global_address;
global_address.nxd_ip_version = NX_IP_VERSION_V6;
global_address.nxd_ip_address.v6[0] = 0x20010000;
global_address.nxd_ip_address.v6[1] = 0x00000000;
global_address.nxd_ip_address.v6[2] = 0x00000000;
global_address.nxd_ip_address.v6[3] = 0x0000ABCD;
```

<span data-ttu-id="0fb2f-1049">Daha sonra ana bilgisayar, bu adresi genel IP adresi olarak atamak için aşağıdaki NetX Duo hizmetini çağırır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1049">The host then calls the following NetX Duo service to assign this address as its global IP address:</span></span>

```c
status = nxd_ipv6_address_set(&ip_0, 0,  
                              &global_address, 64
                              NX_NULL);
```

### <a name="duplicate-address-detection-dad"></a><span data-ttu-id="0fb2f-1050">Yinelenen adres algılama (BABACıĞıM)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1050">Duplicate Address Detection (DAD)</span></span>    
<span data-ttu-id="0fb2f-1051">Bir sistem, IPv6 adresini yapılandırdıktan sonra, adres *belirsiz* olarak işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1051">After a system configures its IPv6 address, the address is marked as *TENTATIVE*.</span></span> <span data-ttu-id="0fb2f-1052">RFC 4862 ' de açıklanan yinelenen adres algılama (BABACıĞıM) etkinleştirilirse, NetX Duo, bu belirsiz adresle hedef olarak komşu bağlantısı (NS) iletilerini otomatik olarak gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1052">If Duplicate Address Detection (DAD), described in RFC 4862, is enabled, NetX Duo automatically sends neighbor solicitation (NS) messages with this tentative address as the destination.</span></span> <span data-ttu-id="0fb2f-1053">Ağ üzerinde hiçbir ana bilgisayar belirli bir süre içinde bu NS iletilerine yanıt vermezse, adresin yerel bağlantı üzerinde benzersiz olduğu varsayılır ve durumu GEÇERLI duruma ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1053">If no hosts on the network respond to these NS messages within a given period of time, the address is assumed to be unique on the local link, and its state transits to the VALID state.</span></span> <span data-ttu-id="0fb2f-1054">Bu noktada, uygulamanın bu IP adresini iletişim için kullanmaya başlayabiliriz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1054">At this point the application may start using this IP address for communication.</span></span>  

<span data-ttu-id="0fb2f-1055">Baba işlevselliği, ICMPv6 modülünün bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1055">The DAD functionality is part of the ICMPv6 module.</span></span> <span data-ttu-id="0fb2f-1056">Bu nedenle, yeni yapılandırılmış bir adresin BABACıĞıM işlem üzerinden gidebilmesi için uygulamanın ICMPv6 hizmetlerini etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1056">Therefore, the application must enable ICMPv6 services before a newly configured address can go through the DAD process.</span></span> <span data-ttu-id="0fb2f-1057">Alternatif olarak, baba işlemi NetX Duo kitaplık derleme ortamında ***NX_DISABLE_IPV6_DAD** _ seçeneği tanımlanarak kapatılmış olabilir ( _*_nx_user. h_\*_ olarak tanımlanır).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1057">Alternatively, the DAD process may be turned off by defining ***NX_DISABLE_IPV6_DAD** _ option in the NetX Duo library build environment (defined as _*_nx_user.h_\*_).</span></span> <span data-ttu-id="0fb2f-1058">BABACıĞıM işlemi sırasında, _*_NX_IPV6_DAD_TRANSMITS_*_ parametresi NETX Duo tarafından gönderilen NS iletilerinin sayısını, adresin benzersiz olduğunu belirleyen bir yanıt almadan belirler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1058">During the DAD process, the _*_NX_IPV6_DAD_TRANSMITS_*_ parameter determines the number of NS messages sent by NetX Duo without receiving a response to determine that the address is unique.</span></span> <span data-ttu-id="0fb2f-1059">Varsayılan olarak, RFC 4862, _ *_NX_IPV6_DAD_TRANSMITS_*\* 3 ' te ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1059">By default and recommended by RFC 4862, _ *_NX_IPV6_DAD_TRANSMITS_*\* is set at 3.</span></span> <span data-ttu-id="0fb2f-1060">Bu sembolün sıfıra ayarlanması, BABACıĞıM 'ı devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1060">Setting this symbol to zero effectively disables DAD.</span></span>

<span data-ttu-id="0fb2f-1061">Uygulama bir IPv6 adresi atarken ICMPv6 veya BABACıĞıM etkinleştirilmemişse, BABACıĞıM gerçekleştirilmez ve NetX Duo, IPv6 adresinin durumunu hemen GEÇERLI olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1061">If ICMPv6 or DAD is not enabled at the time the application assigns an IPv6 address, DAD is not performed and NetX Duo sets the state of the IPv6 address to VALID immediately.</span></span>

<span data-ttu-id="0fb2f-1062">NetX Duo, bağlantısı yerel ve/veya genel adresi geçerli olana kadar IPv6 ağı üzerinde iletişim kuramıyor.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1062">NetX Duo cannot communicate on the IPv6 network until its link local and/or global address is valid.</span></span> <span data-ttu-id="0fb2f-1063">Geçerli bir adres alındıktan sonra NetX Duo, yapılandırılmış IPv6 adresinden veya etkin bir çok noktaya yayın adresinden birine karşı gelen bir paketin hedef adresini eşleştirmeye çalışır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1063">After a valid address is obtained, NetX Duo attempts to match the destination address of an incoming packet against one of its configured IPv6 address or an enabled multicast address.</span></span> <span data-ttu-id="0fb2f-1064">Eşleşme bulunmazsa paket bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1064">If no matches are found, the packet is dropped.</span></span> 

> [!WARNING]  
> <span data-ttu-id="0fb2f-1065">\* BABACıĞıM işlemi sırasında, aktarılacak baba paketleri sayısı \***NX_IPV6_DAD_TRANSMITS** tarafından tanımlanmıştır _, varsayılan olarak 3 ' e ayarlanır ve varsayılan olarak her bir baba iletisi gönderilirken ikinci bir gecikme vardır. Bu nedenle, BABACıĞıM özellikli bir sistemde, bir IPv6 adresi atandıktan sonra (ve bunun yinelenen bir adres olmadığı varsayılarak), IP adresi GEÇERLI bir durumda ve iletişim için hazır olmak üzere yaklaşık 3 saniyelik gecikme vardır._</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1065">\*During the DAD process, the number of DAD NS packets to be transmitted is defined by \***NX_IPV6_DAD_TRANSMITS**_, which defaults to 3, and by default there is a one second delay between each DAD NS message is sent. Therefore, in a system with DAD enabled, after an IPv6 address is assigned (and assuming this is not a duplicated address), there is approximately 3 seconds delay before the IP address is in a VALID state and is ready for communication._</span></span>

<span data-ttu-id="0fb2f-1066">Uygulamalar, sistemdeki IPv6 adresleri değiştirildiğinde bildirim almak isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1066">Applications may want to receive notifications when IPv6 addresses in the system are changed.</span></span> <span data-ttu-id="0fb2f-1067">IPv6 adres değişikliği bildirim özelliğini etkinleştirmek için, NetX Duo kitaplığı tanımlı **NX_ENABLE_IPV6_ADDRESS_CHANGE_NOTIFY** sembol ile oluşturulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1067">To enable the IPv6 address change notification feature, the NetX Duo library must be built with the symbol **NX_ENABLE_IPV6_ADDRESS_CHANGE_NOTIFY** defined.</span></span> <span data-ttu-id="0fb2f-1068">Özellik etkinleştirildikten sonra, uygulamalar **_nxd_ipv6_address_change_notify_** hizmetini kullanarak geri çağırma işlevini yükleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1068">Once the feature is enabled, applications may install the callback function by using the **_nxd_ipv6_address_change_notify_** service.</span></span>

<span data-ttu-id="0fb2f-1069">Bir IPv6 adresi değiştirildikten veya geçersiz olduktan sonra, Kullanıcı tarafından sağlanan geri çağırma işlevi aşağıdaki bilgilerle çağrılır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1069">Once an IPv6 address is changed, or becomes invalid, the user-supplied callback function is invoked with the following information:</span></span>

| <span data-ttu-id="0fb2f-1070">İşlev</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1070">Function</span></span>  | <span data-ttu-id="0fb2f-1071">Açıklama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1071">Description</span></span>  |
|---|---|
|<span data-ttu-id="0fb2f-1072">ip_ptr</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1072">ip_ptr</span></span> |<span data-ttu-id="0fb2f-1073">IP örneğine yönelik işaretçi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1073">Pointer to the IP instance</span></span>|
|<span data-ttu-id="0fb2f-1074">interface_index</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1074">interface_index</span></span> |<span data-ttu-id="0fb2f-1075">Bu IPv6 adresinin ilişkilendirildiği ağ arabiriminin dizini</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1075">Index to the network interface that this IPv6 address is associated with</span></span>
|<span data-ttu-id="0fb2f-1076">ipv6_addr_index</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1076">ipv6_addr_index</span></span> |<span data-ttu-id="0fb2f-1077">IPv6 adresi tablosunun dizini</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1077">Index to the IPv6 address table</span></span>|
|<span data-ttu-id="0fb2f-1078">ipv6_address</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1078">ipv6_address</span></span> |<span data-ttu-id="0fb2f-1079">Dört ULONG tamsayının dizisi biçiminde IPv6 adresine yönelik işaretçi.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1079">Pointer to the IPv6 address, in the form of an array of four ULONG integers.</span></span> <span data-ttu-id="0fb2f-1080">Pv6 adresleri, ana bilgisayar bayt düzeninde sunulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1080">Pv6 addresses are presented in host byte order.</span></span>|

### <a name="ipv6-multicast-support-in-netx-duo"></a><span data-ttu-id="0fb2f-1081">NetX Duo 'Da IPv6 çok noktaya yayın desteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1081">IPv6 Multicast Support In NetX Duo</span></span>      
<span data-ttu-id="0fb2f-1082">Çok noktaya yayın adresleri Internet 'teki bir dinamik konaklar grubunu belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1082">Multicast addresses specify a dynamic group of hosts on the Internet.</span></span> <span data-ttu-id="0fb2f-1083">Çok noktaya yayın grubunun üyeleri her istediklerinde katılabilir ve bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1083">Members of the multicast group may join and leave whenever they wish.</span></span> <span data-ttu-id="0fb2f-1084">NetX Duo, yinelenen adres algılama, komşu bulma ve IP çok noktaya yayın yeteneği gerektiren yönlendirici bulma dahil olmak üzere çeşitli ICMPv6 protokolleri uygular.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1084">NetX Duo implements several ICMPv6 protocols, including Duplicate Address Detection, Neighbor Discovery, and Router Discovery, which require IP multicast capability.</span></span> <span data-ttu-id="0fb2f-1085">Bu nedenle NetX Duo, temel alınan aygıt sürücüsünün çok noktaya yayın işlemlerini desteklemesini bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1085">Therefore, NetX Duo expects the underlying device driver to support multicast operations.</span></span>

<span data-ttu-id="0fb2f-1086">NetX Duo bir çok noktaya yayın grubuna (örneğin, tüm düğüm çok noktaya yayın adresi ve *istek-düğüm* çok noktaya yayın adresi) katılması veya ayrılması gerektiğinde, bir çok noktaya yayın MAC adresine katılması veya bu adresi bırakmak için aygıt sürücüsüne bir sürücü komutu yayınlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1086">When NetX Duo needs to join or leave a multicast group (such as the all-node multicast address, and the *solicited-node* multicast address), it issues a driver command to the device driver to join or leave a multicast MAC address.</span></span> <span data-ttu-id="0fb2f-1087">Çok noktaya yayın adresine katılma için sürücü komutu \***NX_LINK_MULTICAST_JOIN** _.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1087">The driver command for joining the multicast address is \***NX_LINK_MULTICAST_JOIN** _.</span></span> <span data-ttu-id="0fb2f-1088">NetX Duo, çok noktaya yayın adresini bırakmak için _ *_NX_LINK_MULTICAST_LEAVE_* \* sürücü komutunu yayınlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1088">To leave a multicast address, NetX Duo issues the driver command _\*_NX_LINK_MULTICAST_LEAVE_\*\*.</span></span> <span data-ttu-id="0fb2f-1089">ICMPv6 protokollerinin düzgün çalışması için aygıt sürücüsünün bu iki komutu uygulaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1089">The device driver must implement these two commands for ICMPv6 protocols to work properly.</span></span>

<span data-ttu-id="0fb2f-1090">Uygulamalar, \*\*\*nxd_ipv6_multicast_interface_join \*\*\* hizmetini kullanarak bir IPv6 çok noktaya yayın grubuna katılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1090">Applications may join an IPv6 multicast group by using the service \***nxd_ipv6_multicast_interface_join\*.**</span></span> <span data-ttu-id="0fb2f-1091">Bu hizmet, çok noktaya yayın adresini IP yığınına kaydeder ve ardından IPv6 çok noktaya yayın adresinin belirtilen cihaz sürücüsüne bildirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1091">This service registers the multicast address with the IP stack, and then notifies the specified device driver of the IPv6 multicast address.</span></span> <span data-ttu-id="0fb2f-1092">Bir çok noktaya yayın grubunu bırakmak için, uygulamalar hizmeti ***nxd_ipv6_multicast_interface_leave kullanır.***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1092">To leave a multicast group, applications use the service ***nxd_ipv6_multicast_interface_leave.***</span></span>

### <a name="neighbor-discovery-nd"></a><span data-ttu-id="0fb2f-1093">Komşu Bulma (ND)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1093">Neighbor Discovery (ND)</span></span>    
<span data-ttu-id="0fb2f-1094">Komşu bulma, IPv6 ağlarındaki fiziksel adresleri IPv6 adresleriyle (genel adres veya bağlantı-yerel adres) eşlemek için IPv6 ağlarında bir protokoldür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1094">Neighbor Discovery is a protocol in IPv6 networks for mapping physical addresses to the IPv6 addresses (global address or link-local address).</span></span> <span data-ttu-id="0fb2f-1095">Bu eşleme, komşu bulma önbelleğinde (ND Cache) tutulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1095">This mapping is maintained in the Neighbor Discovery Cache (ND Cache).</span></span> <span data-ttu-id="0fb2f-1096">ND işlemi, ARP işleminin IPv4 olarak eşdeğeridir ve ND önbelleği ARP tablosuna benzerdir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1096">The ND process is the equivalent of the ARP process in IPv4, and the ND Cache is similar to the ARP table.</span></span> <span data-ttu-id="0fb2f-1097">Bir IPv6 düğümü, komşu bulma (ND) protokolünü kullanarak komşunuzun MAC adresini elde edebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1097">An IPv6 node can obtain its neighbor's MAC address using the Neighbor Discovery (ND) protocol.</span></span> <span data-ttu-id="0fb2f-1098">Tüm düğüm talep düğümü çok noktaya yayın adresine bir komşu bağlantısı (NS) iletisi gönderir ve karşılık gelen bir komşu tanıtım tanıtımı (NA) iletisini bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1098">It sends out a neighbor solicitation (NS) message to the all-node solicited node multicast address, and waits for a corresponding neighbor advertisement (NA) message.</span></span> <span data-ttu-id="0fb2f-1099">Bu işlem aracılığıyla elde edilen MAC adresi ND önbelleğinde depolanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1099">The MAC address obtained through this process is stored in the ND Cache.</span></span>

<span data-ttu-id="0fb2f-1100">Her IP örneğinin bir ND önbelleği vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1100">Each IP instance has one ND cache.</span></span> <span data-ttu-id="0fb2f-1101">ND önbelleği, bir giriş dizisi olarak tutulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1101">The ND Cache is maintained as an array of entries.</span></span> <span data-ttu-id="0fb2f-1102">Dizinin boyutu, _ *_nx_user. h_* \* içinde \***NX_IPV6_NEIGHBOR_CACHE_SIZE** _ seçeneği ayarlanarak derleme zamanında tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1102">The size of the array is defined at compilation time by setting the option ***NX_IPV6_NEIGHBOR_CACHE_SIZE** _ which in _*_nx_user.h_\*\*.</span></span> <span data-ttu-id="0fb2f-1103">Bir IP örneğine bağlı olan tüm arabirimlerin aynı ND önbelleğini paylaştığından emin olmanız gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1103">Note that all interfaces attached to an IP instance share the same ND cache.</span></span>

<span data-ttu-id="0fb2f-1104">NetX Duo başlatıldığında ND önbelleğinin tamamı boştur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1104">The entire ND Cache is empty when NetX Duo starts up.</span></span> <span data-ttu-id="0fb2f-1105">Sistem çalışırken NetX Duo, her ND protokolüne göre giriş ekleme ve silme, ND önbelleğini otomatik olarak güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1105">As the system runs, NetX Duo automatically updates the ND Cache, adding and deleting entries as per ND protocol.</span></span> <span data-ttu-id="0fb2f-1106">Ancak, bir uygulama aşağıdaki NetX Duo hizmetlerini kullanarak önbellek girişlerini el ile ekleyerek ve silerek ND önbelleğini güncelleştirebilir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1106">However, an application may also update the ND Cache by manually adding and deleting cache entries using the following NetX Duo services:</span></span>

- <span data-ttu-id="0fb2f-1107">***nxd_nd_cache_entry_delete***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1107">***nxd_nd_cache_entry_delete***</span></span>  
- <span data-ttu-id="0fb2f-1108">***nxd_nd_cache_entry_set***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1108">***nxd_nd_cache_entry_set***</span></span>   
- <span data-ttu-id="0fb2f-1109">***nxd_nd_cache_invalidate***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1109">***nxd_nd_cache_invalidate***</span></span>

<span data-ttu-id="0fb2f-1110">IPv6 paketlerini gönderirken ve alırken, NetX Duo, ND Cache tablosunu otomatik olarak güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1110">When sending and receiving IPv6 packets, NetX Duo automatically updates the ND Cache table.</span></span>

## <a name="internet-control-message-protocol-in-ipv6-icmpv6"></a><span data-ttu-id="0fb2f-1111">IPv6 'da Internet Denetim Iletisi Protokolü (Icmpv6)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1111">Internet Control Message Protocol in IPv6 (ICMPv6)</span></span>  

<span data-ttu-id="0fb2f-1112">IPv6 'daki ICMPv6 'nın rolü, IPv6 adresi eşlemesini ve Yönlendirici bulmayı desteklemek için büyük ölçüde genişletilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1112">The role of ICMPv6 in IPv6 has been greatly expanded to support IPv6 address mapping and router discovery.</span></span> <span data-ttu-id="0fb2f-1113">Ayrıca NetX Duo ICMPv6, yankı isteği ve yanıtı, ICMPv6 hata raporlarını ve ICMPv6 yeniden yönlendirme iletilerini destekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1113">In addition, NetX Duo ICMPv6 supports echo request and response, ICMPv6 error reports, and ICMPv6 redirect messages.</span></span>

### <a name="icmpv6-enable"></a><span data-ttu-id="0fb2f-1114">ICMPv6 etkin</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1114">ICMPv6 Enable</span></span>    
<span data-ttu-id="0fb2f-1115">ICMPv6 iletilerinin NetX Duo tarafından işlenebilmesi için, uygulamanın daha önce açıklandığı gibi ICMPv6 işlemesini etkinleştirmek üzere ***nxd_icmp_enable*** hizmetini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1115">Before ICMPv6 messages can be processed by NetX Duo, the application must call the ***nxd_icmp_enable*** service to enable ICMPv6 processing as explained previously.</span></span> 

### <a name="icmpv6-messages"></a><span data-ttu-id="0fb2f-1116">ICMPv6 Iletileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1116">ICMPv6 Messages</span></span>     
<span data-ttu-id="0fb2f-1117">ICMPv6 üst bilgi yapısı, Icmpv4 üstbilgi yapısına benzer.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1117">The ICMPv6 header structure is similar to the ICMPv4 header structure.</span></span> <span data-ttu-id="0fb2f-1118">Aşağıda gösterildiği gibi, temel ICMPv6 üstbilgisi üç alanı, tür, kod ve sağlama toplamı ile ICMPv6 seçenek verilerinin değişken uzunluğunu içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1118">As shown below, the basic ICMPv6 header contains the three fields, type, code, and checksum, plus variable length of ICMPv6 option data.</span></span> 

![Temel bir ICMPv6 üstbilgisinin diyagramı.](./media/user-guide/image19.png)

<span data-ttu-id="0fb2f-1120">**ŞEKIL 10. Temel ICMPv6 üstbilgisi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1120">**FIGURE 10. Basic ICMPv6 Header**</span></span>

|<span data-ttu-id="0fb2f-1121">Alan</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1121">Field</span></span> |<span data-ttu-id="0fb2f-1122">Boyut (bayt)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1122">Size(bytes)</span></span> |<span data-ttu-id="0fb2f-1123">Açıklama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1123">Description</span></span> |
|-----|-----|-----|
|     | <span data-ttu-id="0fb2f-1124">1</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1124">1</span></span>   |<span data-ttu-id="0fb2f-1125">ICMPv6 ileti türünü tanımlar;</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1125">Identifies the ICMPv6 message type;</span></span> |
|     |     |<span data-ttu-id="0fb2f-1126">1 hedefe ulaşılamıyor</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1126">1 Destination Unreachable</span></span> |
|     |     |<span data-ttu-id="0fb2f-1127">2 paket çok büyük</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1127">2 Packet Too Big</span></span> |
|     |     |<span data-ttu-id="0fb2f-1128">3 süre aşıldı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1128">3 Time Exceeded</span></span> |
|     |     |<span data-ttu-id="0fb2f-1129">4 parametre sorunu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1129">4 Parameter Problem</span></span> |
|     |     |<span data-ttu-id="0fb2f-1130">128 yankı Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1130">128 Echo Request</span></span> |
|     |     |<span data-ttu-id="0fb2f-1131">129 Echo yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1131">129 Echo Reply</span></span> |
|     |     |<span data-ttu-id="0fb2f-1132">133 yönlendirici Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1132">133 Router Solicitation</span></span> |
|     |     |<span data-ttu-id="0fb2f-1133">134 yönlendirici tanıtımı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1133">134 Router Advertisement</span></span> |
|     |     |<span data-ttu-id="0fb2f-1134">135 komşu Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1134">135 Neighbor Solicitation</span></span> |
|     |     |<span data-ttu-id="0fb2f-1135">136 komşu tanıtımı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1135">136 Neighbor Advertisement</span></span> |
|     |     |<span data-ttu-id="0fb2f-1136">137 yönlendirme Iletisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1136">137 Redirect Message</span></span> |
|<span data-ttu-id="0fb2f-1137">Kod</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1137">Code</span></span> | <span data-ttu-id="0fb2f-1138">1</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1138">1</span></span>   |<span data-ttu-id="0fb2f-1139">ICMPv6 ileti türünü daha fazla nitelendirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1139">Further qualifies the ICMPv6 message type.</span></span> <span data-ttu-id="0fb2f-1140">Genellikle hata iletileriyle birlikte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1140">Generally used with error messages.</span></span> <span data-ttu-id="0fb2f-1141">Kullanılmıyorsa, sıfır olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1141">If not used, it is set to zero.</span></span> <span data-ttu-id="0fb2f-1142">Yankı isteği/yanıt ve NS iletileri bunu kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1142">Echo request/reply and NS messages do not use it.</span></span>|
|<span data-ttu-id="0fb2f-1143">Sağlama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1143">Checksum</span></span> | <span data-ttu-id="0fb2f-1144">2</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1144">2</span></span> |<span data-ttu-id="0fb2f-1145">ıCMP üst bilgisi için 16 bit sağlama toplamı alanı.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1145">16-bit checksum field for the ICMP Header.</span></span> <span data-ttu-id="0fb2f-1146">Bu, ICMPv6 üst bilgisi de dahil olmak üzere tüm ICMPv6 iletisinin 16 bitlik bir tamamlığıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1146">This is a 16-bit complement of the entire ICMPv6 message, including the ICMPv6 header.</span></span> <span data-ttu-id="0fb2f-1147">Ayrıca IPv6 kaynak adresinin, hedef adresinin ve paket yükü uzunluğunun sözde üst bilgisini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1147">It also includes a pseudo-header of the IPv6 source address, destination address, and packet payload length.</span></span> |

<span data-ttu-id="0fb2f-1148">Örnek bir komşu bağlantısı üst bilgisi aşağıda gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1148">An example Neighbor Solicitation header is shown below.</span></span>

![Örnek bir komşu bağlantısı üst bilgisi diyagramı.](./media/user-guide/image20.jpg)

<span data-ttu-id="0fb2f-1150">**ŞEKIL 11. Bir komşu ISTEME Iletisi için ICMPv6 üstbilgisi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1150">**FIGURE 11. ICMPv6 Header for a Neighbor Solicitation Message**</span></span>

|<span data-ttu-id="0fb2f-1151">Alan</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1151">Field</span></span> |<span data-ttu-id="0fb2f-1152">Boyut (bayt)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1152">Size(bytes)</span></span> |<span data-ttu-id="0fb2f-1153">Açıklama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1153">Description</span></span> |
|-----|-----|-----|
|<span data-ttu-id="0fb2f-1154">Tür</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1154">Type</span></span> | <span data-ttu-id="0fb2f-1155">1</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1155">1</span></span>   |<span data-ttu-id="0fb2f-1156">Komşu isteme iletileri için ICMPv6 ileti türünü tanımlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1156">Identifies the ICMPv6 message type for neighbor solicitation messages.</span></span> <span data-ttu-id="0fb2f-1157">Değer 135 ' dir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1157">Value is 135.</span></span> |
|<span data-ttu-id="0fb2f-1158">Kod</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1158">Code</span></span> | <span data-ttu-id="0fb2f-1159">1</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1159">1</span></span>   |<span data-ttu-id="0fb2f-1160">Kullanılmadı.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1160">Not used.</span></span> <span data-ttu-id="0fb2f-1161">0 olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1161">Set to 0.</span></span> |
|<span data-ttu-id="0fb2f-1162">Sağlama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1162">Checksum</span></span> | <span data-ttu-id="0fb2f-1163">2</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1163">2</span></span>  |<span data-ttu-id="0fb2f-1164">ICMPv6 üst bilgisi için 16 bit sağlama toplamı alanı.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1164">16-bit checksum field for the ICMPv6 header.</span></span> |
|<span data-ttu-id="0fb2f-1165">Ayrılmıştır</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1165">Reserved</span></span> | <span data-ttu-id="0fb2f-1166">4</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1166">4</span></span>  |<span data-ttu-id="0fb2f-1167">4 ayrılmış bayt 0 olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1167">4 reserved bytes set to 0.</span></span> |
|<span data-ttu-id="0fb2f-1168">Hedef adres</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1168">Target Address</span></span> | <span data-ttu-id="0fb2f-1169">16</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1169">16</span></span>  |<span data-ttu-id="0fb2f-1170">İsteme hedefinin IPv6 adresi.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1170">IPv6 address of target of the solicitation.</span></span> <span data-ttu-id="0fb2f-1171">IPv6 adres çözümlemesi için, bağlantı katmanı adresi çözülmesi gereken cihazın asıl tek noktaya yayın IP adresidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1171">For IPv6 address resolution, this is the actual unicast IP address of the device whose link layer address needs to be resolved.</span></span> |
|<span data-ttu-id="0fb2f-1172">Seçenekler</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1172">Options</span></span> | <span data-ttu-id="0fb2f-1173">Değişken</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1173">Variable</span></span> |<span data-ttu-id="0fb2f-1174">Komşu Bulma Protokolü tarafından belirtilen isteğe bağlı bilgiler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1174">Optional information specified by the Neighbor Discovery Protocol.</span></span> |

### <a name="icmpv6-ping-request"></a><span data-ttu-id="0fb2f-1175">ICMPv6 ping Isteği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1175">ICMPv6 Ping Request</span></span>
<span data-ttu-id="0fb2f-1176">NetX Duo uygulamalarında, parametrelerde belirtilen hedef IP adresine göre IPv6 veya IPv4 ping istekleri vermek için ***nxd_icmp_ping*** kullanın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1176">In NetX Duo applications use ***nxd_icmp_ping*** to issue either IPv6 or IPv4 ping requests, based on the destination IP address specified in the parameters.</span></span>  

### <a name="icmpv6-ping-response"></a><span data-ttu-id="0fb2f-1177">ICMPv6 ping yanıtı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1177">ICMPv6 Ping Response</span></span>
<span data-ttu-id="0fb2f-1178">Bir ICMPv6 ping yanıtı, bir dış ICMPv6 ping isteğine yanıt olarak ICMPv6 bileşeni tarafından dahili olarak oluşturulan başka bir Icmpv6 iletisi türüdür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1178">An ICMPv6 ping response is another type of ICMPv6 message that is generated internally by the ICMPv6 component in response to an external ICMPv6 ping request.</span></span> <span data-ttu-id="0fb2f-1179">Bildirim ek olarak, ICMPv6 ping yanıtı da ICMPv6 ping isteğinde sağlanan kullanıcı verilerinin bir kopyasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1179">In additional to acknowledgement, the ICMPv6 ping response also contains a copy of the user data supplied in the ICMPv6 ping request.</span></span>  

### <a name="thread-suspension"></a><span data-ttu-id="0fb2f-1180">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1180">Thread Suspension</span></span>
<span data-ttu-id="0fb2f-1181">Uygulama iş parçacıkları başka bir ağ üyesine ping yapılmaya çalışılırken askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1181">Application threads can suspend while attempting to ping another network member.</span></span> <span data-ttu-id="0fb2f-1182">Ping yanıtı alındıktan sonra, ping yanıtı iletisi askıya alınan ilk iş parçacığına verilir ve bu iş parçacığı sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1182">After a ping response is received, the ping response message is given to the first thread suspended and that thread is resumed.</span></span> <span data-ttu-id="0fb2f-1183">Tüm NetX Duo hizmetleri gibi, bir ping isteğini askıya alma isteğe bağlı bir zaman aşımı içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1183">Like all NetX Duo services, suspending on a ping request has an optional timeout.</span></span>  

### <a name="other-icmpv6-messages"></a><span data-ttu-id="0fb2f-1184">Diğer ICMPv6 Iletileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1184">Other ICMPv6 Messages</span></span>
<span data-ttu-id="0fb2f-1185">Aşağıdaki özellikler için ICMPv6 iletileri gereklidir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1185">ICMPv6 messages are required for the following features:</span></span>  

- <span data-ttu-id="0fb2f-1186">Komşu bulma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1186">Neighbor Discovery</span></span>  
- <span data-ttu-id="0fb2f-1187">Durum bilgisiz adres otomatik yapılandırması</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1187">Stateless Address Autoconfiguration</span></span> 
- <span data-ttu-id="0fb2f-1188">Yönlendirici bulma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1188">Router Discovery</span></span> 
- <span data-ttu-id="0fb2f-1189">Komşu ulaşılamama algılaması</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1189">Neighbor Unreachability Detection</span></span>  

### <a name="neighbor-unreachability-router-and-prefix-discovery"></a><span data-ttu-id="0fb2f-1190">Komşunlamama, yönlendirici ve ön ek bulma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1190">Neighbor Unreachability, Router and Prefix Discovery</span></span>    
<span data-ttu-id="0fb2f-1191">Komşunlamama algılama, yönlendirici bulma ve ön ek bulma, komşu bulma protokolünü temel alır ve aşağıda açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1191">Neighbor Unreachability Detection, Router Discovery, and Prefix Discovery are based on the Neighbor Discovery protocol and are described below.</span></span> 

<span data-ttu-id="0fb2f-1192">***Komşu ulaşılamama algılaması:*** Bir IPv6 aygıtı, bir paket göndermek istediğinde hedef bağlantı katmanı adresi için komşu bulma (ND) önbelleğini arar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1192">***Neighbor Unreachability Detection:*** An IPv6 device searches its Neighbor Discovery (ND) Cache for the destination link layer address when it wishes to send a packet.</span></span> <span data-ttu-id="0fb2f-1193">Bazen ' sonraki atlama ' olarak adlandırılan acil hedef, aynı bağlantı üzerindeki gerçek hedef olabilir veya hedef bağlantı kapalıysa bir yönlendirici olabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1193">The immediate destination, sometimes referred to as the 'next hop,' may be the actual destination on the same link or it may be a router if the destination is off link.</span></span> <span data-ttu-id="0fb2f-1194">ND önbellek girdisi, bir komşunun ulaşılabilirlik üzerindeki durumu içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1194">An ND cache entry contains the status on a neighbor's reachability.</span></span>

<span data-ttu-id="0fb2f-1195">ERIŞILEBILIR durum, komşunun erişilebilir kabul edileceğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1195">A REACHABLE status indicates the neighbor is considered reachable.</span></span> <span data-ttu-id="0fb2f-1196">Son zamanlarda, komşuyla gönderilen paketlerin alındığını belirten bir komşu alındı.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1196">A neighbor is reachable if it has recently received confirmation that packets sent to the neighbor have been received.</span></span> <span data-ttu-id="0fb2f-1197">NetX Duo 'da yapılan onay, NetX Duo cihaz tarafından gönderilen bir NS iletisine yanıt olarak komşudan bir NA ileti alma biçimini alır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1197">Confirmation in NetX Duo take the form of receiving an NA message from the neighbor in response to an NS message sent by the NetX Duo device.</span></span> <span data-ttu-id="0fb2f-1198">Ayrıca, uygulama NetX Duo hizmeti ***nxd_nd_cache_entry_set*** bir önbellek kaydını el ile girmesi Için NETX Duo, komşu durumunun durumunu erişilebilir olarak değiştirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1198">NetX Duo will also change the state of the neighbor status to REACHABLE if the application calls the NetX Duo service ***nxd_nd_cache_entry_set*** to manually enter a cache record.</span></span>

<span data-ttu-id="0fb2f-1199">***Yönlendirici bulma:*** IPv6 cihazı, bağlantı hedefleri için tasarlanan tüm paketleri iletmek için bir yönlendirici kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1199">***Router Discovery:*** An IPv6 device uses a router to forward all packets intended for off link destinations.</span></span> <span data-ttu-id="0fb2f-1200">Ayrıca, kendi genel IPv6 adreslerini yapılandırmak için yönlendirici tanıtımı (RA) iletileri gibi yönlendirici tarafından gönderilen bilgileri de kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1200">It may also use information sent by the router, such as router advertisement (RA) messages, to configure its global IPv6 addresses.</span></span>

<span data-ttu-id="0fb2f-1201">Ağdaki bir cihaz, tüm yönlendirici çok noktaya yayın adresine (FF01:: 2) bir yönlendirici bağlantısı (RS) iletisi göndererek yönlendirici bulma işlemini başlatabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1201">A device on the network may initiate the Router Discovery process by sending a router solicitation (RS) message to the all-router multicast address (FF01::2).</span></span> <span data-ttu-id="0fb2f-1202">Ya da yönlendiricilerden düzenli bir RA için tüm düğüm çok noktaya yayın adresini (FF:: 1) bekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1202">Or it can wait on the all-node multicast address (FF::1) for a periodic RA from the routers.</span></span>

<span data-ttu-id="0fb2f-1203">RA iletisi, bu ağ için bir IPv6 adresi yapılandırmaya yönelik önek bilgilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1203">An RA message contains the prefix information for configuring an IPv6 address for that network.</span></span> <span data-ttu-id="0fb2f-1204">NetX Duo sürümünde, Yönlendirici isteme varsayılan olarak etkindir ve _ *_nx_user. h_* \* içindeki yapılandırma seçeneği \***NX_DISABLE_ICMPV6_ROUTER_SOLICITATION** _ ayarlanarak devre dışı bırakılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1204">In NetX Duo, router solicitation is by default enabled and can be disabled by setting the configuration option ***NX_DISABLE_ICMPV6_ROUTER_SOLICITATION** _ in _*_nx_user.h_\*\*.</span></span> <span data-ttu-id="0fb2f-1205">Yönlendirici ISTEME parametrelerini ayarlama hakkında daha fazla bilgi için bkz. "NetX Duo yükleme ve kullanma" bölümünde yapılandırma seçenekleri.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1205">See Configuration Options in the "Installation and Use of NetX Duo" chapter for more details on setting Router Solicitation parameters.</span></span> 

<span data-ttu-id="0fb2f-1206">***Ön ek keşfi***: bir IPv6 cihazı, bir yönlendiriciden geçmeden doğrudan erişilebilen hedef konaklara erişim sağlamak için ön ek bulmayı kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1206">***Prefix Discovery***: An IPv6 device uses prefix discovery to learn which target hosts are accessible directly without going through a router.</span></span> <span data-ttu-id="0fb2f-1207">Bu bilgiler, yönlendiriciden gelen RA iletilerinden IPv6 cihazında kullanılabilir hale getirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1207">This information is made available to the IPv6 device from RA messages from the router.</span></span> <span data-ttu-id="0fb2f-1208">IPv6 cihazı ön ek bilgilerini önek tablosunda depolar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1208">The IPv6 device stores the prefix information in a prefix table.</span></span> <span data-ttu-id="0fb2f-1209">Ön ek keşfi IPv6 cihaz öneki tablosundan hedef adrese bir ön ek ile eşleşiyor.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1209">Prefix discovery is matching a prefix from the IPv6 device prefix table to a target address.</span></span> <span data-ttu-id="0fb2f-1210">Önekte bulunan tüm bitlerin hedef adresin en önemli bitlerini eşleşiyorsa bir önek, hedef adresle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1210">A prefix matches a target address if all the bits in the prefix match the most significant bits of the target address.</span></span> <span data-ttu-id="0fb2f-1211">Birden fazla önek bir adresi kapsıyorsa, en uzun ön ek seçilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1211">If more than one prefix covers an address, the longest prefix is selected.</span></span>

### <a name="icmpv6-error-messages"></a><span data-ttu-id="0fb2f-1212">ICMPv6 hata Iletileri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1212">ICMPv6 Error Messages</span></span>    
<span data-ttu-id="0fb2f-1213">NetX Duo 'da aşağıdaki ICMPv6 hata iletileri desteklenir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1213">The following ICMPv6 error messages are supported in NetX Duo:</span></span>  

- <span data-ttu-id="0fb2f-1214">Hedefe ulaşılamıyor</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1214">Destination Unreachable</span></span>  
- <span data-ttu-id="0fb2f-1215">Paket çok büyük</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1215">Packet Too Big</span></span>  
- <span data-ttu-id="0fb2f-1216">Süre aş</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1216">Time Exceed</span></span>  
- <span data-ttu-id="0fb2f-1217">Parametre sorunu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1217">Parameter Problem</span></span>  

## <a name="user-datagram-protocol-udp"></a><span data-ttu-id="0fb2f-1218">Kullanıcı veri birimi Protokolü (UDP)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1218">User Datagram Protocol (UDP)</span></span>

<span data-ttu-id="0fb2f-1219">Kullanıcı veri birimi Protokolü (UDP) ağ üyeleri arasında en basit veri aktarımı biçimini sağlar (RFC 768).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1219">The User Datagram Protocol (UDP) provides the simplest form of data transfer between network members (RFC 768).</span></span> <span data-ttu-id="0fb2f-1220">UDP veri paketleri en iyi çabayla bir ağ üyesinden diğerine gönderilir; Yani, paket alıcısı tarafından onay için yerleşik bir mekanizma yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1220">UDP data packets are sent from one network member to another in a best effort fashion; i.e., there is no built-in mechanism for acknowledgement by the packet recipient.</span></span> <span data-ttu-id="0fb2f-1221">Ayrıca, bir UDP paketinin gönderilmesi için herhangi bir bağlantının önceden kurulması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1221">In addition, sending a UDP packet does not require any connection to be established in advance.</span></span> <span data-ttu-id="0fb2f-1222">Bu nedenle, UDP paket iletimi oldukça etkilidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1222">Because of this, UDP packet transmission is very efficient.</span></span>

<span data-ttu-id="0fb2f-1223">NETX uygulamalarını NetX Duo 'e geçirirken geliştiriciler için, NetX ve NetX Duo arasındaki UDP işlevselliğinde yalnızca birkaç temel değişiklik bulunur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1223">For developers migrating their NetX applications to NetX Duo there are only a few basic changes in UDP functionality between NetX and NetX Duo.</span></span> <span data-ttu-id="0fb2f-1224">Bunun nedeni IPv6 'nın öncelikle temel alınan IP katmanıyla ilgilenmesinden kaynaklanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1224">This is because IPv6 is primarily concerned with the underlying IP layer.</span></span> <span data-ttu-id="0fb2f-1225">Tüm NetX Duo UDP Hizmetleri, IPv4 veya IPv6 bağlantısı için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1225">All NetX Duo UDP services can be used for either IPv4 or IPv6 connectivity.</span></span>

### <a name="udp-header"></a><span data-ttu-id="0fb2f-1226">UDP üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1226">UDP Header</span></span>       
<span data-ttu-id="0fb2f-1227">UDP, iletim sırasında uygulamanın verilerinin önüne basit bir paket üst bilgisi koyar ve alınan bir UDP paketini uygulamaya teslim etmeden önce, Alım paketinden benzer bir UDP üst bilgisini kaldırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1227">UDP places a simple packet header in front of the application's data on transmission, and removes a similar UDP header from the packet on reception before delivering a received UDP packet to the application.</span></span> <span data-ttu-id="0fb2f-1228">UDP, paket ağda olduğunda UDP üst bilgisinin önünde bir IP üstbilgisi olduğu anlamına gelen paketleri göndermek ve almak için IP protokolünü kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1228">UDP utilizes the IP protocol for sending and receiving packets, which means there is an IP header in front of the UDP header when the packet is on the network.</span></span> <span data-ttu-id="0fb2f-1229">Şekil 12 ' de UDP üstbilgisinin biçimi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1229">Figure 12 shows the format of the UDP header.</span></span>

![UDP üst bilgi biçiminin diyagramı.](./media/user-guide/image21.png)

### <a name="figure-12-udp-header"></a><span data-ttu-id="0fb2f-1231">ŞEKIL 12.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1231">FIGURE 12.</span></span> <span data-ttu-id="0fb2f-1232">UDP üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1232">UDP Header</span></span>

> [!NOTE]
> <span data-ttu-id="0fb2f-1233">*UDP/IP uygulamasındaki tüm üstbilgilerin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1233">*All headers in the UDP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address.*</span></span>

<span data-ttu-id="0fb2f-1234">Aşağıda UDP üst bilgi biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1234">The following describes the UDP header format:</span></span>

|<span data-ttu-id="0fb2f-1235">Üst bilgi alanı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1235">Header Field</span></span> |<span data-ttu-id="0fb2f-1236">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1236">Purpose</span></span> |
|---|---|
|<span data-ttu-id="0fb2f-1237">**16 bit kaynak bağlantı noktası numarası**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1237">**16-bit source port number**</span></span> |<span data-ttu-id="0fb2f-1238">Bu alan, UDP paketinin gönderilme bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1238">This field contains the port on which the UDP packet is being sent from.</span></span> <span data-ttu-id="0fb2f-1239">Geçerli UDP bağlantı noktaları 1 ile 0xFFFF arasındadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1239">Valid UDP ports range from 1 through 0xFFFF.</span></span> |
|<span data-ttu-id="0fb2f-1240">**16 bit hedef bağlantı noktası numarası**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1240">**16-bit destination port number**</span></span> |<span data-ttu-id="0fb2f-1241">Bu alan, paketin gönderildiği UDP bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1241">This field contains the UDP port to which the packet is being sent to.</span></span> <span data-ttu-id="0fb2f-1242">Geçerli UDP bağlantı noktaları 1 ile 0xFFFF arasındadır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1242">Valid UDP ports range from 1 through 0xFFFF.</span></span> |
|<span data-ttu-id="0fb2f-1243">**16 bit UDP uzunluğu**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1243">**16-bit UDP length**</span></span> |<span data-ttu-id="0fb2f-1244">Bu alan UDP paketindeki UDP üstbilgisinin boyutu da dahil olmak üzere bayt sayısını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1244">This field contains the number of bytes in the UDP packet, including the size of the UDP header.</span></span> |
|<span data-ttu-id="0fb2f-1245">**16 bit UDP sağlama toplamı**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1245">**16-bit UDP checksum**</span></span> |<span data-ttu-id="0fb2f-1246">Bu alan, paket için UDP üstbilgisi, paket veri alanı ve sözde IP üstbilgisi dahil olmak üzere 16 bit sağlama toplamı içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1246">This field contains the 16-bit checksum for the packet, including the UDP header, the packet data area, and the pseudo IP header.</span></span> |

### <a name="udp-enable"></a><span data-ttu-id="0fb2f-1247">UDP etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1247">UDP Enable</span></span>   
<span data-ttu-id="0fb2f-1248">UDP paket iletimi mümkün olmadan önce, uygulamanın öncelikle ***nx_udp_enable*** HIZMETINI çağırarak UDP 'yi etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1248">Before UDP packet transmission is possible, the application must first enable UDP by calling the ***nx_udp_enable*** service.</span></span> <span data-ttu-id="0fb2f-1249">Etkinleştirildikten sonra uygulama, UDP paketlerini göndermek ve almak için ücretsizdir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1249">After enabled, the application is free to send and receive UDP packets.</span></span>  

### <a name="udp-socket-create"></a><span data-ttu-id="0fb2f-1250">UDP yuvası oluşturma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1250">UDP Socket Create</span></span>    
<span data-ttu-id="0fb2f-1251">UDP yuvaları, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1251">UDP sockets are created either during initialization or during runtime by application threads.</span></span> <span data-ttu-id="0fb2f-1252">Hizmetin başlangıç türü, yaşam süresi ve alma sırası derinliği ***nx_udp_socket_create*** hizmeti tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1252">The initial type of service, time to live, and receive queue depth are defined by the ***nx_udp_socket_create*** service.</span></span> <span data-ttu-id="0fb2f-1253">Bir uygulamadaki UDP yuvaları sayısında sınır yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1253">There are no limits on the number of UDP sockets in an application.</span></span>

### <a name="udp-checksum"></a><span data-ttu-id="0fb2f-1254">UDP sağlama toplamı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1254">UDP Checksum</span></span>   
<span data-ttu-id="0fb2f-1255">IPv6 protokolü, paket verilerinde bir UDP üst bilgi sağlama toplamı hesaplaması gerektirir, ancak IPv4 protokolünde isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1255">IPv6 protocol requires a UDP header checksum computation on packet data, whereas in the IPv4 protocol it is optional.</span></span>  

<span data-ttu-id="0fb2f-1256">UDP, IP sahte üstbilgisini (kaynak IP adresi, hedef IP adresi ve protokol/uzunluk IP sözcükten oluşan), UDP üstbilgisini ve UDP paket verilerini içeren bir 16 bit tamamlama toplamı belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1256">UDP specifies a one's complement 16-bit checksum that covers the IP pseudo header (consisting of the source IP address, destination IP address, and the protocol/length IP word), the UDP header, and the UDP packet data.</span></span> <span data-ttu-id="0fb2f-1257">IPv4 ve IPv6 UDP paket üst bilgisi sağlama toplamı arasındaki tek fark, kaynak ve hedef IP adreslerinin, IPv6 'da 128 bit olduğu sırada IPv4 içinde 32 bitleridir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1257">The only differences between IPv4 and IPv6 UDP packet header checksums is that the source and destination IP addresses are 32 bit in IPv4 while in IPv6 they are 128 bit.</span></span> <span data-ttu-id="0fb2f-1258">Hesaplanan UDP sağlama toplamı 0 ise, hepsi (0xFFFF) olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1258">If the calculated UDP checksum is 0, it is stored as all ones (0xFFFF).</span></span> <span data-ttu-id="0fb2f-1259">Gönderme yuvasında UDP sağlama toplamı mantığı devre dışıysa, sağlama toplamı hesaplanmadığından, UDP sağlama toplamı alanına sıfır yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1259">If the sending socket has the UDP checksum logic disabled, a zero is placed in the UDP checksum field to indicate the checksum was not calculated.</span></span>

<span data-ttu-id="0fb2f-1260">UDP sağlama toplamı, alıcı tarafından hesaplanan sağlama toplamıyla eşleşmezse, UDP paketi yalnızca atılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1260">If the UDP checksum does not match the computed checksum by the receiver, the UDP packet is simply discarded.</span></span>

<span data-ttu-id="0fb2f-1261">IPv4 ağında, UDP sağlama toplamı isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1261">On the IPv4 network, UDP checksum is optional.</span></span> <span data-ttu-id="0fb2f-1262">NetX Duo, bir uygulamanın her yuva temelinde UDP sağlama toplamı hesaplamasını etkinleştirmesine veya devre dışı bırakmasına olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1262">NetX Duo allows an application to enable or disable UDP checksum calculation on a per-socket basis.</span></span> <span data-ttu-id="0fb2f-1263">Varsayılan olarak, UDP yuva sağlama toplamı mantığı etkindir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1263">By default, the UDP socket checksum logic is enabled.</span></span> <span data-ttu-id="0fb2f-1264">Uygulama, \***nx_udp_socket_checksum_disable** _ hizmetini çağırarak belırlı bir UDP yuvası için sağlama mantığını devre dışı bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1264">The application can disable checksum logic for a particular UDP socket by calling the \***nx_udp_socket_checksum_disable** _ service.</span></span> <span data-ttu-id="0fb2f-1265">Bununla birlikte IPv6 ağında, UDP sağlama toplamı zorunludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1265">On the IPv6 network, however, UDP checksum is mandatory.</span></span> <span data-ttu-id="0fb2f-1266">Bu nedenle, bu hizmet _ \*_nx_udp_socket_checksum_disable_\*\*, IPv6 ağı aracılığıyla bir paket gönderilirken UDP sağlama toplamı mantığını devre dışı bırakmaz.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1266">Therefore, the service _ *_nx_udp_socket_checksum_disable_*\* would not disable UDP checksum logic when sending a packet through the IPv6 network.</span></span>

<span data-ttu-id="0fb2f-1267">Belirli Ethernet denetleyicileri anında UDP sağlama toplamı üretebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1267">Certain Ethernet controllers are able to generate the UDP checksum on the fly.</span></span> <span data-ttu-id="0fb2f-1268">Sistem donanım sağlama toplamı hesaplama özelliğini kullanabiliyor ise, NetX Duo kitaplığı sağlama toplamı mantığı olmadan oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1268">If the system is able to use hardware checksum computation feature, the NetX Duo library can be built without the checksum logic.</span></span> <span data-ttu-id="0fb2f-1269">UDP yazılım sağlama toplamını devre dışı bırakmak için NetX Duo kitaplığı, tanımlanan şu simgelerle oluşturulmalıdır: ***NX_DISABLE_UDP_TX_CHECKSUM** _ ve _*_NX_DISABLE_UDP_RX_CHECKSUM_\*_ (Bölüm iki bölümünde açıklanmıştır).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1269">To disable UDP software checksum, the NetX Duo library must be built with the following symbols defined: ***NX_DISABLE_UDP_TX_CHECKSUM** _ and _*_NX_DISABLE_UDP_RX_CHECKSUM_\*_ (described in Chapter two).</span></span> <span data-ttu-id="0fb2f-1270">Yapılandırma seçenekleri, NetX Duo 'ten gelen UDP sağlama mantığını tamamen kaldırır, _ *_nx_udp_socket_checksum_disable_*\* hizmetini çağırmak uygulamanın her yuva IÇIN IPv4 UDP sağlama toplamı işlemesini devre dışı bırakmasına olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1270">The configuration options remove UDP checksum logic from NetX Duo entirely, while calling the _ *_nx_udp_socket_checksum_disable_*\* service allows the application to disable IPv4 UDP checksum processing on a per socket basis.</span></span>

### <a name="udp-ports-and-binding"></a><span data-ttu-id="0fb2f-1271">UDP bağlantı noktaları ve bağlama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1271">UDP Ports and Binding</span></span>      
<span data-ttu-id="0fb2f-1272">UDP bağlantı noktası UDP protokolündeki bir mantıksal bitiş noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1272">A UDP port is a logical end point in the UDP protocol.</span></span> <span data-ttu-id="0fb2f-1273">NetX Duo 'un UDP bileşeninde, 1 ile 0xFFFF arasında 65.535 geçerli bağlantı noktası vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1273">There are 65,535 valid ports in the UDP component of NetX Duo, ranging from 1 through 0xFFFF.</span></span> <span data-ttu-id="0fb2f-1274">UDP verileri göndermek veya almak için önce uygulamanın bir UDP yuvası oluşturması ve ardından bunu istenen bir bağlantı noktasına bağlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1274">To send or receive UDP data, the application must first create a UDP socket, then bind it to a desired port.</span></span> <span data-ttu-id="0fb2f-1275">Bir UDP yuvasını bir bağlantı noktasına bağladıktan sonra, uygulama o yuvaya veri alıp alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1275">After binding a UDP socket to a port, the application may send and receive data on that socket.</span></span>

### <a name="udp-fast-pathtrade"></a><span data-ttu-id="0fb2f-1276">UDP hızlı yolu&trade;</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1276">UDP Fast Path&trade;</span></span>   
<span data-ttu-id="0fb2f-1277">UDP hızlı yolu, &trade; NetX Duo UDP uygulamasıyla düşük bir paket ek yükü yolunun adıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1277">The UDP Fast Path&trade; is the name for a low packet overhead path through the NetX Duo UDP implementation.</span></span> <span data-ttu-id="0fb2f-1278">Bir UDP paketinin gönderilmesi yalnızca birkaç işlev çağrısını gerektirir: ***nx_udp_socket_send** _, _*_nx_ip_packet_send_\*_ ve ağ sürücüsüne yapılan nihai çağrı.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1278">Sending a UDP packet requires just a few function calls: ***nx_udp_socket_send** _, _*_nx_ip_packet_send_\*_, and the eventual call to the network driver.</span></span> <span data-ttu-id="0fb2f-1279">_*_nx_udp_socket_send_*_ , mevcut NETX uygulamalarına yönelik NETX Duo sürümünde kullanılabilir ve yalnızca IPv4 paketleri için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1279">_*_nx_udp_socket_send_*_ is available in NetX Duo for existing NetX applications and is only applicable for IPv4 packets.</span></span> <span data-ttu-id="0fb2f-1280">Ancak tercih edilen yöntem, aşağıda açıklanan _ *_nxd_udp_socket_send_*\* hizmetini kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1280">The preferred method, however, is to use _ *_nxd_udp_socket_send_*\* service discussed below.</span></span> <span data-ttu-id="0fb2f-1281">UDP paket alımı üzerinde, UDP paketi uygun UDP yuvası alma kuyruğuna yerleştirilir veya ağ sürücüsünün alma kesme işleminden gelen tek bir işlev çağrısında askıya alınmış bir uygulama iş parçacığına dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1281">On UDP packet reception, the UDP packet is either placed on the appropriate UDP socket receive queue or delivered to a suspended application thread in a single function call from the network driver's receive interrupt processing.</span></span> <span data-ttu-id="0fb2f-1282">UDP paketlerinin gönderilmesi ve alınması için en iyi duruma getirilmiş bu mantık, UDP hızlı yol teknolojisinin özünü önemli bir yoldur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1282">This highly optimized logic for sending and receiving UDP packets is the essence of UDP Fast Path technology.</span></span>  

### <a name="udp-packet-send"></a><span data-ttu-id="0fb2f-1283">UDP paketi gönderme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1283">UDP Packet Send</span></span>    
<span data-ttu-id="0fb2f-1284">IPv6 veya IPv4 ağları üzerinden UDP verileri göndermek, \***nxd_udp_socket_send** _ işlevi çağırarak kolayca gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1284">Sending UDP data over IPv6 or IPv4 networks is easily accomplished by calling the \***nxd_udp_socket_send** _ function.</span></span> <span data-ttu-id="0fb2f-1285">Çağıran, NXD_ADDRESS işaretçi parametresinin _nx_ip_version \* alanındaki IP sürümünü ayarlamış olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1285">The caller must set the IP version in the _nx_ip_version\* field of the NXD_ADDRESS pointer parameter.</span></span> <span data-ttu-id="0fb2f-1286">NetX Duo, iletilen UDP paketlerinin hedef IPv4/IPv6 adresine göre en iyi kaynak adresini belirleyecek.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1286">NetX Duo will determine the best source address for transmitted UDP packets based on the destination IPv4/IPv6 address.</span></span> <span data-ttu-id="0fb2f-1287">Bu hizmet, paket verilerinin önüne bir UDP üst bilgisi koyar ve bir iç IP gönderme yordamı kullanarak ağı ağa gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1287">This service places a UDP header in front of the packet data and sends it out onto the network using an internal IP send routine.</span></span> <span data-ttu-id="0fb2f-1288">UDP paketlerinin gönderilmesi üzerinde hiçbir iş parçacığı askıya alınmaz çünkü tüm UDP paket aktarımları hemen işlenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1288">There is no thread suspension on sending UDP packets because all UDP packet transmissions are processed immediately.</span></span> 

<span data-ttu-id="0fb2f-1289">Çok noktaya yayın veya yayın hedefleri için, NetX Duo cihazında aralarından seçim yapabileceğiniz birden çok IP adresi varsa, uygulamanın kullanılacak kaynak IP adresini belirtmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1289">For multicast or broadcast destinations, the application should specify the source IP address to use if the NetX Duo device has multiple IP addresses to choose from.</span></span> <span data-ttu-id="0fb2f-1290">Bu, Hizmetler ***nxd_udp_socket_source_send yapılabilir.***</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1290">This can be done with the services ***nxd_udp_socket_source_send.***</span></span>

> [!IMPORTANT]    
> <span data-ttu-id="0fb2f-1291">*Çok noktaya yayın veya yayın paketlerini iletmek için **nx_udp_socket_send** kullanılıyorsa, Ilk etkinleştirilen arabirimin IP adresi kaynak adres olarak kullanılır*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1291">*If **nx_udp_socket_send** is used for transmitting multicast or broadcast packets, the IP address of the first enabled interface is used as source address*.</span></span>

> [!NOTE] 
> <span data-ttu-id="0fb2f-1292">*Bu yuva IÇIN UDP sağlama toplamı mantığı etkinleştirilmişse, sağlama iş parçacığı bağlamında, UDP veya IP veri yapılarına erişimi engellemeden, sağlama toplamı işlemi yapılır*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1292">*If UDP checksum logic is enabled for this socket, the checksum operation is performed in the context of the calling thread, without blocking access to the UDP or IP data structures*.</span></span> 

> [!WARNING]    
> <span data-ttu-id="0fb2f-1293">*NX_PACKET yapısında bulunan UDP yük verileri uzun bir sözcük sınırında bulunmalıdır. Uygulamanın, IP, IP ve fiziksel medya üst bilgilerini yerleştirmek için, önüne işaretçisi ve NETX Duo için veri başlangıç işaretçisi arasında yeterli alan bırakması gerekir*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1293">*The UDP payload data residing in the NX_PACKET structure should reside on a long-word boundary. The application needs to leave sufficient space between the prepend pointer and the data start pointer for NetX Duo to place the UDP, IP, and physical media headers*.</span></span>

### <a name="udp-packet-receive"></a><span data-ttu-id="0fb2f-1294">UDP paket alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1294">UDP Packet Receive</span></span>    
<span data-ttu-id="0fb2f-1295">Uygulama iş parçacıkları, ***nx_udp_socket_receive*** çağırarak belirli BIR yuvadan UDP paketleri alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1295">Application threads may receive UDP packets from a particular socket by calling ***nx_udp_socket_receive***.</span></span> <span data-ttu-id="0fb2f-1296">Yuva alma işlevi, yuvanın alma sırasındaki en eski paketi sunar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1296">The socket receive function delivers the oldest packet on the socket's receive queue.</span></span> <span data-ttu-id="0fb2f-1297">Alma kuyruğunda paket yoksa, bir paket gelene kadar çağıran iş parçacığı askıya alabilir (isteğe bağlı bir zaman aşımı ile).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1297">If there are no packets on the receive queue, the calling thread can suspend (with an optional timeout) until a packet arrives.</span></span>

<span data-ttu-id="0fb2f-1298">UDP alma paketi işleme (genellikle ağ sürücüsünün Alım kesme işleyicisinden çağrılır), paketi UDP yuvasının alma kuyruğuna yerleştirmekten veya bir paket için bekleyen ilk askıya alınan iş parçacığına teslim etmekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1298">The UDP receive packet processing (usually called from the network driver's receive interrupt handler) is responsible for either placing the packet on the UDP socket's receive queue or delivering it to the first suspended thread waiting for a packet.</span></span> <span data-ttu-id="0fb2f-1299">Paket sıraya alınmışsa, alma işlemi, yuvada ilişkili en fazla alma sırası derinliğini de denetler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1299">If the packet is queued, the receive processing also checks the maximum receive queue depth associated with the socket.</span></span> <span data-ttu-id="0fb2f-1300">Bu yeni kuyruğa alınan paket sıra derinliğini aşarsa, sıradaki en eski paket atılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1300">If this newly queued packet exceeds the queue depth, the oldest packet in the queue is discarded.</span></span>

### <a name="udp-receive-notify"></a><span data-ttu-id="0fb2f-1301">UDP alma bildirimi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1301">UDP Receive Notify</span></span>   
<span data-ttu-id="0fb2f-1302">Uygulama iş parçacığının birden fazla yuvada alınan verileri işlemesi gerekiyorsa ***nx_udp_socket_receive_notify*** işlevi kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1302">If the application thread needs to process received data from more than one socket, the ***nx_udp_socket_receive_notify*** function should be used.</span></span> <span data-ttu-id="0fb2f-1303">Bu işlev, yuva için bir alma paketi geri çağırma işlevi kaydeder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1303">This function registers a receive packet callback function for the socket.</span></span> <span data-ttu-id="0fb2f-1304">Yuvada her bir paket alındığında geri çağırma işlevi yürütülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1304">Whenever a packet is received on the socket, the callback function is executed.</span></span>

<span data-ttu-id="0fb2f-1305">Geri çağırma işlevinin içerikleri, applicationspecific; Ancak büyük olasılıkla işleme iş parçacığını, ilgili yuvada artık kullanılabilir olduğunu bildirmek için mantık içerebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1305">The contents of the callback function is applicationspecific; however, it would most likely contain logic to inform the processing thread that a packet is now available on the corresponding socket.</span></span>

### <a name="peer-address-and-port"></a><span data-ttu-id="0fb2f-1306">Eş adresi ve bağlantı noktası</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1306">Peer Address and Port</span></span>   
<span data-ttu-id="0fb2f-1307">Bir UDP paketi alındığında, uygulama, hizmet ***nx_udp_packet_info_extract*** kullanarak gönderenin IP adresini ve bağlantı noktası numarasını bulabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1307">On receiving a UDP packet, application may find the sender's IP address and port number by using the service ***nx_udp_packet_info_extract***.</span></span> <span data-ttu-id="0fb2f-1308">Başarılı bir geri döndüğünüzde, bu hizmet gönderenin IP adresi, gönderenin bağlantı noktası numarası ve paketin alındığı yerel arabirim hakkındaki bilgileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1308">On successful return, this service provides information on the sender's IP address, sender's port number, and the local interface through which the packet was received.</span></span>  

### <a name="thread-suspension"></a><span data-ttu-id="0fb2f-1309">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1309">Thread Suspension</span></span>   
<span data-ttu-id="0fb2f-1310">Daha önce belirtildiği gibi, uygulama iş parçacıkları belirli bir UDP bağlantı noktasında UDP paketi alınmaya çalışılırken askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1310">As mentioned previously, application threads can suspend while attempting to receive a UDP packet on a particular UDP port.</span></span> <span data-ttu-id="0fb2f-1311">Bu bağlantı noktasında bir paket alındıktan sonra, bu, askıya alınan ilk iş parçacığına verilir ve bu iş parçacığı daha sonra sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1311">After a packet is received on that port, it is given to the first thread suspended and that thread is then resumed.</span></span> <span data-ttu-id="0fb2f-1312">Çok sayıda NetX Duo hizmeti için kullanılabilen bir UDP alma paketi üzerinde askıya alma sırasında isteğe bağlı bir zaman aşımı kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1312">An optional timeout is available when suspending on a UDP receive packet, a feature available for most NetX Duo services.</span></span>  

### <a name="udp-socket-statistics-and-errors"></a><span data-ttu-id="0fb2f-1313">UDP yuvası Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1313">UDP Socket Statistics and Errors</span></span>     
<span data-ttu-id="0fb2f-1314">Etkinleştirilirse, NetX Duo UDP yuva yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1314">If enabled, the NetX Duo UDP socket software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-1315">Her IP/UDP örneği için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1315">The following statistics and error reports are maintained for each IP/UDP instance:</span></span>

- <span data-ttu-id="0fb2f-1316">Gönderilen toplam UDP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1316">Total UDP Packets Sent</span></span>  
- <span data-ttu-id="0fb2f-1317">Gönderilen toplam UDP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1317">Total UDP Bytes Sent</span></span>  
- <span data-ttu-id="0fb2f-1318">Alınan toplam UDP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1318">Total UDP Packets Received</span></span>   
- <span data-ttu-id="0fb2f-1319">Alınan toplam UDP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1319">Total UDP Bytes Received</span></span>  
- <span data-ttu-id="0fb2f-1320">Toplam UDP geçersiz paket sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1320">Total UDP Invalid Packets</span></span>  
- <span data-ttu-id="0fb2f-1321">Bırakılan toplam UDP alma paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1321">Total UDP Receive Packets Dropped</span></span>  
- <span data-ttu-id="0fb2f-1322">Toplam UDP alma sağlama toplamı hatası</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1322">Total UDP Receive Checksum Errors</span></span>  
- <span data-ttu-id="0fb2f-1323">Gönderilen UDP soket paketleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1323">UDP Socket Packets Sent</span></span>  
- <span data-ttu-id="0fb2f-1324">Gönderilen UDP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1324">UDP Socket Bytes Sent</span></span>  
- <span data-ttu-id="0fb2f-1325">Alınan UDP soket paketleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1325">UDP Socket Packets Received</span></span>   
- <span data-ttu-id="0fb2f-1326">Alınan UDP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1326">UDP Socket Bytes Received</span></span>  
- <span data-ttu-id="0fb2f-1327">Sıraya alınan UDP yuvası paketleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1327">UDP Socket Packets Queued</span></span>  
- <span data-ttu-id="0fb2f-1328">Bırakılan UDP yuvası alma paketleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1328">UDP Socket Receive Packets Dropped</span></span>  
- <span data-ttu-id="0fb2f-1329">UDP yuva sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1329">UDP Socket Checksum Errors</span></span>  

<span data-ttu-id="0fb2f-1330">Bu istatistik ve hata raporlarının tümü, tüm UDP yuvaları üzerinden UDP istatistikleri amassed için ***nx_udp_info_get** _ hizmeti ve belirtilen UDP yuvasında UDP istatistikleri için _ *_nx_udp_socket_info_get_** hizmeti ile birlikte kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1330">All these statistics and error reports are available to the application with the ***nx_udp_info_get** _ service for UDP statistics amassed over all UDP sockets, and the _ *_nx_udp_socket_info_get_** service for UDP statistics on the specified UDP socket.</span></span>

### <a name="udp-socket-control-block-nx_udp_socket"></a><span data-ttu-id="0fb2f-1331">UDP yuva denetim bloğu NX_UDP_SOCKET</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1331">UDP Socket Control Block NX_UDP_SOCKET</span></span>
<span data-ttu-id="0fb2f-1332">Her UDP yuvasının özellikleri, ilişkili NX_UDP_SOCKET denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1332">The characteristics of each UDP socket are found in the associated NX_UDP_SOCKET control block.</span></span> <span data-ttu-id="0fb2f-1333">IP veri yapısına bağlantı, gönderme ve alma yolları için ağ arabirimi, bağlantı noktası ve alma paketi kuyruğu gibi yararlı bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1333">It contains useful information such as the link to the IP data structure, the network interface for the sending and receiving paths, the bound port, and the receive packet queue.</span></span> <span data-ttu-id="0fb2f-1334">Bu yapı ***nx_api. h*** dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1334">This structure is defined in the ***nx_api.h*** file.</span></span>

## <a name="transmission-control-protocol-tcp"></a><span data-ttu-id="0fb2f-1335">İletim Denetimi Protokolü (TCP)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1335">Transmission Control Protocol (TCP)</span></span>

<span data-ttu-id="0fb2f-1336">Iletim Denetim Protokolü (TCP) iki ağ üyesi arasında güvenilir akış veri aktarımı sağlar (RFC 793).</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1336">The Transmission Control Protocol (TCP) provides reliable stream data transfer between two network members (RFC 793).</span></span> <span data-ttu-id="0fb2f-1337">Bir ağ üyesinden gönderilen tüm veriler, alıcı üye tarafından doğrulanır ve onaylanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1337">All data sent from one network member are verified and acknowledged by the receiving member.</span></span> <span data-ttu-id="0fb2f-1338">Ayrıca, iki üyenin herhangi bir veri aktarımından önce bir bağlantı oluşturmuş olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1338">In addition, the two members must have established a connection prior to any data transfer.</span></span> <span data-ttu-id="0fb2f-1339">Tüm bu sonuçlar güvenilir veri aktarımına sahiptir; Ancak, daha önce açıklanan UDP veri aktarımından daha fazla ek yük gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1339">All this results in reliable data transfer; however, it does require substantially more overhead than the previously described UDP data transfer.</span></span>

<span data-ttu-id="0fb2f-1340">Aksi belirtilmedikçe, TCP protokolü API hizmetlerinde NetX ve NetX Duo arasında hiçbir değişiklik yoktur, çünkü IPv6 birincil olarak temel alınan IP katmanıyla ilgilidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1340">Except where noted, there are no changes in TCP protocol API services between NetX and NetX Duo because IPv6 is primarily concerned with the underlying IP layer.</span></span> <span data-ttu-id="0fb2f-1341">Tüm NetX Duo TCP hizmetleri, IPv4 veya IPv6 bağlantıları için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1341">All NetX Duo TCP services can be used for either IPv4 or IPv6 connections.</span></span>

### <a name="tcp-header"></a><span data-ttu-id="0fb2f-1342">TCP üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1342">TCP Header</span></span>   
<span data-ttu-id="0fb2f-1343">İletim sırasında TCP üstbilgisi, kullanıcıdan verilerin önüne yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1343">On transmission, TCP header is placed in front of the data from the user.</span></span> <span data-ttu-id="0fb2f-1344">Alma sırasında TCP üstbilgisi, gelen paketten kaldırılır ve yalnızca uygulamanın kullanabildiği Kullanıcı verileri bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1344">On reception, TCP header is removed from the incoming packet, leaving only the user data available to the application.</span></span> <span data-ttu-id="0fb2f-1345">TCP, paket ağda olduğunda TCP üst bilgisinin önünde bir IP üstbilgisi olduğu anlamına gelen paketleri göndermek ve almak için IP protokolünü kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1345">TCP utilizes the IP protocol to send and receive packets, which means there is an IP header in front of the TCP header when the packet is on the network.</span></span> <span data-ttu-id="0fb2f-1346">Şekil 13, TCP üstbilgisinin biçimini gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1346">Figure 13 shows the format of the TCP header.</span></span>

![TCP üst bilgi biçiminin diyagramı.](./media/user-guide/image22.png)

### <a name="figure-13-tcp-header"></a><span data-ttu-id="0fb2f-1348">ŞEKIL 13.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1348">FIGURE 13.</span></span> <span data-ttu-id="0fb2f-1349">TCP üst bilgisi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1349">TCP Header</span></span>

<span data-ttu-id="0fb2f-1350">Aşağıda TCP üst bilgi biçimi açıklanmaktadır:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1350">The following describes the TCP header format:</span></span>

|<span data-ttu-id="0fb2f-1351">Üst bilgi &nbsp; alanı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1351">Header&nbsp;Field</span></span> |<span data-ttu-id="0fb2f-1352">Amaç</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1352">Purpose</span></span> |
|------|------|
| <span data-ttu-id="0fb2f-1353">**16 bit kaynak bağlantı noktası numarası**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1353">**16-bit source port number**</span></span> | <span data-ttu-id="0fb2f-1354">Bu alan, TCP paketinin gönderilme bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1354">This field contains the port the TCP packet is being sent out on.</span></span> <span data-ttu-id="0fb2f-1355">Geçerli TCP bağlantı noktaları 1 ile 0xFFFF arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1355">Valid TCP ports range from 1 through 0xFFFF.</span></span> |
| <span data-ttu-id="0fb2f-1356">**16 bit hedef bağlantı noktası**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1356">**16-bit destination port**</span></span> | <span data-ttu-id="0fb2f-1357">Bu alan, paketin gönderildiği TCP bağlantı noktasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1357">This field contains the TCP port the packet is being sent to.</span></span> <span data-ttu-id="0fb2f-1358">Geçerli TCP bağlantı noktaları 1 ile 0xFFFF arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1358">Valid TCP ports range from 1 through 0xFFFF.</span></span> |
| <span data-ttu-id="0fb2f-1359">**32-bit sıra numarası**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1359">**32-bit sequence number**</span></span> | <span data-ttu-id="0fb2f-1360">Bu alan, bağlantının bu sonundan gönderilen verilerin sıra numarasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1360">This field contains the sequence number for data sent from this end of the connection.</span></span> <span data-ttu-id="0fb2f-1361">Özgün sıra, iki TCP düğümü arasındaki ilk bağlantı sırası sırasında oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1361">The original sequence is established during the initial connection sequence between two TCP nodes.</span></span> <span data-ttu-id="0fb2f-1362">Bu noktadan her veri aktarımı, gönderilen toplam bayt sayısına göre sıra numarası artışını elde ediyor.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1362">Every data transfer from that point results in an increment of the sequence number by the amount bytes sent.</span></span> |
| <span data-ttu-id="0fb2f-1363">**32-bit onay numarası**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1363">**32-bit acknowledgement number**</span></span> | <span data-ttu-id="0fb2f-1364">Bu alan, bağlantının bu tarafında alınan son bayta karşılık gelen sıra numarasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1364">This field contains the sequence number corresponding to the last byte received by this side of the connection.</span></span> <span data-ttu-id="0fb2f-1365">Bu, daha önce gönderilen verilerin bağlantının diğer ucundan başarıyla alındığını belirlemekte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1365">This is used to determine whether or not data previously sent has successfully been received by the other end of the connection.</span></span> |
| <span data-ttu-id="0fb2f-1366">**4 bit üst bilgi uzunluğu**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1366">**4-bit header length**</span></span> | <span data-ttu-id="0fb2f-1367">Bu alan, TCP üstbilgisindeki 32 bitlik sözcüklerin sayısını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1367">This field contains the number of 32-bit words in the TCP header.</span></span> <span data-ttu-id="0fb2f-1368">TCP üstbilgisinde bir seçenek yoksa, bu alan 5 ' tir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1368">If no options are present in the TCP header, this field is 5.</span></span> |
| <span data-ttu-id="0fb2f-1369">**6 bit kod bitleri**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1369">**6-bit code bits**</span></span> |<span data-ttu-id="0fb2f-1370">Bu alan, bağlantıyla ilişkili çeşitli denetim bilgilerini belirtmek için kullanılan altı farklı kod bitini içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1370">This field contains the six different code bits used to indicate various control information associated with the connection.</span></span> <span data-ttu-id="0fb2f-1371">Denetim bitleri şu şekilde tanımlanır: <br \> -URG (21): acil veri ön eki<br \> -ACK (20): onay numarası geçerli<br- \> PSH (19): bu verileri hemen işle<br- \> RST (18): bağlantıyı sıfırlayın<br- \> SYN (17): işlem numaralarını eşitler (bağlantı kurmak için kullanılır) <br \> -FIN (16): gönderici iletim ile tamamlandı (bağlantıyı kapatmak için kullanılır)</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1371">The control bits are defined as follows:<br \> - URG (21): Urgent data presen<br \> - ACK (20): Acknowledgement number is valid<br \> - PSH (19): Handle this data immediately<br \> - RST (18): Reset the connection<br \> - SYN (17): Synchronize sequence numbers (used to establish connection)<br \> - FIN (16): Sender is finished with transmit (used to close connection)</span></span> |
|<span data-ttu-id="0fb2f-1372">**16 bit pencere**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1372">**16-bit window**</span></span> |<span data-ttu-id="0fb2f-1373">Bu alan akış denetimi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1373">This field is used for flow control.</span></span> <span data-ttu-id="0fb2f-1374">Bu, yuvanın Şu anda alabileceği bayt miktarını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1374">It contains the amount of bytes the socket can currently receive.</span></span> <span data-ttu-id="0fb2f-1375">Bu temel olarak Flow denetimi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1375">This basically is used for flow control.</span></span> <span data-ttu-id="0fb2f-1376">Gönderen verilerin alıcının tanıtılan penceresine sığdırmasını sağlamaktan gönderici sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1376">The sender is responsible for making sure the data to send will fit into the receiver's advertised window.</span></span> |
|<span data-ttu-id="0fb2f-1377">**16 bit TCP sağlama toplamı**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1377">**16-bit TCP checksum**</span></span> |<span data-ttu-id="0fb2f-1378">Bu alan, paket için TCP üst bilgisi, paket veri alanı ve sözde IP üstbilgisi dahil olmak üzere 16 bit sağlama toplamı içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1378">This field contains the 16-bit checksum for the packet including the TCP header, the packet data area, and the pseudo IP header.</span></span> |
|<span data-ttu-id="0fb2f-1379">**16 bit acil işaretçi**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1379">**16-bit urgent pointer**</span></span> |<span data-ttu-id="0fb2f-1380">Bu alan, acil verilerin son baytının pozitif sapmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1380">This field contains the positive offset of the last byte of the urgent data.</span></span> <span data-ttu-id="0fb2f-1381">Bu alan yalnızca üst bilgide URG kod biti ayarlandıysa geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1381">This field is only valid if the URG code bit is set in the header.</span></span> |

> [!NOTE]  
> <span data-ttu-id="0fb2f-1382">*TCP/IP uygulamasındaki tüm üstbilgilerin **Big endian** biçimde olması beklenir. Bu biçimde, sözcüğün en önemli baytı en düşük bayt adresinde bulunur*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1382">*All headers in the TCP/IP implementation are expected to be in **big endian** format. In this format, the most significant byte of the word resides at the lowest byte address*.</span></span>

### <a name="tcp-enable"></a><span data-ttu-id="0fb2f-1383">TCP etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1383">TCP Enable</span></span>       
<span data-ttu-id="0fb2f-1384">TCP bağlantıları ve paket aktarımları mümkün olmadan önce, uygulamanın öncelikle ***nx_tcp_enable*** HIZMETINI çağırarak TCP 'yi etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1384">Before TCP connections and packet transmissions are possible, the application must first enable TCP by calling the ***nx_tcp_enable*** service.</span></span> <span data-ttu-id="0fb2f-1385">Etkinleştirildikten sonra, uygulama tüm TCP hizmetlerine erişmeye ücretsizdir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1385">After enabled, the application is free to access all TCP services.</span></span>  

### <a name="tcp-socket-create"></a><span data-ttu-id="0fb2f-1386">TCP yuvası oluşturma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1386">TCP Socket Create</span></span>    
<span data-ttu-id="0fb2f-1387">TCP yuvaları, başlatma sırasında veya çalışma zamanı sırasında uygulama iş parçacıkları tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1387">TCP sockets are created either during initialization or during runtime by application threads.</span></span> <span data-ttu-id="0fb2f-1388">Hizmetin başlangıç türü, yaşam süresi ve pencere boyutu ***nx_tcp_socket_create*** hizmeti tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1388">The initial type of service, time to live, and window size are defined by the ***nx_tcp_socket_create*** service.</span></span> <span data-ttu-id="0fb2f-1389">Bir uygulamadaki TCP yuvaları sayısında sınır yoktur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1389">There are no limits on the number of TCP sockets in an application.</span></span>  

### <a name="tcp-checksum"></a><span data-ttu-id="0fb2f-1390">TCP sağlama toplamı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1390">TCP Checksum</span></span>     
<span data-ttu-id="0fb2f-1391">TCP, IP sahte üstbilgisini (kaynak IP adresi, hedef IP adresi ve protokol/uzunluk IP sözcükten oluşan), TCP üstbilgisini ve TCP paketi verilerini içeren bir 16 bit tamamlama toplamı belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1391">TCP specifies a one's complement 16-bit checksum that covers the IP pseudo header, (consisting of the source IP address, destination IP address, and the protocol/length IP word), the TCP header, and the TCP packet data.</span></span> <span data-ttu-id="0fb2f-1392">IPv4 ve IPv6 TCP paket üst bilgisi sağlama toplamı arasındaki tek fark, kaynak ve hedef IP adreslerinin IPv6 'da IPv4 ve 128 bit içinde 32 bitleridir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1392">The only difference between IPv4 and IPv6 TCP packet header checksums is that the source and destination IP addresses are 32 bit in IPv4 and 128 bit in IPv6.</span></span> 

<span data-ttu-id="0fb2f-1393">Bazı ağ denetleyicileri donanımda TCP sağlama toplamı hesaplaması ve doğrulaması gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1393">Certain network controllers are able to perform TCP checksum computation and validation in hardware.</span></span> <span data-ttu-id="0fb2f-1394">Uygulamalar, bu tür sistemler için, çalışma zamanı yükünü azaltmak için mümkün olduğunca donanım sağlama mantığını kullanmak isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1394">For such systems, applications may want to use hardware checksum logic as much as possible to reduce runtime overhead.</span></span> <span data-ttu-id="0fb2f-1395">Uygulamalar, \***NX_DISABLE_TCP_TX_CHECKSUM** _ ve _ *_NX_DISABLE_TCP_RX_CHECKSUM_* \* tanımlayarak derleme zamanında NETX Duo kitaplığından tamamen TCP sağlama toplamı hesaplama mantığını devre dışı bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1395">Applications may disable TCP checksum computation logic from the NetX Duo library altogether at build time by defining ***NX_DISABLE_TCP_TX_CHECKSUM** _ and _*_NX_DISABLE_TCP_RX_CHECKSUM_\*\*.</span></span> <span data-ttu-id="0fb2f-1396">Bu şekilde, TCP sağlama toplamı kodu ' de derlenmez.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1396">This way, the TCP checksum code is not compiled in.</span></span> <span data-ttu-id="0fb2f-1397">Ancak, isteğe bağlı NetX Duo IPSec paketi yüklüyse ve TCP bağlantısının güvenli bir kanaldan geçiş yapması gerekebilmelidir, bunlardan biri dikkatli olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1397">However one should exercise caution if the optional NetX Duo IPsec package is installed, and the TCP connection may need to traverse through a secure channel.</span></span> <span data-ttu-id="0fb2f-1398">Bu durumda, TCP bağlantısına ait olan paketlerdeki veriler zaten şifrelenmiştir ve ağ sürücüsünde bulunan donanım TCP sağlama toplamı modülleri, şifrelenmiş TCP yükünden doğru sağlama toplamı değeri üretemiyor.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1398">In this case, data in packets belonging to the TCP connection is already encrypted, and most hardware TCP checksum modules present in the network driver are unable to generate correct checksum value from the encrypted TCP payload.</span></span>

<span data-ttu-id="0fb2f-1399">Bu sorunu gidermek için, uygulama TCP sağlama toplamı mantığını kitaplıkta tutar ve arabirim yetenek özelliğini kullanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1399">To address this issue, application shall keep the TCP checksum logic available in the library and use the interface capability feature.</span></span> <span data-ttu-id="0fb2f-1400">Arabirim özelliği özelliği etkinken, TCP modülü, sürücü sağlama toplamı değerini de hesaplabiliyorsa, TCP sağlama toplamını nasıl doğru şekilde işleyeceğinizi bilir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1400">With interface capability feature enabled, the TCP module knows how to properly handle the TCP checksum if the driver is also able to compute the checksum value:</span></span>

1) <span data-ttu-id="0fb2f-1401">TCP paketi IPSec işlemine bağlı değilse, ağ arabirimi donanımı sağlama toplamını hesaplamayabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1401">If the TCP packet is not subject to IPsec process, the network interface hardware is able to compute the checksum.</span></span> <span data-ttu-id="0fb2f-1402">Bu nedenle TCP modülü sağlama toplamını hesaplama girişiminde bulunmaz;</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1402">Therefore the TCP module does not attempt to compute the checksum;</span></span>

2) <span data-ttu-id="0fb2f-1403">IPSec paketi yüklüyse ve TCP paketi IPSec işlemine tabidir, TCP modülü, paketi IPSec katmanına göndermeden önce yazılımda sağlama toplamını hesaplar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1403">If IPsec package is installed, and the TCP packet is subject to IPsec process, the TCP module computes checksum in software before sending the packet to IPsec layer.</span></span>

### <a name="tcp-port"></a><span data-ttu-id="0fb2f-1404">TCP Bağlantı Noktası</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1404">TCP Port</span></span>     
<span data-ttu-id="0fb2f-1405">TCP bağlantı noktası, TCP protokolünde bir mantıksal bağlantı noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1405">A TCP port is a logical connection point in the TCP protocol.</span></span> <span data-ttu-id="0fb2f-1406">NetX Duo TCP bileşeninde, 1 ile 0xFFFF arasında 65.535 geçerli bağlantı noktası vardır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1406">There are 65,535 valid ports in the TCP component of NetX Duo, ranging from 1 through 0xFFFF.</span></span> <span data-ttu-id="0fb2f-1407">Bir bağlantı noktasındaki verilerin diğer hedef bağlantı noktalarına gönderilebileceği UDP 'nin aksine, bir TCP bağlantı noktasının başka bir belirli TCP bağlantı noktasına bağlı olması ve yalnızca bu bağlantı kurulduğu zaman, bağlantıyı oluşturan iki bağlantı noktası arasında olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1407">Unlike UDP in which data from one port can be sent to any other destination port, a TCP port is connected to another specific TCP port, and only when this connection is established can any data transfer take place—and only between the two ports making up the connection.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-1408">*TCP bağlantı noktaları UDP bağlantı noktalarından tamamen ayrıdır; örn. UDP bağlantı noktası numarası 1, TCP bağlantı noktası numarası 1 ile hiçbir ilişkiye sahip değildir*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1408">*TCP ports are completely separate from UDP ports; e.g., UDP port number 1 has no relation to TCP port number 1*.</span></span>

### <a name="client-server-model"></a><span data-ttu-id="0fb2f-1409">Client-Server modeli</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1409">Client-Server Model</span></span>     
<span data-ttu-id="0fb2f-1410">Veri aktarımı için TCP kullanmak üzere iki TCP yuvası arasında bir bağlantı kurulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1410">To use TCP for data transfer, a connection must first be established between the two TCP sockets.</span></span> <span data-ttu-id="0fb2f-1411">Bağlantının kurulması, istemci-sunucu düzeyinde yapılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1411">The establishment of the connection is done in a client-server fashion.</span></span> <span data-ttu-id="0fb2f-1412">Bağlantının istemci tarafı bağlantıyı başlatan tarafdayken, sunucu tarafı herhangi bir işlem yapılmadan önce istemci bağlantı isteklerini bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1412">The client side of the connection is the side that initiates the connection, while the server side simply waits for client connection requests before any processing is done.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fb2f-1413">*Çok kaynaklı cihazlarda, NetX Duo bağlantı için kullanılacak kaynak adresini ve bağlantının hedef IP adresine göre sonraki atlama adresini otomatik olarak belirler. TCP, tek noktaya yayın (örneğin, yayın olmayan) hedef adreslerine paket göndermeye sınırlı olduğundan, NetX Duo kaynak IPv6 adresini seçmek için bir "ipucu" gerektirmez*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1413">*For multihome devices, NetX Duo automatically determines the source address to use for the connection, and the next hop address based on the destination IP address of the connection. Because TCP is limited to sending packets to unicast (e.g.nonbroadcast) destination addresses, NetX Duo does not require a "hint" for choosing the source IPv6 address*.</span></span>

### <a name="tcp-socket-state-machine"></a><span data-ttu-id="0fb2f-1414">TCP yuva durumu makinesi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1414">TCP Socket State Machine</span></span>      
<span data-ttu-id="0fb2f-1415">İki TCP yuvası (bir istemci ve bir sunucu) arasındaki bağlantı karmaşıktır ve bir durum makinesi halinde yönetilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1415">The connection between two TCP sockets (one client and one server) is complex and is managed in a state machine manner.</span></span> <span data-ttu-id="0fb2f-1416">Her TCP yuvası kapalı bir durumda başlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1416">Each TCP socket starts in a CLOSED state.</span></span> <span data-ttu-id="0fb2f-1417">Bağlantı olayları aracılığıyla her bir yuvanın durum makinesi, TCP 'deki veri aktarımının toplu olarak gerçekleştiği, kurulan duruma geçirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1417">Through connection events each socket's state machine migrates into the ESTABLISHED state, which is where the bulk of the data transfer in TCP takes place.</span></span> <span data-ttu-id="0fb2f-1418">Bağlantının bir tarafı artık veri göndermek istediğinde, bağlantısını keser.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1418">When one side of the connection no longer wishes to send data, it disconnects.</span></span> <span data-ttu-id="0fb2f-1419">Diğer tarafın bağlantısı kesildiğinde, TCP yuvası kapalı duruma geri döner.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1419">After the other side disconnects, eventually the TCP socket returns to the CLOSED state.</span></span> <span data-ttu-id="0fb2f-1420">Bu işlem, bir TCP istemcisi ve sunucusu bir bağlantı kurup her kapatışınızda yinelenir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1420">This process repeats each time a TCP client and server establish and close a connection.</span></span> <span data-ttu-id="0fb2f-1421">Şekil 14 ' te TCP durum makinesinin çeşitli durumları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1421">Figure 14 shows the various states of the TCP state machine.</span></span>

### <a name="tcp-client-connection"></a><span data-ttu-id="0fb2f-1422">TCP Istemci bağlantısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1422">TCP Client Connection</span></span>       
<span data-ttu-id="0fb2f-1423">Daha önce belirtildiği gibi, TCP bağlantısının istemci tarafı bir TCP sunucusuna bağlantı isteği başlatır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1423">As mentioned previously, the client side of the TCP connection initiates a connection request to a TCP server.</span></span> <span data-ttu-id="0fb2f-1424">Bir bağlantı isteğinin yapılabilmesi için, istemci IP örneğinde TCP 'nin etkinleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1424">Before a connection request can be made, TCP must be enabled on the client IP instance.</span></span> <span data-ttu-id="0fb2f-1425">Ayrıca, istemci TCP yuvasının daha sonra ***nx_tcp_socket_create** _ hizmeti ile oluşturulması ve _ *_nx_tcp_client_socket_bind_** hizmeti aracılığıyla bir bağlantı noktasına bağlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1425">In addition, the client TCP socket must next be created with the ***nx_tcp_socket_create** _ service and bound to a port via the _ *_nx_tcp_client_socket_bind_** service.</span></span>

<span data-ttu-id="0fb2f-1426">İstemci yuvası bağlandıktan sonra, bir TCP sunucusuyla bağlantı kurmak için ***nxd_tcp_client_socket_connect*** hizmeti kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1426">After the client socket is bound, the ***nxd_tcp_client_socket_connect*** service is used to establish a connection with a TCP server.</span></span> <span data-ttu-id="0fb2f-1427">Bir bağlantı denemesi başlatmak için yuvanın kapalı durumda olması gerektiğini aklınızda olun.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1427">Note the socket must be in a CLOSED state to initiate a connection attempt.</span></span> <span data-ttu-id="0fb2f-1428">Bağlantı kurma, NetX Duo ile başlar ve sonra bağlantı isteğinin kabul edildiğini belirten bir SYN ACK paketini sunucudan geri bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1428">Establishing the connection starts with NetX Duo issuing a SYN packet and then waiting for a SYN ACK packet back from the server, which signifies acceptance of the connection request.</span></span> <span data-ttu-id="0fb2f-1429">SYN ACK alındıktan sonra NetX Duo bir ACK paketiyle yanıt verir ve istemci yuvasını belırlenen duruma yükseltir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1429">After the SYN ACK is received, NetX Duo responds with an ACK packet and promotes the client socket to the ESTABLISHED state.</span></span>

![TCP durum makinesinin durumlarının diyagramı.](./media/user-guide/image24.png)   

<span data-ttu-id="0fb2f-1431">**ŞEKIL 14. TCP durum makinesinin durumları**</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1431">**FIGURE 14. States of the TCP State Machine**</span></span>


> [!WARNING]
> <span data-ttu-id="0fb2f-1432">*Uygulamalar IPv4 ve ıPV6 TCP bağlantıları için **nxd_tcp_client_socket_connect** kullanmalıdır. Uygulamalar IPv4 TCP bağlantıları için **nx_tcp_client_socket_connect** kullanmaya devam edebilir, ancak **nx_tcp_client_socket_connect** sonunda kullanım dışı olacağı için geliştiricilerin **nxd_tcp_client_socket_connect** kullanmaları önerilir*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1432">*Applications should use **nxd_tcp_client_socket_connect** for either IPv4 and IPv6 TCP connections. Applications can still use **nx_tcp_client_socket_connect** for IPv4 TCP connections, but developers are encouraged to use **nxd_tcp_client_socket_connect** since **nx_tcp_client_socket_connect** will eventually be deprecated*.</span></span>

<span data-ttu-id="0fb2f-1433">*Benzer şekilde, **nxd_tcp_socket_peer_info_get** ıPV4 veya IPv6 TCP bağlantılarıyla da çalışır. Ancak, **nx_tcp_socket_peer_info_get** eski uygulamalar için hala kullanılabilir. Geliştiricilerin öne geçmek **nxd_tcp_socket_peer_info_get** kullanmaları önerilir*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1433">*Similarly, **nxd_tcp_socket_peer_info_get** works with either IPv4 or IPv6 TCP connections. However, **nx_tcp_socket_peer_info_get** is still available for legacy applications. Developers are encouraged to use **nxd_tcp_socket_peer_info_get** going forward*.</span></span>

### <a name="tcp-client-disconnection"></a><span data-ttu-id="0fb2f-1434">TCP Istemcisi bağlantısı kesilmesi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1434">TCP Client Disconnection</span></span>    
<span data-ttu-id="0fb2f-1435">Bağlantıyı kapatmak ***nx_tcp_socket_disconnect*** çağırarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1435">Closing the connection is accomplished by calling ***nx_tcp_socket_disconnect***.</span></span> <span data-ttu-id="0fb2f-1436">Askıya alma belirtilmemişse, istemci yuvası sunucu yuvasına bir RST paketi gönderir ve yuvayı kapalı duruma koyar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1436">If no suspension is specified, the client socket sends a RST packet to the server socket and places the socket in the CLOSED state.</span></span> <span data-ttu-id="0fb2f-1437">Aksi takdirde, askıya alma isteniyorsa, tam TCP bağlantı kesme protokolü aşağıdaki gibi gerçekleştirilir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1437">Otherwise, if a suspension is requested, the full TCP disconnect protocol is performed, as follows:</span></span> 

- <span data-ttu-id="0fb2f-1438">Sunucu daha önce bir bağlantı kesme isteği başlatmışsa (istemci soketi bir FIN paketi zaten aldıysa, bir ACK ile yanıtladı ve kapatma bekleme durumundaysa), NetX Duo istemci TCP yuvası durumunu son ACK durumuna yükseltir ve bir FIN paketi gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1438">If the server previously initiated a disconnect request (the client socket has already received a FIN packet, responded with an ACK, and is in the CLOSE WAIT state), NetX Duo promotes the client TCP socket state to the LAST ACK state and sends a FIN packet.</span></span> <span data-ttu-id="0fb2f-1439">Ardından, bağlantıyı kesmeden ve kapalı durumu girerek sunucudan bir ACK 'i bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1439">It then waits for an ACK from the server before completing the disconnect and entering the CLOSED state.</span></span>

- <span data-ttu-id="0fb2f-1440">Öte yandan istemci, bir bağlantı kesme isteği başlatmakta (sunucu bağlantısı kesilmemiştir ve yuva hala kurulu durumdaysa), NetX Duo bağlantı kesmeyi başlatmak için bir FIN paketi gönderir ve bağlantı kesmeyi tamamlamadan ve yuvayı kapalı bir duruma yerleştirerek sunucudan bir FIN ve bir ACK alıp almamayı bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1440">If on the other hand, the client is the first to initiate a disconnect request (the server has not disconnected and the socket is still in the ESTABLISHED state), NetX Duo sends a FIN packet to initiate the disconnect and waits to receive a FIN and an ACK from the server before completing the disconnect and placing the socket in a CLOSED state.</span></span>

<span data-ttu-id="0fb2f-1441">Yuva iletme kuyruğunda hala paketler varsa, NetX Duo, paketlerin onaylanılmasına izin vermek için belirtilen zaman aşımı süresini askıya alır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1441">If there are still packets on the socket transmit queue, NetX Duo suspends for the specified timeout to allow the packets to be acknowledged.</span></span> <span data-ttu-id="0fb2f-1442">Zaman aşımı süresi dolarsa NetX Duo, istemci yuvasının iletim sırasını boşaltır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1442">If the timeout expires, NetX Duo empties the transmit queue of the client socket.</span></span> 

<span data-ttu-id="0fb2f-1443">İstemci yuvasıyla bağlantı noktasının bağlantısını kesmek için uygulama ***nx_tcp_client_socket_unbind*** çağırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1443">To unbind the port from the client socket, the application calls ***nx_tcp_client_socket_unbind***.</span></span> <span data-ttu-id="0fb2f-1444">Yuva, bağlantı noktası yayınlanmadan önce kapalı durumda veya bağlantısının kesilmesi (örneğin, SÜRELI bekleme durumu) işleminde olmalıdır; Aksi takdirde bir hata döndürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1444">The socket must be in a CLOSED state or in the process of disconnecting (i.e., TIMED WAIT state) before the port is released; otherwise, an error is returned.</span></span>

<span data-ttu-id="0fb2f-1445">Son olarak, uygulama artık istemci yuvasına ihtiyaç duymuyorsa, yuvasını silmek için ***nx_tcp_socket_delete*** çağırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1445">Finally, if the application no longer needs the client socket, it calls ***nx_tcp_socket_delete*** to delete the socket.</span></span>

### <a name="tcp-server-connection"></a><span data-ttu-id="0fb2f-1446">TCP sunucusu bağlantısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1446">TCP Server Connection</span></span>      
<span data-ttu-id="0fb2f-1447">TCP bağlantısının sunucu tarafı pasif olur; Yani, sunucu bir istemcinin bağlantı isteği başlatmasını bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1447">The server side of a TCP connection is passive; i.e., the server waits for a client to initiate connection request.</span></span> <span data-ttu-id="0fb2f-1448">İstemci bağlantısını kabul etmek için, önce TCP **nx_tcp_enable** _ HIZMETINI çağırarak IP örneğinde TCP 'nin etkinleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1448">To accept a client connection, TCP must first be enabled on the IP instance by calling the service \***nx_tcp_enable** _.</span></span> <span data-ttu-id="0fb2f-1449">Daha sonra, uygulamanın _ *_nx_tcp_socket_create_*\* hizmetini kullanarak bir TCP yuvası oluşturması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1449">Next, the application must create a TCP socket using the _ *_nx_tcp_socket_create_*\* service.</span></span>  

<span data-ttu-id="0fb2f-1450">Sunucu yuvası, bağlantı isteklerini dinlemek için de ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1450">The server socket must also be set up for listening for connection requests.</span></span> <span data-ttu-id="0fb2f-1451">Bu, ***nx_tcp_server_socket_listen*** hizmeti kullanılarak elde edilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1451">This is achieved by using the ***nx_tcp_server_socket_listen*** service.</span></span> <span data-ttu-id="0fb2f-1452">Bu hizmet, sunucu yuvasını dınleme durumuna koyar ve belirtilen sunucu bağlantı noktasını yuvaya bağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1452">This service places the server socket in the LISTEN state and binds the specified server port to the socket.</span></span>

> [!NOTE] 
> <span data-ttu-id="0fb2f-1453">*Bir yuva dinleme geri çağırma yordamı ayarlamak için, uygulama **nx_tcp_server_socket_listen** hizmetinin tcp_listen_callback bağımsız değişkeni için uygun geri çağırma işlevini belirtir. Bu uygulama geri çağırma işlevi, bu sunucu bağlantı noktasında her yeni bağlantı istendiğinde NetX Duo tarafından yürütülür. Geri çağırmada işlem uygulama denetimi altında.*</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1453">*To set a socket listen callback routine the application specifies the appropriate callback function for the tcp_listen_callback argument of the **nx_tcp_server_socket_listen** service. This application callback function is then executed by NetX Duo whenever a new connection is requested on this server port. The processing in the callback is under application control.*</span></span>

<span data-ttu-id="0fb2f-1454">İstemci bağlantı isteklerini kabul etmek için, uygulama \***nx_tcp_server_socket_accept** _ hizmetini çağırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1454">To accept client connection requests, the application calls the \***nx_tcp_server_socket_accept** _ service.</span></span> <span data-ttu-id="0fb2f-1455">Sunucu yuvası, bir dınleme durumunda ya da SYN ALıNDı durumunda olmalıdır (yani, sunucu dınleme durumunda ve bağlantı isteyen bir istemciden bir SYN paketi aldı), kabul etme hizmetini çağırmak için.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1455">The server socket must either be in a LISTEN state or a SYN RECEIVED state (i.e., the server is in the LISTEN state and has received a SYN packet from a client requesting a connection) to call the accept service.</span></span> <span data-ttu-id="0fb2f-1456">_ *_Nx_tcp_server_socket_accept_*\* öğesinden başarılı bir dönüş durumu, bağlantının ayarlandığını ve sunucu yuvasının kurulu durumda olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1456">A successful return status from _ *_nx_tcp_server_socket_accept_*\* indicates the connection has been set up and the server socket is in the ESTABLISHED state.</span></span>

<span data-ttu-id="0fb2f-1457">Sunucu yuvasının geçerli bir bağlantısı olduktan sonra, ek istemci bağlantı istekleri listen_queue_size tarafından belirtilen derinliğe kadar sıraya alınır *ve*  \* **nx_tcp_server_socket_listen** _ hizmetine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1457">After the server socket has a valid connection, additional client connection requests are queued up to the depth specified by the *listen_queue_size, passed into the* \***nx_tcp_server_socket_listen** _ service.</span></span> <span data-ttu-id="0fb2f-1458">Bir sunucu bağlantı noktasında sonraki bağlantıları işlemek için, uygulama _ *_nx_tcp_server_socket_relisten_*\* öğesini kullanılabilir bir yuva (yani kapalı durumda olan bir yuva) ile çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1458">In order to process subsequent connections on a server port, the application must call _ *_nx_tcp_server_socket_relisten_*\* with an available socket (i.e., a socket in a CLOSED state).</span></span> <span data-ttu-id="0fb2f-1459">Yuva ile ilişkili önceki bağlantı artık tamamlanıp ve yuva kapalı durumdaysa aynı sunucu yuvasının kullanılabileceğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1459">Note that the same server socket could be used if the previous connection associated with the socket is now finished and the socket is in the CLOSED state.</span></span>

### <a name="tcp-server-disconnection"></a><span data-ttu-id="0fb2f-1460">TCP sunucusu bağlantısının kesilmesi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1460">TCP Server Disconnection</span></span>     
<span data-ttu-id="0fb2f-1461">Bağlantıyı kapatmak ***nx_tcp_socket_disconnect*** çağırarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1461">Closing the connection is accomplished by calling ***nx_tcp_socket_disconnect***.</span></span> <span data-ttu-id="0fb2f-1462">Askıya alma belirtilmemişse, sunucu yuvası istemci yuvasına bir RST paketi gönderir ve yuvayı kapalı duruma koyar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1462">If no suspension is specified, the server socket sends a RST packet to the client socket and places the socket in the CLOSED state.</span></span> <span data-ttu-id="0fb2f-1463">Aksi takdirde, askıya alma isteniyorsa, tam TCP bağlantı kesme protokolü aşağıdaki gibi gerçekleştirilir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1463">Otherwise, if a suspension is requested, the full TCP disconnect protocol is performed, as follows:</span></span>

- <span data-ttu-id="0fb2f-1464">İstemci daha önce bir bağlantı kesme isteği başlatmışsa (sunucu yuvası zaten bir FIN paketi aldıysa, bir ACK ile yanıtladı ve kapatma bekleme durumundaysa), NetX Duo TCP yuva durumunu son ACK durumuna yükseltir ve bir FIN paketi gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1464">If the client previously initiated a disconnect request (the server socket has already received a FIN packet, responded with an ACK, and is in the CLOSE WAIT state), NetX Duo promotes the TCP socket state to the LAST ACK state and sends a FIN packet.</span></span> <span data-ttu-id="0fb2f-1465">Ardından, bağlantıyı kesmeden ve kapalı durumu girerek istemciden bir ACK 'i bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1465">It then waits for an ACK from the client before  completing the disconnect and entering the CLOSED state.</span></span>

- <span data-ttu-id="0fb2f-1466">Öte yandan sunucu, bir bağlantı kesme isteği başlatmakta (istemcinin bağlantısı kesilmemiştir ve yuva hala kurulu durumdaysa), NetX Duo bağlantı kesmeyi başlatmak için bir FIN paketi gönderir ve bağlantı kesmeyi tamamlamadan ve yuvayı kapalı bir duruma yerleştirerek istemciden bir el ile onay alıp almamayı bekler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1466">If on the other hand, the server is the first to initiate a disconnect request (the client has not disconnected and the socket is still in the ESTABLISHED state), NetX Duo sends a FIN packet to initiate the disconnect and waits to receive a FIN and an ACK from the client before completing the disconnect and placing the socket in a CLOSED state.</span></span>

<span data-ttu-id="0fb2f-1467">Yuva iletme kuyruğunda hala paketler varsa, NetX Duo bu paketlerin onaylanılmasına izin vermek için belirtilen zaman aşımı süresini askıya alır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1467">If there are still packets on the socket transmit queue, NetX Duo suspends for the specified timeout to allow those packets to be acknowledged.</span></span> <span data-ttu-id="0fb2f-1468">Zaman aşımı süresi dolarsa NetX Duo, sunucu yuvasının iletim sırasını temizler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1468">If the timeout expires, NetX Duo flushes the transmit queue of the server socket.</span></span>

<span data-ttu-id="0fb2f-1469">Bağlantı kesme işlemi tamamlandıktan ve sunucu yuvası kapalı durumdaysa, Bu yuvanın sunucu bağlantı noktasıyla ilişkilendirmesini sonlandırmak için uygulamanın \***nx_tcp_server_socket_unaccept** _ hizmetini çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1469">After the disconnect processing is complete and the server socket is in the CLOSED state, the application must call the \***nx_tcp_server_socket_unaccept** _ service to end the association of this socket with the server port.</span></span> <span data-ttu-id="0fb2f-1470">_*_Nx_tcp_socket_disconnect_*_ veya _*_nx_tcp_server_socket_accept_*_ bir hata durumu döndürmesi durumunda bile bu hizmetin uygulama tarafından çağrılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1470">Note this service must be called by the application even if _*_nx_tcp_socket_disconnect_*_ or _*_nx_tcp_server_socket_accept_*_ return an error status.</span></span> <span data-ttu-id="0fb2f-1471">_*_Nx_tcp_server_socket_unaccept_*_ çağrıldıktan sonra, yuva istemci veya sunucu yuvası olarak kullanılabilir veya artık gerekmiyorsa silinebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1471">After the _*_nx_tcp_server_socket_unaccept_*_ returns, the socket can be used as a client or server socket, or even deleted if it is no longer needed.</span></span> <span data-ttu-id="0fb2f-1472">Aynı sunucu bağlantı noktasında başka bir istemci bağlantısını kabul etmeniz isteniyorsa, bu yuvada _ *_nx_tcp_server_socket_relisten_*\* hizmeti çağrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1472">If accepting another client connection on the same server port is desired, the _ *_nx_tcp_server_socket_relisten_*\* service should be called on this socket.</span></span>

<span data-ttu-id="0fb2f-1473">Aşağıdaki kod segmenti tipik bir TCP sunucusunun kullandığı çağrıların dizisini gösterir:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1473">The following code segment illustrates the sequence of calls a typical TCP server uses:</span></span>

```c
/* Set up a previously created TCP socket to
   listen on port 12 */
nx_tcp_server_socket_listen()

/* Loop to make a (another) connection. */
while(1)
{
    /* Wait for a client socket connection request
       for 100 ticks. */
    nx_tcp_server_socket_accept();

    /* (Send and receive TCP messages with the TCP
       client) */

    /* Disconnect the server socket. */
    nx_tcp_socket_disconnect();

    /* Remove this server socket from listening on
       the port. */
    nx_tcp_server_socket_unaccept(&server_socket);
    /* Set up server socket to relisten on the
       same port for the next client. */
    nx_tcp_server_socket_relisten();
}
```

### <a name="mss-validation"></a><span data-ttu-id="0fb2f-1474">, Bu doğrulama</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1474">MSS Validation</span></span>      
<span data-ttu-id="0fb2f-1475">En büyük kesim boyutu (Bu), TCP ana bilgisayarının, temel alınan IP katmanı tarafından parçalanmadan alabileceği en yüksek bayt miktarıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1475">The Maximum Segment Size (MSS) is the maximum amount of bytes a TCP host can receive without being fragmented by the underlying IP layer.</span></span> <span data-ttu-id="0fb2f-1476">TCP bağlantı kurma aşaması sırasında, gönderenin, alıcının alt bileşenlerinden daha büyük bir TCP veri segmenti göndermemesi için kendi TCP sahip olduğu değeri her iki sona erer.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1476">During TCP connection establishment phase, both ends exchanges its own TCP MSS value, so that the sender does not send a TCP data segment that is larger than the receiver's MSS.</span></span> <span data-ttu-id="0fb2f-1477">NetX Duo TCP modülü, bir bağlantı kurmadan önce, eşin tanıtılan bir değeri isteğe bağlı olarak doğrular.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1477">NetX Duo TCP module will optionally validate its peer's advertised MSS value before establishing a connection.</span></span> <span data-ttu-id="0fb2f-1478">Varsayılan olarak NetX Duo bu tür bir denetimi etkinleştirmez.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1478">By default NetX Duo does not enable such a check.</span></span> <span data-ttu-id="0fb2f-1479">En az bir NetX Duo kitaplığı oluştururken ve en düşük değer _*_NX_TCP_MSS_MINIMUM_*_ tanımlanmak için, bu, bir, ve bu doğrulamayı gerçekleştirmek isteyen uygulamalar \***NX_ENABLE_TCP_MSS_CHECK** _ tanımlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1479">Applications wishing to perform MSS validation shall define ***NX_ENABLE_TCP_MSS_CHECK** _ when building the NetX Duo library, and the minimum value shall be defined in _*_NX_TCP_MSS_MINIMUM_\*_.</span></span> <span data-ttu-id="0fb2f-1480">_ *_NX_TCP_MSS_MINIMUM_*\* altındaki, bu değerleri IÇEREN gelen TCP bağlantıları bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1480">Incoming TCP connections with MSS values below _ *_NX_TCP_MSS_MINIMUM_*\* are dropped.</span></span>

### <a name="stop-listening-on-a-server-port"></a><span data-ttu-id="0fb2f-1481">Sunucu bağlantı noktasında dinlemeyi durdur</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1481">Stop Listening on a Server Port</span></span>    
<span data-ttu-id="0fb2f-1482">Uygulama, daha önce ***nx_tcp_server_socket_listen** _ hizmeti çağrısıyla belirtilen bir sunucu bağlantı noktasındaki istemci bağlantı isteklerini dinlemek isterse, uygulama yalnızca _ *_nx_tcp_server_socket_unlisten_** hizmetini çağırır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1482">If the application no longer wishes to listen for client connection requests on a server port that was previously specified by a call to the ***nx_tcp_server_socket_listen** _ service, the application simply calls the _ *_nx_tcp_server_socket_unlisten_** service.</span></span> <span data-ttu-id="0fb2f-1483">Bu hizmet, bir bağlantıyı kapalı durumunda geri bekleyen bir yuva koyar ve sıraya alınan istemci bağlantı isteği paketlerini serbest bırakır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1483">This service places any socket waiting for a connection back in the CLOSED state and releases any queued client connection request packets.</span></span> 

### <a name="tcp-window-size"></a><span data-ttu-id="0fb2f-1484">TCP pencere boyutu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1484">TCP Window Size</span></span>   
<span data-ttu-id="0fb2f-1485">Bağlantının kurulum ve veri aktarımı aşamaları sırasında, her bağlantı noktası işleyebileceği veri miktarını rapor edebilir ve bu, pencere boyutu olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1485">During both the setup and data transfer phases of the connection, each port reports the amount of data it can handle, which is called its window size.</span></span> <span data-ttu-id="0fb2f-1486">Veriler alınıp işlendiğinde, bu pencere boyutu dinamik olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1486">As data are received and processed, this window size is adjusted dynamically.</span></span> <span data-ttu-id="0fb2f-1487">TCP 'de, gönderici yalnızca alıcının penceresine sığan veri miktarı gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1487">In TCP, a sender can only send an amount of data that fits into the receiver's window.</span></span> <span data-ttu-id="0fb2f-1488">Esas olarak pencere boyutu, bağlantının her yönünde veri aktarımı için akış denetimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1488">In essence, the window size provides flow control for data transfer in each direction of the connection.</span></span>   

### <a name="tcp-packet-send"></a><span data-ttu-id="0fb2f-1489">TCP paketi gönderme</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1489">TCP Packet Send</span></span>     
<span data-ttu-id="0fb2f-1490">TCP verilerinin gönderilmesi ***nx_tcp_socket_send*** işlevi çağırarak kolayca gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1490">Sending TCP data is easily accomplished by calling the ***nx_tcp_socket_send*** function.</span></span> <span data-ttu-id="0fb2f-1491">Aktarılan verilerin boyutu, yuvanın sahip olduğu değerin veya geçerli eş alma penceresi boyutunun (hangisi daha küçükse) daha büyükse, iletim için en az (örneğin, eş alma penceresi) olan verileri, TCP iç mantığını kapatır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1491">If the size of the data being transmitted is larger than the MSS value of the socket or the current peer receive window size, whichever is smaller, TCP internal logic carves off the data that fits into min (MSS, peer receive Window) for transmission.</span></span> <span data-ttu-id="0fb2f-1492">Bu hizmet daha sonra paketin önünde (sağlama toplamı hesaplaması dahil) bir TCP üst bilgisi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1492">This service then builds a TCP header in front of the packet (including the checksum calculation).</span></span> <span data-ttu-id="0fb2f-1493">Alıcının pencere boyutu sıfır değilse, çağıran alıcının pencere boyutunu dolduracağı kadar veri gönderir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1493">If the receiver's window size is not zero, the caller will send as much data as it can to fill up the receiver window size.</span></span> <span data-ttu-id="0fb2f-1494">Alma penceresi sıfır olursa, çağıran, bu paketin gönderilmesi için alıcının pencere boyutunun yeterince artırılmasına izin verebilir ve bu işlemin boyutunu bekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1494">If the receive window becomes zero, the caller may suspend and wait for the receiver's window size to increase enough for this packet to be sent.</span></span> <span data-ttu-id="0fb2f-1495">Belirli bir zamanda, aynı yuva üzerinden veri gönderilmeye çalışılırken birden çok iş parçacığı askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1495">At any given time, multiple threads may suspend while trying to send data through the same socket.</span></span> 

> [!WARNING]  
> <span data-ttu-id="0fb2f-1496">*NX_PACKET yapısında bulunan TCP verileri uzun bir sözcük sınırında bulunmalıdır. Buna ek olarak, TCP, IP ve fiziksel medya üstbilgilerini yerleştirmek için önüne işaretçisi ve veri başlangıç işaretçisi arasında yeterli alan olması gerekir*.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1496">*The TCP data residing in the NX_PACKET structure should reside on a long-word boundary. In addition, there needs to be sufficient space between the prepend pointer and the data start pointer to place the TCP, IP, and physical media headers*.</span></span>

### <a name="tcp-packet-retransmit"></a><span data-ttu-id="0fb2f-1497">TCP paketi yeniden aktarım</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1497">TCP Packet Retransmit</span></span>      
<span data-ttu-id="0fb2f-1498">Daha önce gönderilen TCP paketleri, bağlantının diğer tarafından bir ACK döndürülünceye kadar dahili olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1498">Previously transmitted TCP packets sent actually stored internally until an ACK is returned from the other side of the connection.</span></span> <span data-ttu-id="0fb2f-1499">Aktarılan veriler zaman aşımı süresi içinde onaylanmazsa, depolanan paket yeniden gönderilir ve sonraki zaman aşımı süresi ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1499">If transmitted data is not acknowledged within the timeout period, the stored packet is re-sent and the next timeout period is set.</span></span> <span data-ttu-id="0fb2f-1500">Bir ACK alındığında, iç aktarım sırasındaki onay numarası kapsamındaki tüm paketler son olarak serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1500">When an ACK is received, all packets covered by the acknowledgement number in the internal transmit queue are finally released.</span></span>  

> [!WARNING]   
> <span data-ttu-id="0fb2f-1501">*Uygulama, paketi yeniden kullanmamalıdır veya nx_tcp_socket_send () NX_SUCCESS geri döndüğünde paketin içeriğini değiştirmeyecektir. İletilen paket son olarak NetX Duo iç işleme tarafından, veriler diğer bir uçtan onaylandıktan sonra serbest* bırakılır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1501">*Application shall not reuse the packet or alter the contents of the packet after nx_tcp_socket_send() returns with NX_SUCCESS. The transmitted packet is eventually released by NetX Duo internal processing after the data is acknowledged by the other end*.</span></span>

### <a name="tcp-keepalive"></a><span data-ttu-id="0fb2f-1502">TCP KeepAlive</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1502">TCP Keepalive</span></span>     
<span data-ttu-id="0fb2f-1503">TCP KeepAlive özelliği, bir yuvanın, doğru sonlandırma olmadan (örneğin, eşler kilitlendi) veya belirli ağ izleme tesislerinin uzun süreler için bir bağlantıyı sonlandırmasını engellemek için bir yuva sağlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1503">TCP Keepalive feature allows a socket to detect whether or not its peer disconnects without proper termination (for example, the peer crashed), or to prevent certain network monitoring facilities to terminate a connection for long periods of idle.</span></span> <span data-ttu-id="0fb2f-1504">TCP KeepAlive, veri içermeyen bir TCP çerçevesi göndererek ve sıra numarası geçerli sıra numarasından bir daha az olacak şekilde, düzenli aralıklarla işe yarar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1504">TCP Keepalive works by periodically sending a TCP frame with no data, and the sequence number set to one less than the current sequence number.</span></span> <span data-ttu-id="0fb2f-1505">Bu tür TCP KeepAlive çerçevesini alırken alıcı, hala etkin ise geçerli sıra numarası için bir ACK ile yanıtlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1505">On receiving such TCP Keepalive frame, the recipient, if still alive, responses with an ACK for its current sequence number.</span></span> <span data-ttu-id="0fb2f-1506">Bu işlem, KeepAlive işlemini tamamlar.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1506">This completes the keepalive transaction.</span></span>  

<span data-ttu-id="0fb2f-1507">Varsayılan olarak, KeepAlive özelliği etkin değildir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1507">By default the keepalive feature is not enabled.</span></span> <span data-ttu-id="0fb2f-1508">Bu özelliği kullanmak için NetX Duo Kitaplığı \***NX_ENABLE_TCP_KEEPALIVE** _ tanımlı ile oluşturulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1508">To use this feature, NetX Duo library must be built with \***NX_ENABLE_TCP_KEEPALIVE** _ defined.</span></span> <span data-ttu-id="0fb2f-1509">_ *_NX_TCP_KEEPALIVE_INITIAL_*\* sembolü, KEEPALIVE çerçevesi başlatılmadan önce geçen işlem yapılmayan saniye sayısını belirtir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1509">The symbol _ *_NX_TCP_KEEPALIVE_INITIAL_*\* specifies the number of seconds of inactivity before the keepalive frame is initiated.</span></span>  

### <a name="tcp-packet-receive"></a><span data-ttu-id="0fb2f-1510">TCP paket alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1510">TCP Packet Receive</span></span>   
<span data-ttu-id="0fb2f-1511">TCP alma paketi işleme (IP Yardımcısı iş parçacığından çağrılır), çeşitli bağlantı ve bağlantı kesme eylemlerinin yanı sıra iletme bildirimi işleme işleminden sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1511">The TCP receive packet processing (called from the IP helper thread) is responsible for handling various connection and disconnection actions as well as transmit acknowledge processing.</span></span> <span data-ttu-id="0fb2f-1512">Ayrıca, TCP alma paketi işleme, uygun TCP yuvasının alma kuyruğuna veri alma veya paketi bekleyen ilk askıya alınan iş parçacığına paket teslim etme işleminden sorumludur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1512">In addition, the TCP receive packet processing is responsible for placing packets with receive data on the appropriate TCP socket's receive queue or delivering the packet to the first suspended thread waiting for a packet.</span></span>

### <a name="tcp-receive-notify"></a><span data-ttu-id="0fb2f-1513">TCP alma bildirimi</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1513">TCP Receive Notify</span></span>     
<span data-ttu-id="0fb2f-1514">Uygulama iş parçacığının birden fazla yuvada alınan verileri işlemesi gerekiyorsa ***nx_tcp_socket_receive_notify*** işlevi kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1514">If the application thread needs to process received data from more than one socket, the ***nx_tcp_socket_receive_notify*** function should be used.</span></span> <span data-ttu-id="0fb2f-1515">Bu işlev, yuva için bir alma paketi geri çağırma işlevi kaydeder.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1515">This function registers a receive packet callback function for the socket.</span></span> <span data-ttu-id="0fb2f-1516">Yuvada her bir paket alındığında geri çağırma işlevi yürütülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1516">Whenever a packet is received on the socket, the callback function is executed.</span></span>  

<span data-ttu-id="0fb2f-1517">Geri çağırma işlevinin içerikleri, applicationspecific; Ancak, işlev büyük olasılıkla işleme iş parçacığını bir paketin ilgili yuvada kullanılabilir olduğunu bildirmek için mantık içerebilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1517">The contents of the callback function are applicationspecific; however, the function would most likely contain logic to inform the processing thread that a packet is available on the corresponding socket.</span></span> 

### <a name="thread-suspension"></a><span data-ttu-id="0fb2f-1518">İş parçacığı askıya alma</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1518">Thread Suspension</span></span>      
<span data-ttu-id="0fb2f-1519">Daha önce belirtildiği gibi, uygulama iş parçacıkları belirli bir TCP bağlantı noktasından veri almaya çalışırken askıya alabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1519">As mentioned previously, application threads can suspend while attempting to receive data from a particular TCP port.</span></span> <span data-ttu-id="0fb2f-1520">Bu bağlantı noktasında bir paket alındıktan sonra, bu, askıya alınan ilk iş parçacığına verilir ve bu iş parçacığı daha sonra sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1520">After a packet is received on that port, it is given to the first thread suspended and that thread is then resumed.</span></span> <span data-ttu-id="0fb2f-1521">Birçok NetX Duo hizmeti için kullanılabilen bir TCP alma paketi üzerinde askıya alma sırasında isteğe bağlı bir zaman aşımı kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1521">An optional timeout is available when suspending on a TCP receive packet, a feature available for most NetX Duo services.</span></span>  

<span data-ttu-id="0fb2f-1522">İş parçacığı askıya alma, bağlantı (istemci ve sunucu), istemci bağlama ve bağlantı kesme hizmetleri için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1522">Thread suspension is also available for connection (both client and server), client binding, and disconnection services.</span></span>  

### <a name="tcp-socket-statistics-and-errors"></a><span data-ttu-id="0fb2f-1523">TCP yuvası Istatistikleri ve hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1523">TCP Socket Statistics and Errors</span></span>     
<span data-ttu-id="0fb2f-1524">Etkinleştirilirse, NetX Duo TCP yuvası yazılımı, uygulama için yararlı olabilecek çeşitli istatistik ve hataları izler.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1524">If enabled, the NetX Duo TCP socket software keeps track of several statistics and errors that may be useful to the application.</span></span> <span data-ttu-id="0fb2f-1525">Her IP/TCP örneği için aşağıdaki istatistikler ve hata raporları korunur:</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1525">The following statistics and error reports are maintained for each IP/TCP instance:</span></span>   

- <span data-ttu-id="0fb2f-1526">Gönderilen toplam TCP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1526">Total TCP Packets Sent</span></span>  
- <span data-ttu-id="0fb2f-1527">Gönderilen toplam TCP bayt sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1527">Total TCP Bytes Sent</span></span>  
- <span data-ttu-id="0fb2f-1528">Toplam alınan TCP paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1528">Total TCP Packets Received</span></span>   
- <span data-ttu-id="0fb2f-1529">Toplam alınan TCP baytı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1529">Total TCP Bytes Received</span></span>   
- <span data-ttu-id="0fb2f-1530">Toplam TCP geçersiz paket sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1530">Total TCP Invalid Packets</span></span>   
- <span data-ttu-id="0fb2f-1531">Bırakılan toplam TCP alma paketi sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1531">Total TCP Receive Packets Dropped</span></span>    
- <span data-ttu-id="0fb2f-1532">Toplam TCP alma sağlama toplamı hatası</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1532">Total TCP Receive Checksum Errors</span></span>   
- <span data-ttu-id="0fb2f-1533">Toplam TCP bağlantısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1533">Total TCP Connections</span></span>   
- <span data-ttu-id="0fb2f-1534">Toplam TCP bağlantısı sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1534">Total TCP Disconnections</span></span>   
- <span data-ttu-id="0fb2f-1535">Bırakılan toplam TCP bağlantısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1535">Total TCP Connections Dropped</span></span>    
- <span data-ttu-id="0fb2f-1536">Toplam TCP paketi yeniden Iletim sayısı</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1536">Total TCP Packet Retransmits</span></span>   
- <span data-ttu-id="0fb2f-1537">Gönderilen TCP yuva paketleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1537">TCP Socket Packets Sent</span></span>   
- <span data-ttu-id="0fb2f-1538">Gönderilen TCP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1538">TCP Socket Bytes Sent</span></span>   
- <span data-ttu-id="0fb2f-1539">Alınan TCP yuvası paketleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1539">TCP Socket Packets Received</span></span>   
- <span data-ttu-id="0fb2f-1540">Alınan TCP yuva baytları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1540">TCP Socket Bytes Received</span></span>   
- <span data-ttu-id="0fb2f-1541">TCP yuvası paketi yeniden aktarımlar</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1541">TCP Socket Packet Retransmits</span></span>    
- <span data-ttu-id="0fb2f-1542">Sıraya alınan TCP yuvası paketleri</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1542">TCP Socket Packets Queued</span></span>    
- <span data-ttu-id="0fb2f-1543">TCP yuvası sağlama toplamı hataları</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1543">TCP Socket Checksum Errors</span></span>    
- <span data-ttu-id="0fb2f-1544">TCP yuva durumu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1544">TCP Socket State</span></span>    
- <span data-ttu-id="0fb2f-1545">TCP yuvası Iletme sırası derinliği</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1545">TCP Socket Transmit Queue Depth</span></span>    
- <span data-ttu-id="0fb2f-1546">TCP yuvası Iletme penceresi boyutu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1546">TCP Socket Transmit Window Size</span></span>    
- <span data-ttu-id="0fb2f-1547">TCP yuvası alma penceresi boyutu</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1547">TCP Socket Receive Window Size</span></span>    

<span data-ttu-id="0fb2f-1548">Tüm bu istatistik ve hata raporları, toplam TCP istatistikleri için ***nx_tcp_info_get** _ hizmeti ve yuva başına TCP istatistikleri için _ *_nx_tcp_socket_info_get_** hizmeti ile uygulama tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1548">All these statistics and error reports are available to the application with the ***nx_tcp_info_get** _ service for total TCP statistics and the _ *_nx_tcp_socket_info_get_** service for TCP statistics per socket.</span></span>

### <a name="tcp-socket-control-block-nx_tcp_socket"></a><span data-ttu-id="0fb2f-1549">TCP yuvası denetim bloğu NX_TCP_SOCKET</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1549">TCP Socket Control Block NX_TCP_SOCKET</span></span>      
<span data-ttu-id="0fb2f-1550">Her TCP yuvasının özellikleri, IP veri yapısına, ağ bağlantı arabirimine, bağlı bağlantı noktasına ve alma paketi kuyruğuna bağlantı gibi yararlı bilgiler içeren ilişkili *NX_TCP_SOCKET* denetim bloğunda bulunur.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1550">The characteristics of each TCP socket are found in the associated *NX_TCP_SOCKET* control block, which contains useful information such as the link to the IP data structure, the network connection interface, the bound port, and the receive packet queue.</span></span> <span data-ttu-id="0fb2f-1551">Bu yapı ***nx_api. h*** dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0fb2f-1551">This structure is defined in the ***nx_api.h*** file.</span></span>